("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.core",["jquery"],function(){return function(c,_,ab){var e,a=_.kendo=_.kendo||{cultures:{}},f=c.extend,t=c.each,ac=c.isArray,k=c.proxy,u=c.noop,ad=Math,g=_.JSON||{},b={},ae=/%/,af=/\{(\d+)(:[^\}]+)?\}/g,ag=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,ah=/^(\+|-?)\d+(\.?)\d*$/,m="function",ai="string",aj="number",ak="object",al="null",am="boolean",an="undefined",ao={},ap={},aq=[].slice,v=function(){var c,f,d,b,g,i,a=arguments[0]||{},e=1,j=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[e]||{},e++),"object"==typeof a||jQuery.isFunction(a)||(a={}),e===j&&(a=this,e--);e<j;e++)if(null!=(g=arguments[e]))for(b in g)"filters"!=b&&"concat"!=b&&":"!=b&&(c=a[b],a!==(d=g[b])&&(h&&d&&(jQuery.isPlainObject(d)||(f=jQuery.isArray(d)))?(i=f?(f=!1,c&&jQuery.isArray(c)?c:[]):c&&jQuery.isPlainObject(c)?c:{},a[b]=v(h,i,d)):d!==ab&&(a[b]=d)));return a};function h(){}function ar(){this._defaultPrevented=!0}function as(){return!0===this._defaultPrevented}a.version="2020.1.305".replace(/^\s+|\s+$/g,""),h.extend=function(a){function e(){}var b,c,g=this,d=a&&a.init?a.init:function(){g.apply(this,arguments)};for(b in e.prototype=g.prototype,c=d.fn=d.prototype=new e,a)null!=a[b]&&a[b].constructor===Object?c[b]=f(!0,{},e.prototype[b],a[b]):c[b]=a[b];return(c.constructor=d).extend=g.extend,d},h.prototype._initOptions=function(a){this.options=o({},this.options,a)};var at=a.isFunction=function(a){return"function"==typeof a},n=h.extend({init:function(){this._events={}},bind:function(a,d,i){var b,f,g,e,c=this,h=typeof a===ai?[a]:a,j=typeof d==m;if(d===ab){for(b in a)c.bind(b,a[b]);return c}for(b=0,f=h.length;b<f;b++)a=h[b],(e=j?d:d[a])&&(i&&(g=e,(e=function(){c.unbind(a,e),g.apply(c,arguments)}).original=g),(c._events[a]=c._events[a]||[]).push(e));return c},one:function(a,b){return this.bind(a,b,!0)},first:function(a,c){var b,d,e,f=typeof a===ai?[a]:a,g=typeof c==m;for(b=0,d=f.length;b<d;b++)a=f[b],(e=g?c:c[a])&&(this._events[a]=this._events[a]||[]).unshift(e);return this},trigger:function(e,a){var b,d,c=this._events[e];if(c){for((a=a||{}).sender=this,a._defaultPrevented=!1,a.preventDefault=ar,a.isDefaultPrevented=as,b=0,d=(c=c.slice()).length;b<d;b++)c[b].call(this,a);return!0===a._defaultPrevented}return!1},unbind:function(c,d){var a,b=this._events[c];if(c===ab)this._events={};else if(b){if(d)for(a=b.length-1;0<=a;a--)b[a]!==d&&b[a].original!==d||b.splice(a,1);else this._events[c]=[]}return this}});function au(a,d){if(d)return"'"+a.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var b=a.charAt(0),c=a.substring(1);return"="===b?"+("+c+")+":":"===b?"+$kendoHtmlEncode("+c+")+":";"+a+";$kendoOutput+="}var av,aw,ax,w,x,y,z,A,B,C,D,E,F,G,$,H,ay=/^\w+/,az=/\$\{([^}]*)\}/g,aA=/\\\}/g,aB=/__CURLY__/g,aC=/\\#/g,aD=/__SHARP__/g,aE=["","0","00","000","0000"];function aF(a,b,c){return(c=(b=b||2)-(a+="").length)?aE[b].substring(0,c)+a:a}function aG(a){return w.lastIndex=0,w.test(a)?'"'+a.replace(w,function(a){var b=x[a];return typeof b===ai?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function aH(a,b,c){return!(b<=a&&a<=c)}function aI(a){return a.charAt(0)}function aJ(a){return c.map(a,aI)}function aK(b){for(var a=0,d=b.length,c=[];a<d;a++)c[a]=(b[a]+"").toLowerCase();return c}function aL(b){var a,c={};for(a in b)c[a]=aK(b[a]);return c}function aM(g,m,J,K){if(!g)return null;function h(b){for(var a=0;m[A]===b;)a++,A++;return 0<a&& --A,a}function l(b){var c=$[b]||new RegExp("^\\d{1,"+b+"}"),a=g.substr(o,b).match(c);return a?(o+=(a=a[0]).length,parseInt(a,10)):null}function t(e,i){for(var f,a,b,c=0,j=e.length,d=0,h=0;c<j;c++)a=(f=e[c]).length,b=g.substr(o,a),i&&(b=b.toLowerCase()),b==f&&d<a&&(d=a,h=c);return d?(o+=d,h+1):null}function u(){var a=!1;return g.charAt(o)===m[A]&&(o++,a=!0),a}var c,b,F,G,H,z,q,v,w,_,j,I,x,e=J.calendars.standard,f=null,n=null,i=null,d=null,p=null,r=null,k=null,A=0,o=0,D=!1,E=new Date,y=e.twoDigitYearMax||2029,s=E.getFullYear();for(m=m||"d",(G=e.patterns[m])&&(m=G),F=(m=m.split("")).length;A<F;A++)if(c=m[A],D)"'"===c?D=!1:u();else if("d"===c){if(b=h("d"),e._lowerDays||(e._lowerDays=aL(e.days)),null!==i&&2<b)continue;if(null===(i=b<3?l(2):t(e._lowerDays[3==b?"namesAbbr":"names"],!0))||aH(i,1,31))return null}else if("M"===c){if(b=h("M"),e._lowerMonths||(e._lowerMonths=aL(e.months)),null===(n=b<3?l(2):t(e._lowerMonths[3==b?"namesAbbr":"names"],!0))||aH(n,1,12))return null;--n}else if("y"===c){if(null===(f=l(b=h("y"))))return null;2==b&&("string"==typeof y&&(y=s+parseInt(y,10)),y<(f=s-s%100+f)&&(f-=100))}else if("h"===c){if(h("h"),12==(d=l(2))&&(d=0),null===d||aH(d,0,11))return null}else if("H"===c){if(h("H"),null===(d=l(2))||aH(d,0,23))return null}else if("m"===c){if(h("m"),null===(p=l(2))||aH(p,0,59))return null}else if("s"===c){if(h("s"),null===(r=l(2))||aH(r,0,59))return null}else if("f"===c){if(b=h("f"),I=g.substr(o,b).match($[3]),null!==(k=l(b))&&(k=parseFloat("0."+I[0],10),k=a._round(k,3),k*=1e3),null===k||aH(k,0,999))return null}else if("t"===c){if(b=h("t"),v=e.AM,w=e.PM,1===b&&(v=aJ(v),w=aJ(w)),!(H=t(w))&&!t(v))return null}else if("z"===c){if(z=!0,b=h("z"),"Z"===g.substr(o,1)){u();continue}if(!(q=g.substr(o,6).match(2<b?C:B))||(_=(q=q[0].split(":"))[0],(j=q[1])||!(3<_.length)||(o=_.length-2,j=_.substring(o),_=_.substring(0,o)),aH(_=parseInt(_,10),-12,13))||2<b&&(j=parseInt(j=q[0][0]+j,10),isNaN(j)||aH(j,-59,59)))return null}else if("'"===c)D=!0,u();else if(!u())return null;return K&&!/^\s*$/.test(g.substr(o))?null:(null===f&&null===n&&null===i&&(null!==d||null!==p||r)?(f=s,n=E.getMonth(),i=E.getDate()):(null===f&&(f=s),null===i&&(i=1)),H&&d<12&&(d+=12),z?(_&&(d+=-_),j&&(p+=-j),g=new Date(Date.UTC(f,n,i,d,p,r,k))):(x=g=new Date(f,n,i,d,p,r,k),d||23!==x.getHours()||x.setHours(x.getHours()+2)),f<100&&g.setFullYear(f),g.getDate()!==i&&z===ab?null:g)}function aN(c,d,g,k){if("[object Date]"===H.call(c))return c;var i,f,e,j,h=0,b=null;if(c&&0===c.indexOf("/D")&&(b=D.exec(c)))return b=b[1],f=E.exec(b.substring(1)),b=new Date(parseInt(b,10)),f&&(j="-"===(e=f[0]).substr(0,1)?-1:1,e=e.substring(1),f=j*(e=60*parseInt(e.substr(0,2),10)+parseInt(e.substring(2),10)),b=a.timezone.apply(b,0),b=a.timezone.convert(b,0,-1*f)),b;for(g=a.getCulture(g),i=(d=ac(d=d||function(e){var d,b,a,f=ad.max(F.length,G.length),g=(e.calendar||e.calendars.standard).patterns,c=[];for(a=0;a<f;a++){for(d=F[a],b=0;b<d.length;b++)c.push(g[d[b]]);c=c.concat(G[a])}return c}(g))?d:[d]).length;h<i&&!(b=aM(c,d[h],g,k));h++);return b}function aO(b,f){var d=a._outerWidth,g=a._outerHeight,c=b.parent(".k-animation-container"),e=c[0].style;c.is(":hidden")&&c.css({display:"",position:""}),ae.test(e.width)||ae.test(e.height)||c.css({width:f?d(b)+1:d(b),height:g(b),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}function o(b){var a=1,c=arguments.length;for(a=1;a<c;a++)aP(b,arguments[a]);return b}function aP(e,g){var c,b,h,d,f,i=a.data.ObservableArray,j=a.data.LazyObservableArray,k=a.data.DataSource,l=a.data.HierarchicalDataSource;for(c in g)!(d=(h=typeof(b=g[c]))===ak&&null!==b?b.constructor:null)||d===Array||d===i||d===j||d===k||d===l||d===RegExp||a.isFunction(_.ArrayBuffer)&&d===ArrayBuffer?h!==an&&(e[c]=b):b instanceof Date?e[c]=new Date(b.getTime()):at(b.clone)?e[c]=b.clone():(f=e[c],e[c]=typeof f===ak&&f||{},aP(e[c],b));return e}function aQ(c,a,d){for(var b in a)if(a.hasOwnProperty(b)&&a[b].test(c))return b;return d!==ab?d:c}function I(a){return a.replace(/\-(\w)/g,function(b,a){return a.toUpperCase()})}function J(f,b){var d,e={};return document.defaultView&&document.defaultView.getComputedStyle?(d=document.defaultView.getComputedStyle(f,""),b&&c.each(b,function(b,a){e[a]=d.getPropertyValue(a)})):(d=f.currentStyle,b&&c.each(b,function(b,a){e[a]=d[I(a)]})),a.size(e)||(e=d),e}e={paramName:"data",useWithBlock:!0,render:function(e,b){var a,c,d="";for(a=0,c=b.length;a<c;a++)d+=e(b[a]);return d},compile:function(d,k){var g,e,c,h=f({},this,k),i=h.paramName,l=i.match(ay)[0],j=h.useWithBlock,b="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(at(d))return d;for(b+=j?"with("+i+"){":"",b+="$kendoOutput=",e=d.replace(aA,"__CURLY__").replace(az,"#=$kendoHtmlEncode($1)#").replace(aB,"}").replace(aC,"__SHARP__").split("#"),c=0;c<e.length;c++)b+=au(e[c],c%2==0);b+=j?";}":";",b=(b+="return $kendoOutput;").replace(aD,"#");try{return(g=new Function(l,b))._slotCount=Math.floor(e.length/2),g}catch(m){throw new Error(a.format("Invalid template:'{0}' Generated code:'{1}'",d,b))}}},w=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,x={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y=({}).toString,typeof Date.prototype.toJSON!=m&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?aF(this.getUTCFullYear(),4)+"-"+aF(this.getUTCMonth()+1)+"-"+aF(this.getUTCDate())+"T"+aF(this.getUTCHours())+":"+aF(this.getUTCMinutes())+":"+aF(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof g.stringify!=m&&(g.stringify=function(d,a,b){var c;if(aw=av="",typeof b==aj)for(c=0;c<b;c+=1)aw+=" ";else typeof b===ai&&(aw=b);if((ax=a)&& typeof a!=m&&(typeof a!==ak|| typeof a.length!=aj))throw new Error("JSON.stringify");return function i(j,k){var b,e,d,g,c,f,h=av,a=k[j];if(a&& typeof a===ak&& typeof a.toJSON==m&&(a=a.toJSON(j)),typeof ax==m&&(a=ax.call(k,j,a)),(f=typeof a)===ai)return aG(a);if(f==aj)return isFinite(a)?String(a):al;if(f===am||f==al)return String(a);if(f===ak){if(!a)return al;if(av+=aw,c=[],"[object Array]"===y.apply(a)){for(g=a.length,b=0;b<g;b++)c[b]=i(b,a)||al;return d=0===c.length?"[]":av?"[\n"+av+c.join(",\n"+av)+"\n"+h+"]":"["+c.join(",")+"]",av=h,d}if(ax&& typeof ax===ak)for(g=ax.length,b=0;b<g;b++)typeof ax[b]===ai&&(d=i(e=ax[b],a))&&c.push(aG(e)+(av?": ":":")+d);else for(e in a)Object.hasOwnProperty.call(a,e)&&(d=i(e,a))&&c.push(aG(e)+(av?": ":":")+d);return d=0===c.length?"{}":av?"{\n"+av+c.join(",\n"+av)+"\n"+h+"}":"{"+c.join(",")+"}",av=h,d}}("",{"":d})}),function(){var h=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,i=/^(n|c|p|e)(\d*)$/i,j=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,k=/\,/g,l=".",b="en-US",m={}.toString;function d(b){if(b){if(b.numberFormat)return b;if(typeof b!==ai)return null;var c=a.cultures;return c[b]||c[b.split("-")[0]]||null}return null}function e(b){return(b=b&&d(b))||a.cultures.current}function n(b,h,e,g){var c,i,a,f,j,k,m=b.indexOf(g[l]),n=g.groupSize.slice(),d=n.shift();if(e=-1!==m?m:e+1,d<=(i=(c=b.substring(h,e)).length)){for(a=i,f=[];-1<a;)if((j=c.substring(a-d,a))&&f.push(j),a-=d,0===(d=(k=n.shift())!==ab?k:d)){0<a&&f.push(c.substring(0,a));break}c=f.reverse().join(g[","]),b=b.substring(0,h)+c+b.substring(e)}return b}function f(a,b,c){return b=b||0,a=Math.round(+((a=a.toString().split("e"))[0]+"e"+(a[1]?+a[1]+b:b))),c&&(a=-a),(a=+((a=a.toString().split("e"))[0]+"e"+(a[1]?a[1]-b:-b))).toFixed(Math.min(b,20))}function g(a,c,g){var o,b,d,p,q;if(c){if("[object Date]"===m.call(a))return o=a,b=c,p=(d=e(g).calendars.standard).days,q=d.months,(b=d.patterns[b]||b).replace(h,function(b){var c,a,e;return"d"===b?a=o.getDate():"dd"===b?a=aF(o.getDate()):"ddd"===b?a=p.namesAbbr[o.getDay()]:"dddd"===b?a=p.names[o.getDay()]:"M"===b?a=o.getMonth()+1:"MM"===b?a=aF(o.getMonth()+1):"MMM"===b?a=q.namesAbbr[o.getMonth()]:"MMMM"===b?a=q.names[o.getMonth()]:"yy"===b?a=aF(o.getFullYear()%100):"yyyy"===b?a=aF(o.getFullYear(),4):"h"===b?a=o.getHours()%12||12:"hh"===b?a=aF(o.getHours()%12||12):"H"===b?a=o.getHours():"HH"===b?a=aF(o.getHours()):"m"===b?a=o.getMinutes():"mm"===b?a=aF(o.getMinutes()):"s"===b?a=o.getSeconds():"ss"===b?a=aF(o.getSeconds()):"f"===b?a=ad.floor(o.getMilliseconds()/100):"ff"===b?(99<(a=o.getMilliseconds())&&(a=ad.floor(a/10)),a=aF(a)):"fff"===b?a=aF(o.getMilliseconds(),3):"tt"===b?a=12>o.getHours()?d.AM[0]:d.PM[0]:"zzz"===b?(e=(c=o.getTimezoneOffset())<0,a=ad.abs(c/60).toString().split(".")[0],c=ad.abs(c)-60*a,a=(e?"+":"-")+aF(a),a+=":"+aF(c)):"zz"!==b&&"z"!==b||(e=(a=o.getTimezoneOffset()/60)<0,a=ad.abs(a).toString().split(".")[0],a=(e?"+":"-")+("zz"===b?aF(a):a)),a!==ab?a:b.slice(1,b.length-1)});if(typeof a==aj)return function(b,a,C){var y,u,w,D,E,r,h,z,c,q,o,K,F,m,_,d,A,G,L,v,g=(C=e(C)).numberFormat,B=g[l],x=g.decimals,H=g.pattern[0],M=[],p=b<0,I="",s="",t=-1;if(b===ab)return"";if(!isFinite(b))return b;if(!a)return C.name.length?b.toLocaleString():b.toString();if(E=i.exec(a)){if(w="p"===(a=E[1].toLowerCase()),((u="c"===a)||w)&&(B=(g=u?g.currency:g.percent)[l],x=g.decimals,y=g.symbol,H=g.pattern[p?0:1]),(D=E[2])&&(x=+D),"e"===a)return(D?b.toExponential(x):b.toExponential()).replace(l,g[l]);if(w&&(b*=100),p=(b=f(b,x))<0,r=(b=b.split(l))[0],h=b[1],p&&(r=r.substring(1)),s=n(r,0,r.length,g),h&&(s+=B+h),"n"===a&&!p)return s;for(b="",c=0,q=H.length;c<q;c++)b+="n"===(o=H.charAt(c))?s:"$"===o||"%"===o?y:o;return b}if((-1<a.indexOf("'")|| -1<a.indexOf('"')|| -1<a.indexOf("\\"))&&(a=a.replace(j,function(a){var b=a.charAt(0).replace("\\",""),c=a.slice(1).replace(b,"");return M.push(c),"??"})),a=a.split(";"),p&&a[1])a=a[1],F=!0;else if(0===b&&a[2]){if(-1==(a=a[2]).indexOf("#")&& -1==a.indexOf("0"))return a}else a=a[0];if((w=-1!=a.indexOf("%"))&&(b*=100),(u=-1!=(L=a.indexOf("$")))&&"\\"===a[L-1]&&(a=a.split("\\").join(""),u=!1),(u||w)&&(B=(g=u?g.currency:g.percent)[l],x=g.decimals,y=g.symbol),(K=-1<a.indexOf(","))&&(a=a.replace(k,"")),m=a.indexOf(l),q=a.length,-1!=m){if(h=(h=(h=b.toString().split("e"))[1]?f(b,Math.abs(h[1])):h[0]).split(l)[1]||"",A=-1<(d=a.lastIndexOf("0")-m),G=-1<(_=a.lastIndexOf("#")-m),c=h.length,A||G||(q=(a=a.substring(0,m)+a.substring(m+1)).length,m=-1,c=0),A&&_<d)c=d;else if(d<_){if(G&&_<c){for(var J=f(b,_,p);"0"===J.charAt(J.length-1)&&0<_&&d<_;)J=f(b,--_,p);c=_}else A&&c<d&&(c=d)}}if(b=f(b,c,p),_=a.indexOf("#"),d=a.indexOf("0"),t=-1==_&& -1!=d||(-1==_|| -1!=d)&&d<_?d:_,_=a.lastIndexOf("#"),d=a.lastIndexOf("0"),v=(-1!=_|| -1==d)&&(-1!=_&& -1==d||d<_)?_:d,t==q&&(v=t),-1!=t){for(r=(s=b.toString().split(l))[0],h=s[1]||"",z=r.length,h.length,p&&0<= -1*b&&(p=!1),b=a.substring(0,t),p&&!F&&(b+="-"),c=t;c<q;c++){if(o=a.charAt(c),-1==m){if(v-c<z){b+=r;break}}else if(-1!=d&&d<c&&(I=""),m-c<=z&& -1<m-c&&(b+=r,c=m),m===c){b+=(h?B:"")+h,c+=v-m+1;continue}"0"===o?(b+=o,I=o):"#"===o&&(b+=I)}if(K&&(b=n(b,t+(p&&!F?1:0),Math.max(v,z+t),g)),t<=v&&(b+=a.substring(v+1)),u||w){for(s="",c=0,q=b.length;c<q;c++)s+="$"===(o=b.charAt(c))||"%"===o?y:o;b=s}if(q=M.length)for(c=0;c<q;c++)b=b.replace("??",M[c])}return b}(a,c,g)}return a!==ab?a:""}a.cultures["en-US"]={name:b,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},a.culture=function(f){var c,e=a.cultures;if(f===ab)return e.current;(c=d(f)||e[b]).calendar=c.calendars.standard,e.current=c},a.findCulture=d,a.getCulture=e,a.culture(b),a.format=function(a){var b=arguments;return a.replace(af,function(e,c,a){var d=b[parseInt(c,10)+1];return g(d,a?a.substring(1):"")})},a._extractFormat=function(a){return"{0:"===a.slice(0,3)&&(a=a.slice(3,a.length-1)),a},a._activeElement=function(){try{return document.activeElement}catch(a){return document.documentElement.activeElement}},a._round=f,a._outerWidth=function(a,b){return c(a).outerWidth(b||!1)||0},a._outerHeight=function(a,b){return c(a).outerHeight(b||!1)||0},a.toString=g}(),z=/\u00A0/g,A=/[eE][\-+]?[0-9]+/,B=/[+|\-]\d{1,2}/,C=/[+|\-]\d{1,2}:?\d{2}/,D=/^\/Date\((.*?)\)\/$/,E=/[+-]\d*/,F=[[],["G","g","F"],["D","d","y","m","T","t"]],G=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss",],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"],],$={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},H=({}).toString,a.parseDate=function(a,b,c){return aN(a,b,c,!1)},a.parseExactDate=function(a,b,c){return aN(a,b,c,!0)},a.parseInt=function(c,d){var b=a.parseFloat(c,d);return b&&(b|=0),b},a.parseFloat=function(b,g,h){if(!b&&0!==b)return null;if(typeof b==aj)return b;b=b.toString();var d,i,c=(g=a.getCulture(g)).numberFormat,j=c.percent,k=c.currency,f=k.symbol,l=j.symbol,e=b.indexOf("-");return A.test(b)?(b=parseFloat(b.replace(c["."],".")),isNaN(b)&&(b=null),b):0<e?null:(e=-1<e,-1<b.indexOf(f)||h&& -1<h.toLowerCase().indexOf("c")?(d=(c=k).pattern[0].replace("$",f).split("n"),-1<b.indexOf(d[0])&& -1<b.indexOf(d[1])&&(b=b.replace(d[0],"").replace(d[1],""),e=!0)):-1<b.indexOf(l)&&(i=!0,c=j,f=l),b=b.replace("-","").replace(f,"").replace(z," ").split(c[","].replace(z," ")).join("").replace(c["."],"."),b=parseFloat(b),isNaN(b)?b=null:e&&(b*=-1),b&&i&&(b/=100),b)},function(){b._scrollbar=ab,b.scrollbar=function(d){if(isNaN(b._scrollbar)||d){var c,a=document.createElement("div");return a.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",a.innerHTML="&nbsp;",document.body.appendChild(a),b._scrollbar=c=a.offsetWidth-a.scrollWidth,document.body.removeChild(a),c}return b._scrollbar},b.isRtl=function(a){return 0<c(a).closest(".k-rtl").length};var i=document.createElement("table");try{i.innerHTML="<tr><td></td></tr>",b.tbodyInnerHtml=!0}catch(s){b.tbodyInnerHtml=!1}b.touch="ontouchstart"in _;var f=document.documentElement.style,n=b.transitions=!1,o=b.transforms=!1,g="HTMLElement"in _?HTMLElement.prototype:[];b.hasHW3D="WebKitCSSMatrix"in _&&"m11"in new _.WebKitCSSMatrix||"MozPerspective"in f||"msPerspective"in f,b.cssFlexbox="flexWrap"in f||"WebkitFlexWrap"in f||"msFlexWrap"in f,t(["Moz","webkit","O","ms"],function(){var b=this.toString(),c=typeof i.style[b+"Transition"]===ai;if(c|| typeof i.style[b+"Transform"]===ai){var a=b.toLowerCase();return o={css:"ms"!=a?"-"+a+"-":"",prefix:b,event:"o"===a||"webkit"===a?a:""},c&&((n=o).event=n.event?n.event+"TransitionEnd":"transitionend"),!1}}),i=null,b.transforms=o,b.transitions=n,b.devicePixelRatio=_.devicePixelRatio===ab?1:_.devicePixelRatio;try{b.screenWidth=_.outerWidth||_.screen?_.screen.availWidth:_.innerWidth,b.screenHeight=_.outerHeight||_.screen?_.screen.availHeight:_.innerHeight}catch(u){b.screenWidth=_.screen.availWidth,b.screenHeight=_.screen.availHeight}b.detectOS=function(e){var d,a=!1,f=[],h=!/mobile safari/i.test(e),g={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},i={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},j={tablet:/playbook|ipad|fire/i},k={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var c in g)if(g.hasOwnProperty(c)&&(f=e.match(g[c]))){if("windows"==c&&"plugins"in navigator)return!1;(a={}).device=c,a.tablet=aQ(c,j,!1),a.browser=aQ(e,k,"default"),a.name=aQ(c,i),a[a.name]=!0,a.majorVersion=f[2],a.minorVersion=(f[3]||"0").replace("_","."),d=a.minorVersion.replace(".","").substr(0,2),a.flatVersion=a.majorVersion+d+new Array(3-(d.length<3?d.length:2)).join("0"),a.cordova=typeof _.PhoneGap!==an|| typeof _.cordova!==an,a.appMode=_.navigator.standalone||/file|local|wmapp/.test(_.location.protocol)||a.cordova,a.android&&(b.devicePixelRatio<1.5&&a.flatVersion<400||h)&&(800<b.screenWidth||800<b.screenHeight)&&(a.tablet=c);break}return a};var d,a,j,k,e=b.mobileOS=b.detectOS(navigator.userAgent);b.wpDevicePixelRatio=e.wp?screen.width/320:0,b.hasNativeScrolling=!1,(e.ios||e.android&&2<e.majorVersion||e.wp)&&(b.hasNativeScrolling=e),b.delayedClick=function(){if(b.touch){if(e.ios)return!0;if(e.android)return!b.browser.chrome|| !(b.browser.version<32)&&!(c("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}return!1},b.mouseAndTouchPresent=b.touch&&!(b.mobileOS.ios||b.mobileOS.android),b.detectBrowser=function(e){var a=!1,b=[],c={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var d in c)if(c.hasOwnProperty(d)&&(b=e.match(c[d]))){(a={})[d]=!0,a[b[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,a.version=parseInt(document.documentMode||b[2],10);break}return a},b.browser=b.detectBrowser(navigator.userAgent),b.detectClipboardAccess=function(){var a={copy:!!document.queryCommandSupported&&document.queryCommandSupported("copy"),cut:!!document.queryCommandSupported&&document.queryCommandSupported("cut"),paste:!!document.queryCommandSupported&&document.queryCommandSupported("paste")};return b.browser.chrome&&(a.paste=!1,43<=b.browser.version&&(a.copy=!0,a.cut=!0)),a},b.clipboard=b.detectClipboardAccess(),b.zoomLevel=function(){try{var a=b.browser,d=0,c=document.documentElement;return a.msie&&11==a.version&&c.scrollHeight>c.clientHeight&&!b.touch&&(d=b.scrollbar()),b.touch?c.clientWidth/_.innerWidth:a.msie&&10<=a.version?((top||_).document.documentElement.offsetWidth+d)/(top||_).innerWidth:1}catch(e){return 1}},b.cssBorderSpacing=void 0!==f.borderSpacing&&!(b.browser.msie&&b.browser.version<8),d=b.browser,a="",j=c(document.documentElement),k=parseInt(d.version,10),d.msie?a="ie":d.mozilla?a="ff":d.safari?a="safari":d.webkit?a="webkit":d.opera?a="opera":d.edge&&(a="edge"),a=a&&"k-"+a+" k-"+a+k,b.mobileOS&&(a+=" k-mobile"),b.cssFlexbox||(a+=" k-no-flexbox"),j.addClass(a),b.eventCapture=document.documentElement.addEventListener;var h=document.createElement("input");b.placeholder="placeholder"in h,b.propertyChangeEvent="onpropertychange"in h,b.input=function(){for(var a,c=["number","date","time","month","week","datetime","datetime-local"],e=c.length,d={},b=0;b<e;b++)a=c[b],h.setAttribute("type",a),h.value="test",d[a.replace("-","")]="text"!==h.type&&"test"!==h.value;return d}(),h.style.cssText="float:left;",b.cssFloat=!!h.style.cssFloat,h=null,b.stableSort=function(){for(var a=[{index:0,field:"b"}],b=1;b<513;b++)a.push({index:b,field:"a"});return a.sort(function(a,b){return a.field>b.field?1:a.field<b.field?-1:0}),1===a[0].index}(),b.matchesSelector=g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector||g.matchesSelector||g.matches||function(a){for(var b=document.querySelectorAll?(this.parentNode||document).querySelectorAll(a)||[]:c(a),d=b.length;d--;)if(b[d]==this)return!0;return!1},b.matchMedia="matchMedia"in _,b.pushState=_.history&&_.history.pushState;var l=document.documentMode;b.hashChange="onhashchange"in _&&!(b.browser.msie&&(!l||l<=8)),b.customElements="registerElement"in _.document;var m=b.browser.chrome,p=b.browser.crios,q=b.browser.mozilla,r=b.browser.safari;b.msPointers=!m&&_.MSPointerEvent,b.pointers=!m&&!p&&!q&&!r&&_.PointerEvent,b.kineticScrollNeeded=e&&(b.touch||b.msPointers||b.pointers)}();var i={};function K(a,g,h,j,k){for(var d,b=0,e=a.length;b<e;b++)(d=c(a[b])).queue(function(){var c,a,b,e;i.promise(d,(a=h,b=j,e=k,typeof(c=g)===ai&&(at(a)&&(e=a,b=(a=400,!1)),at(b)&&(e=b,b=!1),typeof a===am&&(b=a,a=400),c={effects:c,duration:a,reverse:b,complete:e}),f({effects:{},duration:400,reverse:!1,init:u,teardown:u,hide:!1},c,{completeCallback:c.complete,complete:u})))});return a}c.extend(i,{enabled:!0,Element:function(a){this.element=c(a)},promise:function(a,b){a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.hide&&a.data("olddisplay",a.css("display")).hide(),b.init&&b.init(),b.completeCallback&&b.completeCallback(a),a.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),i.promiseShim=i.promise,"kendoAnimate"in c.fn||f(c.fn,{kendoStop:function(a,b){return this.stop(a,b)},kendoAnimate:function(a,b,c,d){return K(this,a,b,c,d)},kendoAddClass:function(b,c){return a.toggleClass(this,b,c,!0)},kendoRemoveClass:function(b,c){return a.toggleClass(this,b,c,!1)},kendoToggleClass:function(b,c,d){return a.toggleClass(this,b,c,d)}});var aR=/&/g,aS=/</g,aT=/"/g,aU=/'/g,aV=/>/g,p=function(a){return a.target};b.touch&&(p=function(a){var b="originalEvent"in a?a.originalEvent.changedTouches:"changedTouches"in a?a.changedTouches:null;return b?document.elementFromPoint(b[0].clientX,b[0].clientY):a.target},t(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(b,a){c.fn[a]=function(b){return this.bind(a,b)}})),b.touch?b.mobileOS?(b.mousedown="touchstart",b.mouseup="touchend",b.mousemove="touchmove",b.mousecancel="touchcancel",b.click="touchend",b.resize="orientationchange"):(b.mousedown="mousedown touchstart",b.mouseup="mouseup touchend",b.mousemove="mousemove touchmove",b.mousecancel="mouseleave touchcancel",b.click="click",b.resize="resize"):b.pointers?(b.mousemove="pointermove",b.mousedown="pointerdown",b.mouseup="pointerup",b.mousecancel="pointercancel",b.click="pointerup",b.resize="orientationchange resize"):b.msPointers?(b.mousemove="MSPointerMove",b.mousedown="MSPointerDown",b.mouseup="MSPointerUp",b.mousecancel="MSPointerCancel",b.click="MSPointerUp",b.resize="orientationchange resize"):(b.mousemove="mousemove",b.mousedown="mousedown",b.mouseup="mouseup",b.mousecancel="mouseleave",b.click="click",b.resize="resize");var aW=/^([a-z]+:)?\/\//i;f(a,{widgets:[],_widgetRegisteredCallbacks:[],ui:a.ui||{},fx:a.fx||function(b){return new a.effects.Element(b)},effects:a.effects||i,mobile:a.mobile||{},data:a.data||{},dataviz:a.dataviz||{},drawing:a.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:a.support||b,animate:a.animate||K,ns:"",attr:function(b){return"data-"+a.ns+b},getShadows:function(d){var e=d.css(a.support.transitions.css+"box-shadow")||d.css("box-shadow"),b=e&&e.match(ag)||[0,0,0,0,0],c=ad.max(+b[3],+(b[4]||0));return{left:-b[1]+c,right:+b[1]+c,bottom:+b[2]+c}},wrap:function(d,e){var j,k=b.browser,g=a._outerWidth,n=a._outerHeight,f=d.parent(),o=g(_);if(f.removeClass("k-animation-container-sm"),f.hasClass("k-animation-container"))aO(d,e);else{var h=d[0].style.width,i=d[0].style.height,l=ae.test(h),m=ae.test(i),p=d.hasClass("k-tooltip")||d.is(".k-menu-horizontal.k-context-menu");j=l||m,!l&&(!e||e&&h||p)&&(h=e?g(d)+1:g(d)),(!m&&(!e||e&&i)||d.is(".k-menu-horizontal.k-context-menu"))&&(i=n(d)),d.wrap(c("<div/>").addClass("k-animation-container").css({width:h,height:i})),f=d.parent(),j&&d.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return o<g(f)&&(f.addClass("k-animation-container-sm"),aO(d,e)),k.msie&&7>=ad.floor(k.version)&&(d.css({zoom:1}),d.children(".k-menu").width(d.width())),f},deepExtend:o,getComputedStyles:J,isScrollable:function(a){if(a&&a.className&&"string"==typeof a.className&& -1<a.className.indexOf("k-auto-scrollable"))return!0;var b=J(a,["overflow"]).overflow;return"auto"==b||"scroll"==b},scrollLeft:function(d,e){var f,g=b.browser.webkit,h=b.browser.mozilla,a=d instanceof c?d[0]:d;if(d){if(f=b.isRtl(d),e===ab)return f&&g?a.scrollWidth-a.clientWidth-a.scrollLeft:Math.abs(a.scrollLeft);a.scrollLeft=f&&g?a.scrollWidth-a.clientWidth-e:f&&h?-e:e}},size:function(b){var a,c=0;for(a in b)b.hasOwnProperty(a)&&"toJSON"!=a&&c++;return c},toCamelCase:I,toHyphens:function(a){return a.replace(/([a-z][A-Z])/g,function(a){return a.charAt(0)+"-"+a.charAt(1).toLowerCase()})},getOffset:a.getOffset||function(d,e,f){var a=d[e=e||"offset"](),c={top:a.top,right:a.right,bottom:a.bottom,left:a.left};if(b.browser.msie&&(b.pointers||b.msPointers)&&!f){var g=b.isRtl(d)?1:-1;c.top-=_.pageYOffset-document.documentElement.scrollTop,c.left-=_.pageXOffset+g*document.documentElement.scrollLeft}return c},parseEffects:a.parseEffects||function(a){var b={};return t("string"==typeof a?a.split(" "):a,function(a){b[a]=this}),b},toggleClass:a.toggleClass||function(b,a,c,d){return a&&t(a=a.split(" "),function(c,a){b.toggleClass(a,d)}),b},directions:a.directions||{left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}},Observable:n,Class:h,Template:e,template:k(e.compile,e),render:k(e.render,e),stringify:k(g.stringify,g),eventTarget:p,htmlEncode:function(a){return(""+a).replace(aR,"&amp;").replace(aS,"&lt;").replace(aV,"&gt;").replace(aT,"&quot;").replace(aU,"&#39;")},unescape:function(b){var a;try{a=_.decodeURIComponent(b)}catch(c){a=b.replace(/%u([\dA-F]{4})|%([\dA-F]{2})/gi,function(c,a,b){return String.fromCharCode(parseInt("0x"+(a||b),16))})}return a},isLocalUrl:function(a){return a&&!aW.test(a)},expr:function(a,c,b){return typeof c==ai&&(b=c,c=!1),b=b||"d",(a=a||"")&&"["!==a.charAt(0)&&(a="."+a),a=c?(a=function(f,h){var c,b,d,a,g=h||"d",e=1;for(b=0,d=f.length;b<d;b++)""!==(a=f[b])&&(0!==(c=a.indexOf("["))&&(a=-1==c?"."+a:(e++,"."+a.substring(0,c)+" || {})"+a.substring(c))),e++,g+=a+(b<d-1?" || {})":")"));return new Array(e).join("(")+g}((a=(a=a.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"')).replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'")).split("."),b)).replace(/_\$DOT\$_/g,"."):b+a},getter:function(b,c){var d=b+c;return ao[d]=ao[d]||new Function("d","return "+a.expr(b,c))},setter:function(b){return ap[b]=ap[b]||new Function("d,value",a.expr(b)+"=value")},accessor:function(b){return{get:a.getter(b),set:a.setter(b)}},guid:function(){var a,b,c="";for(a=0;a<32;a++)b=16*ad.random()|0,8!=a&&12!=a&&16!=a&&20!=a||(c+="-"),c+=(12==a?4:16==a?3&b|8:b).toString(16);return c},roleSelector:function(b){return b.replace(/(\S+)/g,"["+a.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(c){var a=c.split(" ");if(a)for(var b=0;b<a.length;b++)"view"!=a[b]&&(a[b]=a[b].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return a.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(a){return/^(label|input|textarea|select)$/i.test(a.target.tagName)},onWidgetRegistered:function(c){for(var b=0,d=a.widgets.length;b<d;b++)c(a.widgets[b]);a._widgetRegisteredCallbacks.push(c)},logToConsole:function(c,d){var b=_.console;!a.suppressLog&& void 0!==b&&b.log&&b[d||"log"](c)}});var l=n.extend({init:function(e,b){var c=this;c.element=a.jQuery(e).handler(c),c.angular("init",b),n.fn.init.call(c);var d=b?b.dataSource:null;d&&(b=f({},b,{dataSource:{}})),b=c.options=f(!0,{},c.options,b),d&&(b.dataSource=d),c.element.attr(a.attr("role"))||c.element.attr(a.attr("role"),(b.name||"").toLowerCase()),c.element.data("kendo"+b.prefix+b.name,c),c.bind(c.events,b)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(a){a=a||this.wrapper;var c=this.element,b="tabindex",d=a.attr(b)||c.attr(b);c.removeAttr(b),a.attr(b,isNaN(d)?0:d)},setOptions:function(a){this._setEvents(a),c.extend(this.options,a)},_setEvents:function(c){for(var a,b=0,d=this.events.length;b<d;b++)a=this.events[b],this.options[a]&&c[a]&&(this.unbind(a,this.options[a]),this._events&&this._events[a]&&delete this._events[a]);this.bind(this.events,c)},resize:function(c){var a=this.getSize(),b=this._size;(c||(0<a.width||0<a.height)&&(!b||a.width!==b.width||a.height!==b.height))&&(this._size=a,this._resize(a,c),this.trigger("resize",a))},getSize:function(){return a.dimensions(this.element)},size:function(a){if(!a)return this.getSize();this.setSize(a)},setSize:c.noop,_resize:c.noop,destroy:function(){this.element.removeData("kendo"+this.options.prefix+this.options.name),this.element.removeData("handler"),this.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(a){this._muteRebind=!0,a.call(this),this._muteRebind=!1}}),q=l.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(a){var b=this;b.angular(a,function(){return{elements:b.items(),data:c.map(b.dataItems(),function(a){return{dataItem:a}})}})}});a.dimensions=function(a,b){var c=a[0];return b&&a.css(b),{width:c.offsetWidth,height:c.offsetHeight}},a.notify=u;var aX=/template$/i,aY=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,aZ=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,a$=/([A-Z])/g;function a_(d,c){var b;return 0===c.indexOf("data")&&(c=(c=c.substring(4)).charAt(0).toLowerCase()+c.substring(1)),c=c.replace(a$,"-$1"),null===(b=d.getAttribute("data-"+a.ns+c))?b=ab:"null"===b?b=null:"true"===b?b=!0:"false"===b?b=!1:ah.test(b)&&"mask"!=c?b=parseFloat(b):aY.test(b)&&!aZ.test(b)&&(b=new Function("return ("+b+")")()),b}function L(e,h,f){var d,b,g={},i=e.getAttribute("data-"+a.ns+"role");for(d in h)(b=a_(e,d))!==ab&&(aX.test(d)&&"drawer"!=i&&("string"==typeof b?c("#"+b).length?b=a.template(c("#"+b).html()):f&&(b=a.template(f[b])):b=e.getAttribute(d)),g[d]=b);return g}function a0(a,b){return c.contains(a,b)?-1:1}function a1(){var b=c(this);return -1<c.inArray(b.attr("data-"+a.ns+"role"),["slider","rangeslider","breadcrumb"])||b.is(":visible")}a.initWidget=function(b,e,f){var g,m,d,j,n,h,o,i,p,q;if(f?f.roles&&(f=f.roles):f=a.ui.roles,h=(b=b.nodeType?b:b[0]).getAttribute("data-"+a.ns+"role")){d=(p=-1===h.indexOf("."))?f[h]:a.getter(h)(_);var l=c(b).data(),r=d?"kendo"+d.fn.options.prefix+d.fn.options.name:"";for(var k in q=p?new RegExp("^kendo.*"+h+"$","i"):new RegExp("^"+r+"$","i"),l)if(k.match(q)){if(k!==r)return l[k];g=l[k]}if(d){for(i=a_(b,"dataSource"),e=c.extend({},L(b,d.fn.options),e),i&&(e.dataSource=typeof i===ai?a.getter(i)(_):i),j=0,n=d.fn.events.length;j<n;j++)(o=a_(b,m=d.fn.events[j]))!==ab&&(e[m]=a.getter(o)(_));return g?c.isEmptyObject(e)||g.setOptions(e):g=new d(b,e),g}}},a.rolesFromNamespaces=function(c){var b,d,e=[];for(c[0]||(c=[a.ui,a.dataviz.ui]),b=0,d=c.length;b<d;b++)e[b]=c[b].roles;return f.apply(null,[{}].concat(e.reverse()))},a.init=function(b){var d=a.rolesFromNamespaces(aq.call(arguments,1));c(b).find("[data-"+a.ns+"role]").addBack().each(function(){a.initWidget(this,{},d)})},a.destroy=function(b){c(b).find("[data-"+a.ns+"role]").addBack().each(function(){var a=c(this).data();for(var b in a)0===b.indexOf("kendo")&& typeof a[b].destroy==m&&a[b].destroy()})},a.resize=function(e,f){var b=c(e).find("[data-"+a.ns+"role]").addBack().filter(a1);if(b.length){var d=c.makeArray(b);d.sort(a0),c.each(d,function(){var b=a.widgetInstance(c(this));b&&b.resize(f)})}},a.parseOptions=L,f(a.ui,{Widget:l,DataBoundWidget:q,roles:{},progress:function(b,l,d){var g,h,i,f,j,e=b.find(".k-loading-mask"),k=a.support,m=k.browser;j=(d=c.extend({},{width:"100%",height:"100%",top:b.scrollTop(),opacity:!1},d)).opacity?"k-loading-mask k-opaque":"k-loading-mask",l?e.length||(h=(g=k.isRtl(b))?"right":"left",f=b.scrollLeft(),i=m.webkit&&g?b[0].scrollWidth-b.width()-2*f:0,e=c(a.format("<div class='{0}'><span class='k-loading-text'>{1}</span><div class='k-loading-image'/><div class='k-loading-color'/></div>",j,a.ui.progress.messages.loading)).width(d.width).height(d.height).css("top",d.top).css(h,Math.abs(f)+i).prependTo(b)):e&&e.remove()},plugin:function(d,f,e){var h,b=d.fn.options.name;e=e||"",(f=f||a.ui)[b]=d,f.roles[b.toLowerCase()]=d,h="getKendo"+e+b;var i={name:b="kendo"+e+b,widget:d,prefix:e||""};a.widgets.push(i);for(var g=0,j=a._widgetRegisteredCallbacks.length;g<j;g++)a._widgetRegisteredCallbacks[g](i);c.fn[b]=function(e){var f,g=this;return typeof e===ai?(f=aq.call(arguments,1),this.each(function(){var h,i,d=c.data(this,b);if(!d)throw new Error(a.format("Cannot call method '{0}' of {1} before it is initialized",e,b));if(typeof(h=d[e])!=m)throw new Error(a.format("Cannot find method '{0}' of {1}",e,b));if((i=h.apply(d,f))!==ab)return g=i,!1})):this.each(function(){return new d(this,e)}),g},c.fn[b].widget=d,c.fn[h]=function(){return this.data(b)}}}),a.ui.progress.messages={loading:"Loading..."};var a2={bind:function(){return this},nullObject:!0,options:{}},r=l.extend({init:function(a,b){l.fn.init.call(this,a,b),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){l.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var b=this.element.closest(a.roleSelector("view splitview modalview drawer"));return a.widgetInstance(b,a.mobile.ui)||a2},viewHasNativeScrolling:function(){var a=this.view();return a&&a.options.useNativeScrolling},container:function(){var b=this.element.closest(a.roleSelector("view layout modalview drawer splitview"));return a.widgetInstance(b.eq(0),a.mobile.ui)||a2}});f(a.mobile,{init:function(b){a.init(b,a.mobile.ui,a.ui,a.dataviz.ui)},appLevelNativeScrolling:function(){return a.mobile.application&&a.mobile.application.options&&a.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:r,DataBoundWidget:q.extend(r.prototype),roles:{},plugin:function(b){a.ui.plugin(b,a.mobile.ui,"Mobile")}}}),o(a.dataviz,{init:function(b){a.init(b,a.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(b){a.ui.plugin(b,a.dataviz.ui)}},roles:{}}),a.touchScroller=function(e,d){return(d=d||{}).useNative=!0,c(e).map(function(f,e){return e=c(e),!(!b.kineticScrollNeeded||!a.mobile.ui.Scroller||e.data("kendoMobileScroller"))&&(e.kendoMobileScroller(d),e.data("kendoMobileScroller"))})[0]},a.preventDefault=function(a){a.preventDefault()},a.widgetInstance=function(f,e){var c,g,b=f.data(a.ns+"role"),d=[],i=f.data("kendoView");if(b){if("content"===b&&(b="scroller"),"editortoolbar"===b){var j=f.data("kendoEditorToolbar");if(j)return j}if("view"===b&&i)return i;if(e){if(e[0])for(c=0,g=e.length;c<g;c++)d.push(e[c].roles[b]);else d.push(e.roles[b])}else d=[a.ui.roles[b],a.dataviz.ui.roles[b],a.mobile.ui.roles[b]];for(0<=b.indexOf(".")&&(d=[a.getter(b)(_)]),c=0,g=d.length;c<g;c++){var h=d[c];if(h){var k=f.data("kendo"+h.fn.options.prefix+h.fn.options.name);if(k)return k}}}},a.onResize=function(d){var a=d;return b.mobileOS.android&&(a=function(){setTimeout(d,600)}),c(_).on(b.resize,a),a},a.unbindResize=function(a){c(_).off(b.resize,a)},a.attrValue=function(b,c){return b.data(a.ns+c)},a.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},c.extend(c.expr.pseudos,{kendoFocusable:function(e){var a,f,b,d,g=c.attr(e,"tabindex");return a=e,f=!isNaN(g)&& -1<g,d=a.nodeName.toLowerCase(),(/input|select|textarea|button|object/.test(d)?!a.disabled:"a"===d&&a.href||f)&&(b=a,c.expr.pseudos.visible(b)&&!c(b).parents().addBack().filter(function(){return"hidden"===c.css(this,"visibility")}).length)}});var a3=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],a4={setupMouseMute:function(){var a=0,d=a3.length,e=document.documentElement;if(!a4.mouseTrap&&b.eventCapture){function f(a){a4.captureMouse&&("click"===a.type?a4.bustClick&&!c(a.target).is("label, input, [data-rel=external]")&&(a.preventDefault(),a.stopPropagation()):a.stopPropagation())}for(a4.mouseTrap=!0,a4.bustClick=!1,a4.captureMouse=!1;a<d;a++)e.addEventListener(a3[a],f,!0)}},muteMouse:function(a){a4.captureMouse=!0,a.data.bustClick&&(a4.bustClick=!0),clearTimeout(a4.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(a4.mouseTrapTimeoutID),a4.mouseTrapTimeoutID=setTimeout(function(){a4.captureMouse=!1,a4.bustClick=!1},400)}},j={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};function a5(a){return j[a]||a}b.touch&&(b.mobileOS.ios||b.mobileOS.android)?j={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:b.pointers?j={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:b.msPointers&&(j={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!b.msPointers||"onmspointerenter"in _||c.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(b,a){c.event.special[b]={delegateType:a,bindType:a,handle:function(b){var e,d=b.relatedTarget,f=b.handleObj;return d&&(d===this||c.contains(this,d))||(b.type=f.origType,e=f.handler.apply(this,arguments),b.type=a),e}}});var a6=/([^ ]+)/g;a.applyEventMap=function(a,b){return a=a.replace(a6,a5),b&&(a=a.replace(a6,"$1."+b)),a};var a7=c.fn.on;function d(a,b){return new d.fn.init(a,b)}v(!0,d,c),((d.fn=d.prototype=new c).constructor=d).fn.init=function(b,a){return a&&a instanceof c&&!(a instanceof d)&&(a=d(a)),c.fn.init.call(this,b,a,a8)},d.fn.init.prototype=d.fn;var M,N,s,O,a8=d(document);function a9(f,g){var a,d,e,i=g[3],c=g[4],b=g[5],h=g[8];return h||(g[8]=h={}),h[f]?h[f]:(isNaN(c)?0===c.indexOf("last")?(a=new Date(Date.UTC(f,M[i]+1,1,b[0]-24,b[1],b[2],0)),d=N[c.substr(4,3)],e=a.getUTCDay(),a.setUTCDate(a.getUTCDate()+d-e-(e<d?7:0))):0<=c.indexOf(">=")?(a=new Date(Date.UTC(f,M[i],c.substr(5),b[0],b[1],b[2],0)),d=N[c.substr(0,3)],e=a.getUTCDay(),a.setUTCDate(a.getUTCDate()+d-e+(d<e?7:0))):0<=c.indexOf("<=")&&(a=new Date(Date.UTC(f,M[i],c.substr(5),b[0],b[1],b[2],0)),d=N[c.substr(0,3)],e=a.getUTCDay(),a.setUTCDate(a.getUTCDate()+d-e-(e<d?7:0))):a=new Date(Date.UTC(f,M[i],c,b[0],b[1],b[2],0)),h[f]=a)}function ba(a,c,d,e){typeof a!=aj&&(a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));var b=function(d,e,c){var a=e[c];if("string"==typeof a&&(a=e[a]),!a)throw new Error('Timezone "'+c+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var b=a.length-1;0<=b;b--){var f=a[b][3];if(f&&f<d)break}var g=a[b+1];if(!g)throw new Error('Timezone "'+c+'" not found on '+d+".");return g}(a,c,e);return{zone:b,rule:function(b,a,d){if(!(a=a[d])){var c=d.split(":"),e=0;return 1<c.length&&(e=60*c[0]+Number(c[1])),[-1e6,"max","-","Jan",1,[0,0,0],e,"-"]}var g=new Date(b).getUTCFullYear();(a=jQuery.grep(a,function(b){var c=b[0],a=b[1];return c<=g&&(g<=a||c==g&&"only"==a||"max"==a)})).push(b),a.sort(function(a,b){return"number"!=typeof a&&(a=Number(a9(g,a))),"number"!=typeof b&&(b=Number(a9(g,b))),a-b});var f=a[jQuery.inArray(b,a)-1]||a[a.length-1];return isNaN(f)?f:null}(a,d,b[1])}}function P(a,b){return 0===b&&23===a.getHours()&&(a.setHours(a.getHours()+2),!0)}function Q(a,b,c){var d=a.getHours();c=c||1,b=(b-a.getDay()+7*c)%7,a.setDate(a.getDate()+b),P(a,d)}function R(a,b,c){return Q(a=new Date(a),b,c),a}function S(a){return new Date(a.getFullYear(),a.getMonth(),1)}function bb(b,d){var a,c,e=new Date(b.getFullYear(),0,1,-6),f=(a=b,1!==(c=d)?V(R(a,c,-1),4):V(a,4-(a.getDay()||7))).getTime()-e.getTime(),g=Math.floor(f/O);return 1+Math.floor(g/7)}function T(a){return P(a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),0),a}function U(a){return Y(a).getTime()-T(Y(a))}function V(a,b){var c=a.getHours();return W(a=new Date(a),b*O),P(a,c),a}function W(a,c,d){var b,e=a.getTimezoneOffset();a.setTime(a.getTime()+c),d||(b=a.getTimezoneOffset()-e,a.setTime(a.getTime()+b*s))}function X(){return T(new Date)}function Y(a){var b=new Date(1980,1,1,0,0,0);return a&&b.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),b}f(d.fn,{handler:function(a){return this.data("handler",a),this},autoApplyNS:function(b){return this.data("kendoNS",b||a.guid()),this},on:function(){var d=this,g=d.data("kendoNS");if(1===arguments.length)return a7.call(d,arguments[0]);var h=d,c=aq.call(arguments);typeof c[c.length-1]===an&&c.pop();var f=c[c.length-1],e=a.applyEventMap(c[0],g);if(b.mouseAndTouchPresent&& -1<e.search(/mouse|click/)&&this[0]!==document.documentElement){a4.setupMouseMute();var i=2===c.length?null:c[1],j=-1<e.indexOf("click")&& -1<e.indexOf("touchend");a7.call(this,{touchstart:a4.muteMouse,touchend:a4.unMuteMouse},i,{bustClick:j})}return typeof f===ai&&(f=(h=d.data("handler"))[f],c[c.length-1]=function(a){f.call(h,a)}),c[0]=e,a7.apply(d,c),d},kendoDestroy:function(a){return(a=a||this.data("kendoNS"))&&this.off("."+a),this}}),a.jQuery=d,a.eventMap=j,a.timezone=(M={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},N={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},{zones:{},rules:{},offset:function(f,b){if("Etc/UTC"==b||"Etc/GMT"==b)return 0;var c=ba(f,this.zones,this.rules,b),d=c.zone,e=c.rule;return a.parseFloat(e?d[0]-e[6]:d[0])},convert:function(a,c,b){var e,d=b;typeof c==ai&&(c=this.offset(a,c)),typeof b==ai&&(b=this.offset(a,b));var f=a.getTimezoneOffset(),g=(a=new Date(a.getTime()+6e4*(c-b))).getTimezoneOffset();return typeof d==ai&&(d=this.offset(a,d)),e=g-f+(b-d),new Date(a.getTime()+6e4*e)},apply:function(a,b){return this.convert(a,a.getTimezoneOffset(),b)},remove:function(a,b){return this.convert(a,b,a.getTimezoneOffset())},abbr:function(d,e){var c=ba(d,this.zones,this.rules,e),f=c.zone,a=c.rule,b=f[2];return 0<=b.indexOf("/")?b.split("/")[a&&+a[6]?1:0]:0<=b.indexOf("%s")?b.replace("%s",a&&"-"!=a[7]?a[7]:""):b},toLocalDate:function(a){return this.apply(new Date(a),"Etc/UTC")}}),a.date={adjustDST:P,dayOfWeek:R,setDayOfWeek:Q,getDate:T,isInDateRange:function(d,e,f){var b,c=e.getTime(),a=f.getTime();return a<=c&&(a+=O),c<=(b=d.getTime())&&b<=a},isInTimeRange:function(e,f,d){var a,b=U(f),c=U(d);return!e||b==c||(d<=f&&(d+=O),(a=U(e))<b&&(a+=O),c<b&&(c+=O),b<=a&&a<=c)},isToday:function(a){return T(a).getTime()==X().getTime()},nextDay:function(a){return V(a,1)},previousDay:function(a){return V(a,-1)},toUtcTime:function(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())},MS_PER_DAY:O=864e5,MS_PER_HOUR:60*(s=6e4),MS_PER_MINUTE:s,setTime:W,setHours:function(a,b){return P(a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()),b.getHours()),a},addDays:V,today:X,toInvariantTime:Y,firstDayOfMonth:S,lastDayOfMonth:function(a){var b=new Date(a.getFullYear(),a.getMonth()+1,0),c=S(a),d=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());return d&&b.setHours(c.getHours()+d/60),b},weekInYear:function(c,b){b===ab&&(b=a.culture().calendar.firstDay);var e=V(c,-7),f=V(c,7),d=bb(c,b);return 0===d?bb(e,b)+1:53===d&&1<bb(f,b)?1:d},getMilliseconds:U},a.stripWhitespace=function(d){if(document.createNodeIterator)for(var b=document.createNodeIterator(d,NodeFilter.SHOW_TEXT,function(a){return a.parentNode==d?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);b.nextNode();)b.referenceNode&&!b.referenceNode.textContent.trim()&&b.referenceNode.parentNode.removeChild(b.referenceNode);else for(var e=0;e<d.childNodes.length;e++){var c=d.childNodes[e];3!=c.nodeType||/\S/.test(c.nodeValue)||(d.removeChild(c),e--),1==c.nodeType&&a.stripWhitespace(c)}};var bc=_.requestAnimationFrame||_.webkitRequestAnimationFrame||_.mozRequestAnimationFrame||_.oRequestAnimationFrame||_.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)};a.animationFrame=function(a){bc.call(_,a)};var Z,aa,bd=[];function be(g,h,i,j){var e=c("<form>").attr({action:i,method:"POST",target:j}),b=a.antiForgeryTokens();b.fileName=h;var f=g.split(";base64,");for(var d in b.contentType=f[0].replace("data:",""),b.base64=f[1],b)b.hasOwnProperty(d)&&c("<input>").attr({value:b[d],name:d,type:"hidden"}).appendTo(e);e.appendTo("body").submit().remove()}function bf(b,g){var d=b;if("string"==typeof b){for(var e=b.split(";base64,"),h=e[0],c=atob(e[1]),f=new Uint8Array(c.length),a=0;a<c.length;a++)f[a]=c.charCodeAt(a);d=new Blob([f.buffer],{type:h})}navigator.msSaveBlob(d,g)}function bg(a,c){_.Blob&&a instanceof Blob&&(a=URL.createObjectURL(a)),Z.download=c,Z.href=a;var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,_,0,0,0,0,0,!1,!1,!1,!1,0,null),Z.dispatchEvent(b),setTimeout(function(){URL.revokeObjectURL(a)})}a.queueAnimation=function(b){bd[bd.length]=b,1===bd.length&&a.runNextAnimation()},a.runNextAnimation=function(){a.animationFrame(function(){bd[0]&&(bd.shift()(),bd[0]&&a.runNextAnimation())})},a.parseQueryStringParams=function(d){for(var c={},b=(d.split("?")[1]||"").split(/&|=/),e=b.length,a=0;a<e;a+=2)""!==b[a]&&(c[decodeURIComponent(b[a])]=decodeURIComponent(b[a+1]));return c},a.elementUnderCursor=function(a){if(void 0!==a.x.client)return document.elementFromPoint(a.x.client,a.y.client)},a.wheelDeltaY=function(d){var b,a=d.originalEvent,c=a.wheelDeltaY;return a.wheelDelta?(c===ab||c)&&(b=a.wheelDelta):a.detail&&a.axis===a.VERTICAL_AXIS&&(b=-(10*a.detail)),b},a.throttle=function(c,a){var d,e=0;if(!a||a<=0)return c;function b(){var g=this,f=new Date-e,h=arguments;function b(){c.apply(g,h),e=+new Date}if(!e)return b();d&&clearTimeout(d),a<f?b():d=setTimeout(b,a-f)}return b.cancel=function(){clearTimeout(d)},b},a.caret=function(a,d,f){var e,g=d!==ab;if(f===ab&&(f=d),a[0]&&(a=a[0]),!g||!a.disabled){try{if(a.selectionStart!==ab){if(g){a.focus();var h=b.mobileOS;h.wp||h.android?setTimeout(function(){a.setSelectionRange(d,f)},0):a.setSelectionRange(d,f)}else d=[a.selectionStart,a.selectionEnd]}else if(document.selection){if(c(a).is(":visible")&&a.focus(),e=a.createTextRange(),g)e.collapse(!0),e.moveStart("character",d),e.moveEnd("character",f-d),e.select();else{var i,j,k=e.duplicate();e.moveToBookmark(document.selection.createRange().getBookmark()),k.setEndPoint("EndToStart",e),j=(i=k.text.length)+e.text.length,d=[i,j]}}}catch(l){d=[]}return d}},a.compileMobileDirective=function(b,d){var c=_.angular;return b.attr("data-"+a.ns+"role",b[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),c.element(b).injector().invoke(["$compile",function(a){a(b)(d),/^\$(digest|apply)$/.test(d.$$phase)||d.$digest()},]),a.widgetInstance(b,a.mobile.ui)},a.antiForgeryTokens=function(){var a={},b=c("meta[name=csrf-token],meta[name=_csrf]").attr("content"),d=c("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return c("input[name^='__RequestVerificationToken']").each(function(){a[this.name]=this.value}),d!==ab&&b!==ab&&(a[d]=b),a},a.cycleForm=function(b){var c=b.find("input, .k-widget").first(),d=b.find("button, .k-button").last();function e(c){var b=a.widgetInstance(c);b&&b.focus?b.focus():c.focus()}d.on("keydown",function(b){b.keyCode!=a.keys.TAB||b.shiftKey||(b.preventDefault(),e(c))}),c.on("keydown",function(b){b.keyCode==a.keys.TAB&&b.shiftKey&&(b.preventDefault(),e(d))})},a.focusElement=function(b){var e=[],d=b.parentsUntil("body").filter(function(c,b){return"visible"!==a.getComputedStyles(b,["overflow"]).overflow}).add(_);d.each(function(a,b){e[a]=c(b).scrollTop()});try{b[0].setActive()}catch(f){b[0].focus()}d.each(function(a,b){c(b).scrollTop(e[a])})},a.focusNextElement=function(){if(document.activeElement){var a=c(":kendoFocusable"),b=a.index(document.activeElement);-1<b&&(a[b+1]||a[0]).focus()}},a.matchesMedia=function(c){var d=a._bootstrapToMedia(c)||c;return b.matchMedia&&_.matchMedia(d).matches},a._bootstrapToMedia=function(a){return({xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"})[a]},a.fileGroupMap={audio:[".aif",".iff",".m3u",".m4a",".mid",".mp3",".mpa",".wav",".wma",".ogg",".wav",".wma",".wpl"],video:[".3g2",".3gp",".avi",".asf",".flv",".m4u",".rm",".h264",".m4v",".mkv",".mov",".mp4",".mpg",".rm",".swf",".vob",".wmv"],image:[".ai",".dds",".heic",".jpe","jfif",".jif",".jp2",".jps",".eps",".bmp",".gif",".jpeg",".jpg",".png",".ps",".psd",".svg",".svgz",".tif",".tiff"],txt:[".doc",".docx",".log",".pages",".tex",".wpd",".wps",".odt",".rtf",".text",".txt",".wks"],presentation:[".key",".odp",".pps",".ppt",".pptx"],data:[".xlr",".xls",".xlsx"],programming:[".tmp",".bak",".msi",".cab",".cpl",".cur",".dll",".dmp",".drv",".icns",".ico",".link",".sys",".cfg",".ini",".asp",".aspx",".cer",".csr",".css",".dcr",".htm",".html",".js",".php",".rss",".xhtml",],pdf:[".pdf"],config:[".apk",".app",".bat",".cgi",".com",".exe",".gadget",".jar",".wsf"],zip:[".7z",".cbr",".gz",".sitx",".arj",".deb",".pkg",".rar",".rpm",".tar.gz",".z",".zip",".zipx"],"disc-image":[".dmg",".iso",".toast",".vcd",".bin",".cue",".mdf"]},a.getFileGroup=function(d,f){var e=a.fileGroupMap,c=Object.keys(e);if(d===ab||!d.length)return"file";for(var b=0;b<c.length;b+=1)if(-1<e[c[b]].indexOf(d.toLowerCase()))return f?"file-"+c[b]:c[b];return"file"},a.getFileSizeMessage=function(a){if(0===a)return"0 Byte";var b=parseInt(Math.floor(Math.log(a)/Math.log(1024)),10);return Math.round(a/Math.pow(1024,b),2)+" "+["Bytes","KB","MB","GB","TB"][b]},aa="download"in(Z=document.createElement("a"))&&!a.support.browser.edge,a.saveAs=function(a){var b=be;a.forceProxy||(aa?b=bg:navigator.msSaveBlob&&(b=bf)),b(a.dataURI,a.fileName,a.proxyURL,a.proxyTarget)},a.proxyModelSetters=function(a){var b={};return Object.keys(a||{}).forEach(function(c){Object.defineProperty(b,c,{get:function(){return a[c]},set:function(b){a[c]=b,a.dirty=!0}})}),b}}(jQuery,window),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.color",["kendo.core"],function(){window.kendo=window.kendo||{};var c=kendo.Class,d=kendo.support,e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},h=d.browser,i=function(b){var a=Object.keys(e);a.push("transparent");var c=new RegExp("^("+a.join("|")+")(\\W|$)","i");return i=function(a){return c.exec(a)},c.exec(b)},b=c.extend({init:function(){},toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var a=this.toBytes();return"rgba("+a.r+", "+a.g+", "+a.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},toDisplay:function(){return h.msie&&h.version<9?this.toCss():this.toCssRgba()},equals:function(a){return a===this||null!==a&&this.toCssRgba()===g(a).toCssRgba()},diff:function(c){if(null===c)return NaN;var a=this.toBytes(),b=c.toBytes();return Math.sqrt(Math.pow((a.r-b.r)*.3,2)+Math.pow((a.g-b.g)*.59,2)+Math.pow((a.b-b.b)*.11,2))},clone:function(){var a=this.toBytes();return a===this&&(a=new j(a.r,a.g,a.b,a.a)),a}}),f=b.extend({init:function(a,c,d,e){b.fn.init.call(this),this.r=a,this.g=c,this.b=d,this.a=e},toHSV:function(){var a,g,c=this.r,d=this.g,f=this.b,b=Math.max(c,d,f),e=b-Math.min(c,d,f),h=b;return 0===e?new l(0,0,h,this.a):(0!==b?(g=e/b,a=c===b?(d-f)/e:d===b?2+(f-c)/e:4+(c-d)/e,a*=60,a<0&&(a+=360)):(g=0,a=-1),new l(a,g,h,this.a))},toHSL:function(){var d,h,e=this.r,a=this.g,b=this.b,c=Math.max(e,a,b),f=Math.min(e,a,b),i=(c+f)/2;if(c===f)d=h=0;else{var g=c-f;switch(h=i>.5?g/(2-c-f):g/(c+f),c){case e:d=(a-b)/g+(a<b?6:0);break;case a:d=(b-e)/g+2;break;case b:d=(e-a)/g+4}}return new m(60*d,100*h,100*i,this.a)},toBytes:function(){return new j(255*this.r,255*this.g,255*this.b,this.a)}}),j=f.extend({init:function(a,b,c,d){f.fn.init.call(this,Math.round(a),Math.round(b),Math.round(c),d)},toRGB:function(){return new f(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHSL:function(){return this.toRGB().toHSL()},toHex:function(){return k(this.r,2)+k(this.g,2)+k(this.b,2)},toBytes:function(){return this}});function k(c,d,b){void 0===b&&(b="0");for(var a=c.toString(16);d>a.length;)a=b+a;return a}var l=b.extend({init:function(a,c,d,e){b.fn.init.call(this),this.h=a,this.s=c,this.v=d,this.a=e},toRGB:function(){var b,c,d,j=this.h,g=this.s,a=this.v;if(0===g)b=c=d=a;else{var k=Math.floor(j/=60),l=j-k,e=a*(1-g),h=a*(1-g*l),i=a*(1-g*(1-l));switch(k){case 0:b=a,c=i,d=e;break;case 1:b=h,c=a,d=e;break;case 2:b=e,c=a,d=i;break;case 3:b=e,c=h,d=a;break;case 4:b=i,c=e,d=a;break;default:b=a,c=e,d=h}}return new f(b,c,d,this.a)},toHSL:function(){return this.toRGB().toHSL()},toBytes:function(){return this.toRGB().toBytes()}}),m=b.extend({init:function(a,c,d,e){b.fn.init.call(this),this.h=a,this.s=c,this.l=d,this.a=e},toRGB:function(){var d,e,g,h=this.h/360,b=this.s/100,a=this.l/100;if(0===b)d=e=g=a;else{var c=a<.5?a*(1+b):a+b-a*b,i=2*a-c;d=n(i,c,h+1/3),e=n(i,c,h),g=n(i,c,h-1/3)}return new f(d,e,g,this.a)},toHSV:function(){return this.toRGB().toHSV()},toBytes:function(){return this.toRGB().toBytes()}});function n(b,c,d){var a=d;return(a<0&&(a+=1),a>1&&(a-=1),a<1/6)?b+(c-b)*6*a:a<.5?c:a<2/3?b+(c-b)*(2/3-a)*6:b}function g(h,k){if(null==h||"none"===h)return null;if(h instanceof b)return h;var a,d,c=h.toLowerCase();if(a=i(c))return(c="transparent"===a[1]?new f(1,1,1,0):g(e[a[1]],k)).match=[a[1]],c;if((a=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(c))?d=new j(parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),1):(a=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(c))?d=new j(parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16),1):(a=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(c))?d=new j(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),1):(a=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(c))?d=new j(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),parseFloat(a[4])):(a=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(c))?d=new f(parseFloat(a[1])/100,parseFloat(a[2])/100,parseFloat(a[3])/100,1):(a=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(c))&&(d=new f(parseFloat(a[1])/100,parseFloat(a[2])/100,parseFloat(a[3])/100,parseFloat(a[4]))),d)d.match=a;else if(!k)throw new Error("Cannot parse color: "+c);return d}var a=c.extend({init:function(g){var c=this;if(1===arguments.length)for(var d=a.formats,h=this.resolveColor(g),b=0;b<d.length;b++){var i=d[b].re,j=d[b].process,f=i.exec(h);if(f){var e=j(f);c.r=e[0],c.g=e[1],c.b=e[2]}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)},toHex:function(){var a=this.padDigit,b=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return"#"+a(b)+a(c)+a(d)},resolveColor:function(c){var b=c||"black";return"#"===b.charAt(0)&&(b=b.substr(1,6)),b=(b=b.replace(/ /g,"")).toLowerCase(),b=a.namedColors[b]||b},normalizeByte:function(a){return a<0||isNaN(a)?0:a>255?255:a},padDigit:function(a){return 1===a.length?"0"+a:a},brightness:function(a){var b=Math.round;return this.r=b(this.normalizeByte(this.r*a)),this.g=b(this.normalizeByte(this.g*a)),this.b=b(this.normalizeByte(this.b*a)),this},percBrightness:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}});a.fromBytes=function(b,c,d,a){return new j(b,c,d,null!=a?a:1)},a.fromRGB=function(b,c,d,a){return new f(b,c,d,null!=a?a:1)},a.fromHSV=function(b,c,d,a){return new l(b,c,d,null!=a?a:1)},a.fromHSL=function(b,c,d,a){return new m(b,c,d,null!=a?a:1)},a.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(a){return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},],a.namedColors=e,kendo.deepExtend(kendo,{parseColor:g,Color:a})}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.data",["kendo.core","kendo.data.odata","kendo.data.xml"],function(){return function(a,F){function e(a){return a}var q,k=a.extend,_=a.proxy,G=a.isPlainObject,H=a.isEmptyObject,I=a.isArray,J=a.grep,K=a.ajax,L=a.each,d=a.noop,b=window.kendo,M=b.isFunction,i=b.Observable,f=b.Class,N="string",O="function",r="destroy",P="change",Q="error",R="requestStart",S="progress",T="requestEnd",U=["create","read","update",r],V=b.getter,W=b.stringify,X=Math,Y=[].push,s=[].join,Z=[].pop,aa=[].splice,ab=[].shift,t=[].slice,ac=[].unshift,ad={}.toString,ae=b.support.stableSort,af=/^\/Date\((.*?)\)\/$/,g=i.extend({init:function(b,c){var a=this;a.type=c||l,i.fn.init.call(a),a.length=b.length,a.wrapAll(b,a)},at:function(a){return this[a]},toJSON:function(e){var a,b,c=this.length,d=new Array(c);for(a=0;a<c;a++)(b=this[a])instanceof l&&(b=b.toJSON(e)),d[a]=b;return d},parent:d,wrapAll:function(c,b){function e(){return f}var a,d,f=this;for(b=b||[],a=0,d=c.length;a<d;a++)b[a]=f.wrap(c[a],e);return b},wrap:function(a,c){var b=this;return null!==a&&"[object Object]"===ad.call(a)&&(a instanceof b.type||a instanceof h||(a=a instanceof l?a.toJSON():a,a=new b.type(a)),a.parent=c,a.bind(P,function(a){b.trigger(P,{field:a.field,node:a.node,index:a.index,items:a.items||[this],action:a.node?a.action||"itemloaded":"itemchange"})})),a},push:function(){var a,c=this.length,b=this.wrapAll(arguments);return a=Y.apply(this,b),this.trigger(P,{action:"add",index:c,items:b}),a},slice:t,sort:[].sort,join:s,pop:function(){var a=this.length,b=Z.apply(this);return a&&this.trigger(P,{action:"remove",index:a-1,items:[b]}),b},splice:function(c,f,g){var a,b,d,e=this.wrapAll(t.call(arguments,2));if((a=aa.apply(this,[c,f].concat(e))).length)for(this.trigger(P,{action:"remove",index:c,items:a}),b=0,d=a.length;b<d;b++)a[b]&&a[b].children&&a[b].unbind(P);return g&&this.trigger(P,{action:"add",index:c,items:e}),a},shift:function(){var b=this.length,a=ab.apply(this);return b&&this.trigger(P,{action:"remove",index:0,items:[a]}),a},unshift:function(){var a,b=this.wrapAll(arguments);return a=ac.apply(this,b),this.trigger(P,{action:"add",index:0,items:b}),a},indexOf:function(c){var a,b;for(a=0,b=this.length;a<b;a++)if(this[a]===c)return a;return -1},forEach:function(b,c){for(var a=0,d=this.length,e=c||window;a<d;a++)b.call(e,this[a],a,this)},map:function(c,d){for(var a=0,b=[],e=this.length,f=d||window;a<e;a++)b[a]=c.call(f,this[a],a,this);return b},reduce:function(d){var b,a=0,c=this.length;for(2==arguments.length?b=arguments[1]:a<c&&(b=this[a++]);a<c;a++)b=d(b,this[a],a,this);return b},reduceRight:function(c){var b,a=this.length-1;for(2==arguments.length?b=arguments[1]:0<a&&(b=this[a--]);0<=a;a--)b=c(b,this[a],a,this);return b},filter:function(d,e){for(var b,a=0,c=[],f=this.length,g=e||window;a<f;a++)b=this[a],d.call(g,b,a,this)&&(c[c.length]=b);return c},find:function(c,d){for(var b,a=0,e=this.length,f=d||window;a<e;a++)if(b=this[a],c.call(f,b,a,this))return b},every:function(c,d){for(var b,a=0,e=this.length,f=d||window;a<e;a++)if(b=this[a],!c.call(f,b,a,this))return!1;return!0},some:function(c,d){for(var b,a=0,e=this.length,f=d||window;a<e;a++)if(b=this[a],c.call(f,b,a,this))return!0;return!1},remove:function(b){var a=this.indexOf(b);-1!==a&&this.splice(a,1)},empty:function(){this.splice(0,this.length)}});"undefined"!=typeof Symbol&&Symbol.iterator&&!g.prototype[Symbol.iterator]&&(g.prototype[Symbol.iterator]=[][Symbol.iterator]);var u=g.extend({init:function(b,d,c){i.fn.init.call(this),this.type=d||l,c&&(this._events=c);for(var a=0;a<b.length;a++)this[a]=b[a];this.length=a,this._parent=_(function(){return this},this)},at:function(b){var a=this[b];return a instanceof this.type?a.parent=this._parent:a=this[b]=this.wrap(a,this._parent),a}});function ag(a,b,c,d){return function(f){var g,e={};for(g in f)e[g]=f[g];e.field=d?c+"."+f.field:c,b==P&&a._notifyChange&&a._notifyChange(e),a.trigger(b,e)}}var l=i.extend({init:function(e){function f(){return d}var a,c,d=this;for(c in i.fn.init.call(this),this._handlers={},e)"object"==typeof(a=e[c])&&a&&!a.getTime&&"_"!=c.charAt(0)&&(a=d.wrap(a,c,f)),d[c]=a;d.uid=b.guid()},shouldSerialize:function(a,b){return this.hasOwnProperty(a)&&"_handlers"!==a&&"_events"!==a&&(b&&b[a]|| typeof this[a]!=O)&&"uid"!==a},forEach:function(b){for(var a in this)this.shouldSerialize(a)&&b(this[a],a)},toJSON:function(c){var a,b,d={};for(b in this)this.shouldSerialize(b,c)&&(((a=this[b])instanceof l||a instanceof g)&&(a=a.toJSON(c)),d[b]=a);return d},get:function(a){return this.trigger("get",{field:a}),"this"===a?this:b.getter(a,!0)(this)},_set:function(a,f){var c=0<=a.indexOf(".");if(c)for(var d=a.split("."),e="";1<d.length;){e+=d.shift();var g=b.getter(e,!0)(this);if(g instanceof l)return g.set(d.join("."),f),c;e+="."}return b.setter(a)(this,f),c},set:function(a,c){var d=this,f=!1,g=0<=a.indexOf("."),e=b.getter(a,!0)(d);return e!==c&&(e instanceof i&&this._handlers[a]&&(this._handlers[a].get&&e.unbind("get",this._handlers[a].get),e.unbind(P,this._handlers[a].change)),(f=d.trigger("set",{field:a,value:c}))||(g||(c=d.wrap(c,a,function(){return d})),(!d._set(a,c)||0<=a.indexOf("(")||0<=a.indexOf("["))&&d.trigger(P,{field:a}))),f},parent:d,wrap:function(a,c,k){var f,b,d=this,e=ad.call(a);if(null!=a&&("[object Object]"===e||"[object Array]"===e)){var h=a instanceof g,i=a instanceof j;"[object Object]"!==e||i||h?("[object Array]"===e||h||i)&&(h||i||(a=new g(a)),b=ag(d,P,c,!1),a.bind(P,b),d._handlers[c]={change:b}):(a instanceof l||(a=new l(a)),f=ag(d,"get",c,!0),a.bind("get",f),b=ag(d,P,c,!0),a.bind(P,b),d._handlers[c]={get:f,change:b}),a.parent=k}return a}}),ah={number:function(a){return typeof a===N&&"null"===a.toLowerCase()?null:b.parseFloat(a)},date:function(a){return typeof a===N&&"null"===a.toLowerCase()?null:b.parseDate(a)},boolean:function(a){return typeof a===N?"null"===a.toLowerCase()?null:"true"===a.toLowerCase():null!=a?!!a:a},string:function(a){return typeof a===N&&"null"===a.toLowerCase()?null:null!=a?a+"":a},default:function(a){return a}},ai={string:"",number:0,date:new Date,boolean:!1,default:""},h=l.extend({init:function(c){var b=this;if((!c||a.isEmptyObject(c))&&(c=a.extend({},b.defaults,c),b._initializers))for(var d=0;d<b._initializers.length;d++){var e=b._initializers[d];c[e]=b.defaults[e]()}l.fn.init.call(b,c),b.dirty=!1,b.dirtyFields={},b.idField&&(b.id=b.get(b.idField),b.id===F&&(b.id=b._defaultId))},shouldSerialize:function(a){return l.fn.shouldSerialize.call(this,a)&&"uid"!==a&&!("id"!==this.idField&&"id"===a)&&"dirty"!==a&&"dirtyFields"!==a&&"_accessors"!==a},_parse:function(a,c){var b,e=a,d=this.fields||{};return(a=(a=d[a])||function(b,c){var a,d;for(d in b)if(G(a=b[d])&&a.field&&a.field===c||a===c)return a;return null}(d,e))&&!(b=a.parse)&&a.type&&(b=ah[a.type.toLowerCase()]),b?b(c):c},_notifyChange:function(a){var b=a.action;"add"!=b&&"remove"!=b||(this.dirty=!0,this.dirtyFields[a.field]=!0)},editable:function(a){return!(a=(this.fields||{})[a])|| !1!==a.editable},set:function(c,d){var b=this,e=b.dirty;b.editable(c)&&(function f(b,c){if(b===c)return 1;var e,d=a.type(b);if(d===a.type(c)){if("date"===d)return b.getTime()===c.getTime();if("object"===d||"array"===d){for(e in b)if(!f(b[e],c[e]))return;return 1}}}(d=b._parse(c,d),b.get(c))?b.trigger("equalSet",{field:c,value:d}):(b.dirty=!0,b.dirtyFields[c]=!0,l.fn.set.call(b,c,d)&&!e&&(b.dirty=e,b.dirty||(b.dirtyFields[c]=!1))))},accept:function(c){function e(){return a}var b,a=this;for(b in c){var d=c[b];"_"!=b.charAt(0)&&(d=a.wrap(c[b],b,e)),a._set(b,d)}a.idField&&(a.id=a.get(a.idField)),a.dirty=!1,a.dirtyFields={}},isNew:function(){return this.id===this._defaultId}});h.define=function(l,e){e===F&&(e=l,l=h);var f,c,b,m,g,i,p,d,a=k({defaults:{}},e),n={},j=a.id,o=[];if(j&&(a.idField=j),a.id&&delete a.id,j&&(a.defaults[j]=a._defaultId=""),"[object Array]"===ad.call(a.fields)){for(i=0,p=a.fields.length;i<p;i++)typeof(b=a.fields[i])===N?n[b]={}:b.field&&(n[b.field]=b);a.fields=n}for(c in a.fields)m=(b=a.fields[c]).type||"default",g=null,d=c,c=typeof b.field===N?b.field:c,b.nullable||"function"==typeof(g=a.defaults[d!==c?d:c]=b.defaultValue!==F?b.defaultValue:ai[m.toLowerCase()])&&o.push(c),e.id===c&&(a._defaultId=g),a.defaults[d!==c?d:c]=g,b.parse=b.parse||ah[m];return 0<o.length&&(a._initializers=o),(f=l.extend(a)).define=function(a){return h.define(f,a)},a.fields&&(f.fields=a.fields,f.idField=a.idField),f};var v={selector:function(a){return M(a)?a:V(a)},compare:function(a){var b=this.selector(a);return function(a,c){return a=b(a),c=b(c),null==a&&null==c?0:null==a?-1:null==c?1:a.localeCompare?a.localeCompare(c):c<a?1:a<c?-1:0}},create:function(a){var b=a.compare||this.compare(a.field);return"desc"==a.dir?function(a,c){return b(c,a,!0)}:b},combine:function(a){return function(d,e){var b,f,c=a[0](d,e);for(b=1,f=a.length;b<f;b++)c=c||a[b](d,e);return c}}},$=k({},v,{asc:function(a){var b=this.selector(a);return function(d,e){var a=b(d),c=b(e);return a&&a.getTime&&c&&c.getTime&&(a=a.getTime(),c=c.getTime()),a===c?d.__position-e.__position:null==a?-1:null==c?1:a.localeCompare?a.localeCompare(c):c<a?1:-1}},desc:function(a){var b=this.selector(a);return function(d,e){var c=b(d),a=b(e);return c&&c.getTime&&a&&a.getTime&&(c=c.getTime(),a=a.getTime()),c===a?d.__position-e.__position:null==c?1:null==a?-1:a.localeCompare?a.localeCompare(c):c<a?1:-1}},create:function(a){return this[a.dir](a.field)}});q=function(b,e){var a,c=b.length,d=new Array(c);for(a=0;a<c;a++)d[a]=e(b[a],a,b);return d};var aj={quote:function(a){return a&&a.getTime?"new Date("+a.getTime()+")":ak(a)},eq:function(a,b,c,d){return am("==",a,b,c,d)},neq:function(a,b,c,d){return am("!=",a,b,c,d)},gt:function(a,b,c){return am(">",a,b,c)},gte:function(a,b,c){return am(">=",a,b,c)},lt:function(a,b,c){return am("<",a,b,c)},lte:function(a,b,c){return am("<=",a,b,c)},startswith:al(function(a,b){return a+".lastIndexOf("+b+", 0) == 0"}),doesnotstartwith:al(function(a,b){return a+".lastIndexOf("+b+", 0) == -1"}),endswith:al(function(b,a){return b+".indexOf("+a+", "+b+".length - "+(a?a.length-2:0)+") >= 0"}),doesnotendwith:al(function(b,a){return b+".indexOf("+a+", "+b+".length - "+(a?a.length-2:0)+") < 0"}),contains:al(function(a,b){return a+".indexOf("+b+") >= 0"}),doesnotcontain:al(function(a,b){return a+".indexOf("+b+") == -1"}),matches:al(function(b,a){return an(a=a.substring(1,a.length-1))+".test("+b+")"}),doesnotmatch:al(function(b,a){return"!"+an(a=a.substring(1,a.length-1))+".test("+b+")"}),isempty:function(a){return a+" === ''"},isnotempty:function(a){return a+" !== ''"},isnull:function(a){return"("+a+" == null)"},isnotnull:function(a){return"("+a+" != null)"},isnullorempty:function(a){return"("+a+" === null) || ("+a+" === '')"},isnotnullorempty:function(a){return"("+a+" !== null) && ("+a+" !== '')"}};function ak(a){return"string"==typeof a&&(a=a.replace(/[\r\n]+/g,"")),JSON.stringify(a)}function al(a){return function(d,b,e,c){return b+="",e&&(d="("+d+" + '').toString()"+(c?".toLocaleLowerCase('"+c+"')":".toLowerCase()"),b=c?b.toLocaleLowerCase(c):b.toLowerCase()),a(d,ak(b),e)}}function am(e,b,a,f,c){if(null!=a){if(typeof a===N){var d=af.exec(a);d?a=new Date(+d[1]):f?(a=ak(c?a.toLocaleLowerCase(c):a.toLowerCase()),b="(("+b+" || '')+'')"+(c?".toLocaleLowerCase('"+c+"')":".toLowerCase()")):a=ak(a)}a.getTime&&(b="("+b+"&&"+b+".getTime?"+b+".getTime():"+b+")",a=a.getTime())}return b+" "+e+" "+a}function an(e){for(var b="/^",c=!1,d=0;d<e.length;++d){var a=e.charAt(d);if(c)b+="\\"+a;else{if("~"==a){c=!0;continue}"*"==a?b+=".*":"?"==a?b+=".":0<=".+^$()[]{}|\\/\n\r\u2028\u2029\xa0".indexOf(a)?b+="\\"+a:b+=a}c=!1}return b+"$/"}function c(a){this.data=a||[]}function w(a,c){if(a){var b=typeof a===N?{field:a,dir:c}:a,d=I(b)?b:b!==F?[b]:[];return J(d,function(a){return!!a.dir})}}c.filterExpr=function(j){var g,k,a,d,h,i,l=[],e=[],f=[],m=j.filters;for(g=0,k=m.length;g<k;g++)h=(a=m[g]).field,i=a.operator,a.filters?(a=(d=c.filterExpr(a)).expression.replace(/__o\[(\d+)\]/g,function(b,a){return a=+a,"__o["+(f.length+a)+"]"}).replace(/__f\[(\d+)\]/g,function(b,a){return a=+a,"__f["+(e.length+a)+"]"}),f.push.apply(f,d.operators),e.push.apply(e,d.fields)):(typeof h==O?(d="__f["+e.length+"](d)",e.push(h)):d=b.expr(h),typeof i==O?(a="__o["+f.length+"]("+d+", "+aj.quote(a.value)+")",f.push(i)):a=aj[(i||"eq").toLowerCase()](d,a.value,a.ignoreCase===F||a.ignoreCase,j.accentFoldingFiltering)),l.push(a);return{expression:"("+l.join({and:" && ",or:" || "}[j.logic])+")",fields:e,operators:f}};var ao={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};function x(a){if(a&&!H(a))return!I(a)&&a.filters||(a={logic:"and",filters:I(a)?a:[a]}),function f(g){var a,e,c,b,d=g.filters;if(d)for(a=0,e=d.length;a<e;a++)(b=(c=d[a]).operator)&& typeof b===N&&(c.operator=ao[b.toLowerCase()]||b),f(c)}(a),a}function ap(a){return H(a=a||{})?{logic:"and",filters:[]}:x(a)}function aq(b,a){return a.logic||b.field>a.field?1:b.field<a.field?-1:0}function y(b,c,d,e){var a=typeof b===N?{field:b,dir:c,compare:d,skipItemSorting:e}:b,f=I(a)?a:a!==F?[a]:[];return q(f,function(a){return{field:a.field,dir:a.dir||"asc",aggregates:a.aggregates,compare:a.compare,skipItemSorting:a.skipItemSorting}})}function ar(c,d,e){for(var a=y(c,d,e),b=0;b<a.length;b++)delete a[b].compare;return a}function as(a,b){return a&&a.getTime&&b&&b.getTime?a.getTime()===b.getTime():a===b}function at(e,g,i,j,k,d){var f,h,c,l=(g=g||[]).length;for(f=0;f<l;f++){c=(h=g[f]).aggregate;var a=h.field;e[a]=e[a]||{},d[a]=d[a]||{},d[a][c]=d[a][c]||{},e[a][c]=au[c.toLowerCase()](e[a][c],i,b.accessor(a),j,k,d[a][c])}}c.normalizeFilter=x,c.compareFilters=function j(c,d){if(c=ap(c),d=ap(d),c.logic!==d.logic)return!1;var e,f,g,a,b=(c.filters||[]).slice(),h=(d.filters||[]).slice();if(b.length!==h.length)return!1;b=b.sort(aq),h=h.sort(aq);for(var i=0;i<b.length;i++)if(e=b[i],f=h[i],e.logic&&f.logic){if(!j(e,f))return!1}else if(a=f,(g=e).logic||a.logic||g.field!==a.field||g.value!==a.value||g.operator!==a.operator)return!1;return!0},c.prototype={toArray:function(){return this.data},range:function(a,b){return new c(this.data.slice(a,a+b))},skip:function(a){return new c(this.data.slice(a))},take:function(a){return new c(this.data.slice(0,a))},select:function(a){return new c(q(this.data,a))},order:function(a,d,e){var b={dir:d};return a&&(a.compare?b.compare=a.compare:b.field=a),new c(e?this.data.sort(v.create(b)):this.data.slice(0).sort(v.create(b)))},orderBy:function(a,b){return this.order(a,"asc",b)},orderByDescending:function(a,b){return this.order(a,"desc",b)},sort:function(f,g,a,h){var b,d,c=w(f,g),e=[];if(a=a||v,c.length){for(b=0,d=c.length;b<d;b++)e.push(a.create(c[b]));return this.orderBy({compare:a.combine(e)},h)}return this},filter:function(a){var b,f,g,d,l,h,i,e,j=this.data,k=[];if(!(a=x(a))||0===a.filters.length)return this;for(h=(d=c.filterExpr(a)).fields,i=d.operators,l=e=new Function("d, __f, __o","return "+d.expression),(h.length||i.length)&&(e=function(a){return l(a,h,i)}),b=0,g=j.length;b<g;b++)e(f=j[b])&&k.push(f);return new c(k)},group:function(a,d){a=y(a||[]),d=d||this.data;var e,b=new c(this.data);return 0<a.length&&(e=a[0],b=b.groupBy(e).select(function(b){var f=new c(d).filter([{field:b.field,operator:"eq",value:b.value,ignoreCase:!1}]);return{field:b.field,value:b.value,items:1<a.length?new c(b.items).group(a.slice(1),f.toArray()).toArray():b.items,hasSubgroups:1<a.length,aggregates:f.aggregate(e.aggregates)}})),b},groupBy:function(d){if(H(d)||!this.data.length)return new c([]);var g,k,e,l,a=d.field,h=d.skipItemSorting?this.data:this._sortForGrouping(a,d.dir||"asc"),m=b.accessor(a),i=m.get(h[0],a),f={field:a,value:i,items:[]},j=[f];for(e=0,l=h.length;e<l;e++)g=h[e],as(i,k=m.get(g,a))||(f={field:a,value:i=k,items:[]},j.push(f)),f.items.push(g);return new c(j=this._sortGroups(j,d))},_sortForGrouping:function(e,f){var a,d,b=this.data;if(ae)return this.sort(e,f).toArray();for(a=0,d=b.length;a<d;a++)b[a].__position=a;for(a=0,d=(b=new c(b).sort(e,f,$).toArray()).length;a<d;a++)delete b[a].__position;return b},_sortGroups:function(d,a){var b=d;return a&&M(a.compare)&&(b=new c(b).order({compare:a.compare},a.dir||"asc").toArray()),b},aggregate:function(b){var a,c,d={},e={};if(b&&b.length)for(a=0,c=this.data.length;a<c;a++)at(d,b,this.data[a],a,c,e);return d}};var au={sum:function(a,c,d){var b=d.get(c);return av(a)?av(b)&&(a+=b):a=b,a},count:function(a){return(a||0)+1},average:function(a,d,e,f,g,b){var c=e.get(d);return b.count===F&&(b.count=0),av(a)?av(c)&&(a+=c):a=c,av(c)&&b.count++,f==g-1&&av(a)&&(a/=b.count),a},max:function(a,c,d){var b=d.get(c);return av(a)||aw(a)||(a=b),a<b&&(av(b)||aw(b))&&(a=b),a},min:function(a,c,d){var b=d.get(c);return av(a)||aw(a)||(a=b),b<a&&(av(b)||aw(b))&&(a=b),a}};function av(a){return"number"==typeof a&&!isNaN(a)}function aw(a){return a&&a.getTime}function ax(b){var a,c=b.length,d=new Array(c);for(a=0;a<c;a++)d[a]=b[a].toJSON();return d}c.normalizeGroup=y,c.normalizeSort=w,c.process=function(e,b,i){var j,l,d=(b=b||{}).group,m=function(b){for(var c=I(b)?b:[b],a=0;a<c.length;a++)if(c[a]&&M(c[a].compare))return!0;return!1}(y(d||[])),a=new c(e),n=ar(d||[]),o=w(b.sort||[]),f=m?o:n.concat(o),p=b.filterCallback,r=b.filter,g=b.skip,h=b.take;return f&&i&&(a=a.sort(f,F,F,i)),r&&(a=a.filter(r),p&&(a=p(a)),l=a.toArray().length),f&&(i||(a=a.sort(f)),d&&(e=a.toArray())),m?(a=a.group(d,e),g!==F&&h!==F&&(a=new c(function i(f,g){for(var b,c,a=[],j=(f||[]).length,h=M(g)?g:function(a,b){return a[b]},d=0;d<j;d++)if((b=h(f,d)).hasSubgroups)a=a.concat(i(b.items));else{c=b.items;for(var e=0;e<c.length;e++)a.push(h(c,e))}return a}(a.toArray())).range(g,h),j=q(n,function(a){return k({},a,{skipItemSorting:!0})}),a=a.group(j,e))):(g!==F&&h!==F&&(a=a.range(g,h)),d&&(a=a.group(d,e))),{total:l,data:a.toArray()}};var z=f.extend({init:function(a){this.data=a.data},read:function(a){a.success(this.data)},update:function(a){a.success(a.data)},create:function(a){a.success(a.data)},destroy:function(a){a.success(a.data)}}),A=f.extend({init:function(a){var c,b=this;a=b.options=k({},b.options,a),L(U,function(c,b){typeof a[b]===N&&(a[b]={url:a[b]})}),b.cache=a.cache?m.create(a.cache):{find:d,add:d},c=a.parameterMap,a.submit&&(b.submit=a.submit),M(a.push)&&(b.push=a.push),b.push||(b.push=e),b.parameterMap=M(c)?c:function(a){var b={};return L(a,function(a,d){a in c&&G(a=c[a])&&(d=a.value(d),a=a.key),b[a]=d}),b}},options:{parameterMap:e},create:function(a){return K(this.setup(a,"create"))},read:function(b){var c,e,f=this.cache;c=(b=this.setup(b,"read")).success||d,b.error,(e=f.find(b.data))!==F?c(e):(b.success=function(a){f.add(b.data,a),c(a)},a.ajax(b))},update:function(a){return K(this.setup(a,"update"))},destroy:function(a){return K(this.setup(a,r))},setup:function(a,d){a=a||{};var c,b=this.options[d],e=M(b.data)?b.data(a.data):b.data;return a=k(!0,{},b,a),c=k(!0,{},e,a.data),a.data=this.parameterMap(c,d),M(a.url)&&(a.url=a.url(c)),a}}),m=f.extend({init:function(){this._store={}},add:function(a,b){a!==F&&(this._store[W(a)]=b)},find:function(a){return this._store[W(a)]},clear:function(){this._store={}},remove:function(a){delete this._store[W(a)]}});function ay(g,h,k,l,j){var d,c,a,e,i,f={};for(e=0,i=g.length;e<i;e++)for(c in d=g[e],h)(a=j[c])&&a!==c&&(f[a]||(f[a]=b.setter(a)),f[a](d,h[c](d)),delete d[c])}function az(e,f,h,j,i){var b,a,d,c,g;for(c=0,g=e.length;c<g;c++)for(a in b=e[c],f)b[a]=h._parse(a,f[a](b)),(d=i[a])&&d!==a&&delete b[d]}function aA(e,f,c,g,h){var a,b,d,i;for(b=0,i=e.length;b<i;b++)(d=g[(a=e[b]).field])&&d!=a.field&&(a.field=d),a.value=c._parse(a.field,a.value),a.hasSubgroups?aA(a.items,f,c,g,h):az(a.items,f,c,0,h)}function aB(a,b,c,d,e,f){return function(g){return g=a(g),aC(b,c,d,e,f)(g)}}function aC(a,b,c,d,e){return function(f){return f&&!H(c)&&("[object Array]"===ad.call(f)||f instanceof g||(f=[f]),b(f,c,new a,d,e)),f||[]}}m.create=function(a){return G(a)&&M(a.find)?a:!0===a?new m:({inmemory:function(){return new m}})[a]()};var n=f.extend({init:function(c){var g,d,b,k,a=this;for(g in c=c||{})d=c[g],a[g]=typeof d===N?V(d):d;k=c.modelBase||h,G(a.model)&&(a.model=b=k.define(a.model));var i=_(a.data,a);if(a._dataAccessFunction=i,a.model){var p,q,l=_(a.groups,a),m=_(a.serialize,a),e={},j={},n={},f={},o=!1;(b=a.model).fields&&(L(b.fields,function(a,b){var c;p=a,G(b)&&b.field?p=b.field:typeof b===N&&(p=b),G(b)&&b.from&&(c=b.from),o=o||c&&c!==a||p!==a,q=c||p,j[a]=-1!==q.indexOf(".")?V(q,!0):V(q),n[a]=V(a),e[c||p]=a,f[a]=c||p}),!c.serialize&&o&&(a.serialize=aB(m,b,ay,n,e,f))),a._dataAccessFunction=i,a._wrapDataAccessBase=aC(b,az,j,e,f),a.data=aB(i,b,az,j,e,f),a.groups=aB(l,b,aA,j,e,f)}},errors:function(a){return a?a.errors:null},parse:e,data:e,total:function(a){return a.length},groups:e,aggregates:function(){return{}},serialize:function(a){return a}});function aD(f){var a,g,d,b,c=[];for(a=0,g=f.length;a<g;a++){var e=f.at(a);if(e.hasSubgroups)c=c.concat(aD(e.items));else for(d=e.items,b=0;b<d.length;b++)c.push(d.at(b))}return c}function aE(b,c,d,e){for(var a=0;a<b.length&&b[a].data!==c&&!aF(b[a].data,d,e);a++);}function aF(b,d,c){for(var a=0,e=b.length;a<e;a++){if(b[a]&&b[a].hasSubgroups)return aF(b[a].items,d,c);if(b[a]===d||b[a]===c)return b[a]=c,!0}}function aG(a,b){return b?aI(a,function(a){return a.uid&&a.uid==b.uid||a[b.idField]===b.id&&b.id!==b._defaultId}):-1}function aH(a,b){return b?aI(a,function(a){return a.uid==b.uid}):-1}function aI(b,d){var a,c;for(a=0,c=b.length;a<c;a++)if(d(b[a]))return a;return -1}function aJ(b,a){if(!b||H(b))return a;var c,d=b[a];return c=G(d)?d.from||d.field||a:b[a]||a,M(c)?a:c}function aK(c,d){var b,e,a,f,g=[];for(b=0,e=c.length;b<e;b++){for(var h in a={},f=c[b])a[h]=f[h];a.field=aJ(d.fields,a.field),a.aggregates&&I(a.aggregates)&&(a.aggregates=aK(a.aggregates,d)),g.push(a)}return g}var j=i.extend({init:function(c){var d,a=this;if(c&&(d=c.data),c=a.options=k({},a.options,c),a._map={},a._prefetch={},a._data=[],a._pristineData=[],a._ranges=[],a._view=[],a._pristineTotal=0,a._destroyed=[],a._pageSize=c.pageSize,a._page=c.page||(c.pageSize?1:F),a._sort=w(c.sort),a._filter=x(c.filter),a._group=y(c.group),a._aggregate=c.aggregate,a._total=c.total,a._shouldDetachObservableParents=!0,i.fn.init.call(a),a.transport=B.create(c,d,a),M(a.transport.push)&&a.transport.push({pushCreate:_(a._pushCreate,a),pushUpdate:_(a._pushUpdate,a),pushDestroy:_(a._pushDestroy,a)}),null!=c.offlineStorage){if("string"==typeof c.offlineStorage){var e=c.offlineStorage;a._storage={getItem:function(){return JSON.parse(localStorage.getItem(e))},setItem:function(b){localStorage.setItem(e,W(a.reader.serialize(b)))}}}else a._storage=c.offlineStorage}a.reader=new b.data.readers[c.schema.type||"json"](c.schema),a.reader.model,a._detachObservableParents(),a._data=a._observe(a._data),a._online=!0,a.bind(["push",Q,P,R,"sync",T,S],c)},options:{data:null,schema:{modelBase:h},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1,inPlaceSort:!1},clone:function(){return this},online:function(b){return b!==F?this._online!=b&&(this._online=b)?this.sync():a.Deferred().resolve().promise():this._online},offlineData:function(a){return null==this.options.offlineStorage?null:a!==F?this._storage.setItem(a):this._storage.getItem()||[]},_isServerGrouped:function(){var a=this.group()||[];return this.options.serverGrouping&&a.length},_pushCreate:function(a){this._push(a,"pushCreate")},_pushUpdate:function(a){this._push(a,"pushUpdate")},_pushDestroy:function(a){this._push(a,"pushDestroy")},_push:function(b,c){var a=this._readData(b);a=a||b,this[c](a)},_flatData:function(a,c){if(a){if(this._isServerGrouped())return aD(a);if(!c)for(var b=0;b<a.length;b++)a.at(b)}return a},parent:d,get:function(d){var a,c,b=this._flatData(this._data,this.options.useRanges);for(a=0,c=b.length;a<c;a++)if(b[a].id==d)return b[a]},getByUid:function(a){return this._getByUid(a,this._data)},_getByUid:function(d,e){var a,c,b=this._flatData(e,this.options.useRanges);if(b){for(a=0,c=b.length;a<c;a++)if(b[a].uid==d)return b[a]}},indexOf:function(a){return aH(this._data,a)},at:function(a){return this._data.at(a)},data:function(b){var a=this;if(b===F){if(a._data)for(var c=0;c<a._data.length;c++)a._data.at(c);return a._data}a._detachObservableParents(),a._data=this._observe(b),a._pristineData=b.slice(0),a._storeData(),a._ranges=[],a.trigger("reset"),a._addRange(a._data),a._total=a._data.length,a._pristineTotal=a._total,a._process(a._data)},view:function(a){if(a===F)return this._view;this._view=this._observeView(a)},_observeView:function(b){var a=this;!function i(d,b,f,g,h){for(var c=0,j=d.length;c<j;c++){var a=d[c];if(a&&!(a instanceof g)){if(a.hasSubgroups===F||h){for(var e=0;e<b.length;e++)if(b[e]===a){d[c]=b.at(e),aE(f,b,a,d[c]);break}}else i(a.items,b,f,g,h)}}}(b,a._data,a._ranges,a.reader.model||l,a._isServerGrouped());var c=new u(b,a.reader.model);return c.parent=function(){return a.parent()},c},flatView:function(){return(this.group()||[]).length?aD(this._view):this._view},add:function(a){return this.insert(this._data.length,a)},_createNewModel:function(a){return this.reader.model?new this.reader.model(a):a instanceof l?a:new l(a)},insert:function(b,a){return a||(a=b,b=0),a instanceof h||(a=this._createNewModel(a)),this._isServerGrouped()?this._data.splice(b,0,this._wrapInEmptyGroup(a)):this._data.splice(b,0,a),this._insertModelInRange(b,a),a},pushInsert:function(c,b){var e=this._getCurrentRangeSpan();b||(b=c,c=0),I(b)||(b=[b]);var f=[],i=this.options.autoSync;this.options.autoSync=!1;try{for(var g=0;g<b.length;g++){var j=b[g],h=this.insert(c,j);f.push(h);var d=h.toJSON();this._isServerGrouped()&&(d=this._wrapInEmptyGroup(d)),this._pristineData.push(d),e&&e.length&&a(e).last()[0].pristineData.push(d),c++}}finally{this.options.autoSync=i}f.length&&this.trigger("push",{type:"create",items:f})},pushCreate:function(a){this.pushInsert(this._data.length,a)},pushUpdate:function(a){I(a)||(a=[a]);for(var d=[],e=0;e<a.length;e++){var c=a[e],f=this._createNewModel(c),b=this.get(f.id);b?(d.push(b),b.accept(c),b.trigger(P),this._updatePristineForModel(b,c)):this.pushCreate(c)}d.length&&this.trigger("push",{type:"update",items:d})},pushDestroy:function(b){var a=this._removeItems(b);a.length&&this.trigger("push",{type:"destroy",items:a})},_removeItems:function(a,c){I(a)||(a=[a]);var d=void 0===c||c,e=[],f=this.options.autoSync;this.options.autoSync=!1;try{for(var b=0;b<a.length;b++){var g=a[b],h=this._createNewModel(g),i=!1;this._eachItem(this._data,function(b){for(var a=0;a<b.length;a++){var c=b.at(a);if(c.id===h.id){e.push(c),b.splice(a,1),i=!0;break}}}),i&&d&&(this._removePristineForModel(h),this._destroyed.pop())}}finally{this.options.autoSync=f}return e},remove:function(a){var c,b=this,d=b._isServerGrouped();return this._eachItem(b._data,function(e){if((c=function(b,d){var c,a,e=b.length;for(a=0;a<e;a++)if((c=b[a]).uid&&c.uid==d.uid)return b.splice(a,1),c}(e,a))&&d)return c.isNew&&c.isNew()||b._destroyed.push(c),!0}),this._removeModelFromRanges(a),a},destroyed:function(){return this._destroyed},created:function(){var a,c,d=[],b=this._flatData(this._data,this.options.useRanges);for(a=0,c=b.length;a<c;a++)b[a].isNew&&b[a].isNew()&&d.push(b[a]);return d},updated:function(){var a,c,d=[],b=this._flatData(this._data,this.options.useRanges);for(a=0,c=b.length;a<c;a++)b[a].isNew&&!b[a].isNew()&&b[a].dirty&&d.push(b[a]);return d},sync:function(){var b=this,d=[],e=[],g=b._destroyed,f=a.Deferred().resolve().promise();if(b.online()){if(!b.reader.model)return f;d=b.created(),e=b.updated();var c=[];b.options.batch&&b.transport.submit?c=b._sendSubmit(d,e,g):(c.push.apply(c,b._send("create",d)),c.push.apply(c,b._send("update",e)),c.push.apply(c,b._send("destroy",g))),f=a.when.apply(null,c).then(function(){var a,c;for(a=0,c=arguments.length;a<c;a++)arguments[a]&&b._accept(arguments[a]);b._storeData(!0),b._syncEnd(),b._change({action:"sync"}),b.trigger("sync")})}else b._storeData(!0),b._syncEnd(),b._change({action:"sync"});return f},_syncEnd:d,cancelChanges:function(c){var a=this;c instanceof b.data.Model?a._cancelModel(c):(a._destroyed=[],a._detachObservableParents(),a._data=a._observe(a._pristineData),a.options.serverPaging&&(a._total=a._pristineTotal),a._ranges=[],a._addRange(a._data,0),a._changesCanceled(),a._change(),a._markOfflineUpdatesAsDirty())},_changesCanceled:d,_markOfflineUpdatesAsDirty:function(){null!=this.options.offlineStorage&&this._eachItem(this._data,function(c){for(var a=0;a<c.length;a++){var b=c.at(a);"update"!=b.__state__&&"create"!=b.__state__||(b.dirty=!0)}})},hasChanges:function(){var a,c,b=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return!0;for(a=0,c=b.length;a<c;a++)if(b[a].isNew&&b[a].isNew()||b[a].dirty)return!0;return!1},_accept:function(g){var h,c=this,e=g.models,b=g.response,d=0,i=c._isServerGrouped(),j=c._pristineData,f=g.type;if(c.trigger(T,{response:b,type:f}),b&&!H(b)){if(b=c.reader.parse(b),c._handleCustomErrors(b))return;I(b=c.reader.data(b))||(b=[b])}else b=a.map(e,function(a){return a.toJSON()});for("destroy"===f&&(c._destroyed=[]),d=0,h=e.length;d<h;d++)"destroy"!==f?(e[d].accept(b[d]),"create"===f?j.push(i?c._wrapInEmptyGroup(e[d].toJSON()):b[d]):"update"===f&&c._updatePristineForModel(e[d],b[d])):c._removePristineForModel(e[d])},_updatePristineForModel:function(a,c){this._executeOnPristineForModel(a,function(a,d){b.deepExtend(d[a],c)})},_executeOnPristineForModel:function(a,b){this._eachPristineItem(function(c){var d=aG(c,a);if(-1<d)return b(d,c),!0})},_removePristineForModel:function(a){this._executeOnPristineForModel(a,function(a,b){b.splice(a,1)})},_readData:function(a){return(this._isServerGrouped()?this.reader.groups:this.reader.data).call(this.reader,a)},_eachPristineItem:function(c){var a=this,b=a.options,d=a._getCurrentRangeSpan();a._eachItem(a._pristineData,c),b.serverPaging&&b.useRanges&&L(d,function(d,b){a._eachItem(b.pristineData,c)})},_eachItem:function(a,b){a&&a.length&&(this._isServerGrouped()?function d(b,c){for(var a=0;a<b.length;a++)if(b[a].hasSubgroups){if(d(b[a].items,c))return 1}else if(c(b[a].items,b[a]))return 1}(a,b):b(a))},_pristineForModel:function(b){var a,c;return this._eachPristineItem(function(d){if(-1<(c=aG(d,b)))return a=d[c],!0}),a},_cancelModel:function(a){var b=this,c=this._pristineForModel(a);this._eachItem(this._data,function(d){var e=aH(d,a);0<=e&&(!c||a.isNew()&&!c.__state__?(b._modelCanceled(a),d.splice(e,1),b._removeModelFromRanges(a)):(d[e].accept(c),"update"==c.__state__&&(d[e].dirty=!0)))})},_modelCanceled:d,_submit:function(d,c){var b=this;b.trigger(R,{type:"submit"}),b.trigger(S),b.transport.submit(k({success:function(c,e){var b=a.grep(d,function(a){return a.type==e})[0];b&&b.resolve({response:c,models:b.models,type:e})},error:function(c,e,f){for(var a=0;a<d.length;a++)d[a].reject(c);b.error(c,e,f)}},c))},_sendSubmit:function(c,d,e){var b=[];return this.options.batch&&(c.length&&b.push(a.Deferred(function(a){a.type="create",a.models=c})),d.length&&b.push(a.Deferred(function(a){a.type="update",a.models=d})),e.length&&b.push(a.Deferred(function(a){a.type="destroy",a.models=e})),this._submit(b,{data:{created:this.reader.serialize(ax(c)),updated:this.reader.serialize(ax(d)),destroyed:this.reader.serialize(ax(e))}})),b},_promise:function(b,c,d){var e=this;return a.Deferred(function(a){e.trigger(R,{type:d}),e.trigger(S),e.transport[d].call(e.transport,k({success:function(b){a.resolve({response:b,models:c,type:d})},error:function(b,c,d){a.reject(b),e.error(b,c,d)}},b))}).promise()},_send:function(d,a){var b,e,c=[],f=this.reader.serialize(ax(a));if(this.options.batch)a.length&&c.push(this._promise({data:{models:f}},a,d));else for(b=0,e=a.length;b<e;b++)c.push(this._promise({data:f[b]},[a[b]],d));return c},read:function(c){var b=this,d=b._params(c),e=a.Deferred();return b._queueRequest(d,function(){var a=b.trigger(R,{type:"read"});a?(b._dequeueRequest(),e.resolve(a)):(b.trigger(S),b._ranges=[],b.trigger("reset"),b.online()?b.transport.read({data:d,success:function(a){b._ranges=[],b.success(a,d),e.resolve()},error:function(){var a=t.call(arguments);b.error.apply(b,a),e.reject.apply(e,a)}}):null!=b.options.offlineStorage&&(b.success(b.offlineData(),d),e.resolve()))}),e.promise()},_readAggregates:function(a){return this.reader.aggregates(a)},success:function(b){var d,f,a=this,m=a.options;if(a.trigger(T,{response:b,type:"read"}),a.online()){if(b=a.reader.parse(b),a._handleCustomErrors(b))return void a._dequeueRequest();a._total=a.reader.total(b),a._pageSize>a._total&&(a._pageSize=a._total,a.options.pageSize&&a.options.pageSize>a._pageSize&&(a._pageSize=a.options.pageSize)),a._aggregate&&m.serverAggregates&&(a._aggregateResult=a._readAggregates(b)),b=a._readData(b),a._destroyed=[]}else{b=a._readData(b),d=[];var c,i={},j=a.reader.model,k=j?j.idField:"id";for(c=0;c<this._destroyed.length;c++){var l=this._destroyed[c][k];i[l]=l}for(c=0;c<b.length;c++){var e=b[c];"destroy"==e.__state__?i[e[k]]||this._destroyed.push(this._createNewModel(e)):d.push(e)}b=d,a._total=b.length}if(a._pristineTotal=a._total,f=a._skip&&a._data.length&&a._skip<a._data.length,a.options.endless){f&&a._pristineData.splice(a._skip,a._pristineData.length),d=b.slice(0);for(var g=0;g<d.length;g++)a._pristineData.push(d[g])}else a._pristineData=b.slice(0);if(a._detachObservableParents(),a.options.endless){a._data.unbind(P,a._changeHandler),a._isServerGrouped()&&a._data[a._data.length-1].value===b[0].value&&(function f(c,d){var a,b;if(d.items&&d.items.length)for(var e=0;e<d.items.length;e++)a=c.items[e],b=d.items[e],a&&b?a.hasSubgroups?f(a,b):a.field&&a.value==b.value?a.items.push.apply(a.items,b.items):c.items.push.apply(c.items,[b]):b&&c.items.push.apply(c.items,[b])}(a._data[a._data.length-1],b[0]),b.shift()),b=a._observe(b),f&&a._data.splice(a._skip,a._data.length);for(var h=0;h<b.length;h++)a._data.push(b[h]);a._data.bind(P,a._changeHandler)}else a._data=a._observe(b);a._markOfflineUpdatesAsDirty(),a._storeData(),a._addRange(a._data),a._process(a._data),a._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var a=0;a<this._data.length;a++)this._data[a].parent&&(this._data[a].parent=d)},_storeData:function(e){var f=this._isServerGrouped(),g=this.reader.model;if(null!=this.options.offlineStorage){for(var a=function h(d){for(var e=[],c=0;c<d.length;c++){var a=d.at(c),b=a.toJSON();f&&a.items?b.items=h(a.items):(b.uid=a.uid,g&&(a.isNew()?b.__state__="create":a.dirty&&(b.__state__="update"))),e.push(b)}return e}(this._data),c=[],b=0;b<this._destroyed.length;b++){var d=this._destroyed[b].toJSON();d.__state__="destroy",c.push(d)}this.offlineData(a.concat(c)),e&&(this._pristineData=this.reader.reader?this.reader.reader._wrapDataAccessBase(a):this.reader._wrapDataAccessBase(a))}},_addRange:function(a,b){var c=void 0!==b?b:this._skip||0,d=c+this._flatData(a,!0).length;this._ranges.push({start:c,end:d,data:a,pristineData:a.toJSON(),timestamp:this._timeStamp()}),this._sortRanges()},_sortRanges:function(){this._ranges.sort(function(a,b){return a.start-b.start})},error:function(a,b,c){this._dequeueRequest(),this.trigger(T,{}),this.trigger(Q,{xhr:a,status:b,errorThrown:c})},_params:function(b){var a=k({take:this.take(),skip:this.skip(),page:this.page(),pageSize:this.pageSize(),sort:this._sort,filter:this._filter,group:this._group,aggregate:this._aggregate},b);return this.options.serverPaging||(delete a.take,delete a.skip,delete a.page,delete a.pageSize),this.options.serverGrouping?this.reader.model&&a.group&&(a.group=aK(a.group,this.reader.model)):delete a.group,this.options.serverFiltering?this.reader.model&&a.filter&&(a.filter=function g(b,e){var c,f,a={};for(var d in b)"filters"!==d&&(a[d]=b[d]);if(b.filters)for(a.filters=[],c=0,f=b.filters.length;c<f;c++)a.filters[c]=g(b.filters[c],e);else a.field=aJ(e.fields,a.field);return a}(a.filter,this.reader.model)):delete a.filter,this.options.serverSorting?this.reader.model&&a.sort&&(a.sort=aK(a.sort,this.reader.model)):delete a.sort,this.options.serverAggregates?this.reader.model&&a.aggregate&&(a.aggregate=aK(a.aggregate,this.reader.model)):delete a.aggregate,a},_queueRequest:function(c,b){var a=this;a._requestInProgress?a._pending={callback:_(b,a),options:c}:(a._requestInProgress=!0,a._pending=F,b())},_dequeueRequest:function(){var a=this;a._requestInProgress=!1,a._pending&&a._queueRequest(a._pending.options,a._pending.callback)},_handleCustomErrors:function(b){if(this.reader.errors){var a=this.reader.errors(b);if(a)return this.trigger(Q,{xhr:null,status:"customerror",errorThrown:"custom error",errors:a}),!0}return!1},_shouldWrap:function(a){var b=this.reader.model;return!(!b||!a.length)&&!(a[0]instanceof b)},_observe:function(b){var a=this,c=a.reader.model;return(a._shouldDetachObservableParents=!0,b instanceof g)?(a._shouldDetachObservableParents=!1,a._shouldWrap(b)&&(b.type=a.reader.model,b.wrapAll(b,b))):(b=new(a.pageSize()&&!a.options.serverPaging?u:g)(b,a.reader.model)).parent=function(){return a.parent()},a._isServerGrouped()&&function f(d,c){var b,e,a;if(c)for(b=0,e=d.length;b<e;b++)(a=d.at(b)).hasSubgroups?f(a.items,c):a.items=new u(a.items,c,a.items._events)}(b,c),!(a._changeHandler&&a._data&&a._data instanceof g)||a.options.useRanges&&a.options.serverPaging?a._changeHandler=_(a._change,a):a._data.unbind(P,a._changeHandler),b.bind(P,a._changeHandler)},_updateTotalForAction:function(c,d){var a=this,b=parseInt(a._total,10);av(a._total)||(b=parseInt(a._pristineTotal,10)),"add"===c?b+=d.length:"remove"===c?b-=d.length:"itemchange"===c||"sync"===c||a.options.serverPaging?"sync"===c&&(b=a._pristineTotal=parseInt(a._total,10)):b=a._pristineTotal,a._total=b},_change:function(a){var c,e,b=this,d=a?a.action:"";if("remove"===d)for(c=0,e=a.items.length;c<e;c++)a.items[c].isNew&&a.items[c].isNew()||b._destroyed.push(a.items[c]);if(b.options.autoSync&&("add"===d||"remove"===d||"itemchange"===d)){var f=function(c){"sync"===c.action&&(b.unbind("change",f),b._updateTotalForAction(d,a.items))};b.first("change",f),b.sync()}else b._updateTotalForAction(d,a?a.items:[]),b._process(b._data,a)},_calculateAggregates:function(e,a){a=a||{};var b=new c(e),f=a.aggregate,d=a.filter;return d&&(b=b.filter(d)),b.aggregate(f)},_process:function(e,c){var d,a=this,b={};!0!==a.options.serverPaging&&(b.skip=a._skip,b.take=a._take||a._pageSize,b.skip===F&&a._page!==F&&a._pageSize!==F&&(b.skip=(a._page-1)*a._pageSize),a.options.useRanges&&(b.skip=a.currentRangeStart())),!0!==a.options.serverSorting&&(b.sort=a._sort),!0!==a.options.serverFiltering&&(b.filter=a._filter),!0!==a.options.serverGrouping&&(b.group=a._group),!0!==a.options.serverAggregates&&(b.aggregate=a._aggregate),a.options.serverGrouping&&a._clearEmptyGroups(e),d=a._queryProcess(e,b),!0!==a.options.serverAggregates&&(a._aggregateResult=a._calculateAggregates(d.dataToAggregate||e,b)),a.view(d.data),a._setFilterTotal(d.total,!1),(c=c||{}).items=c.items||a._view,a.trigger(P,c)},_clearEmptyGroups:function(c){for(var b=c.length-1;0<=b;b--){var a=c[b];a.hasSubgroups?this._clearEmptyGroups(a.items):a.items&&!a.items.length&&aa.apply(a.parent(),[b,1])}},_queryProcess:function(a,b){return this.options.inPlaceSort?c.process(a,b,this.options.inPlaceSort):c.process(a,b)},_mergeState:function(b){var d,c=this;return b!==F&&(c._pageSize=b.pageSize,c._page=b.page,c._sort=b.sort,c._filter=b.filter,c._group=b.group,c._aggregate=b.aggregate,c._skip=c._currentRangeStart=b.skip,c._take=b.take,c._skip===F&&(c._skip=c._currentRangeStart=c.skip(),b.skip=c.skip()),c._take===F&&c._pageSize!==F&&(c._take=c._pageSize,b.take=c._take),b.sort&&(c._sort=b.sort=w(b.sort),c._sortFields=function(b,f){var e={};if(b)for(var c=typeof b===N?{field:b,dir:void 0}:b,d=I(c)?c:c!==F?[c]:[],a=0;a<d.length;a++)e[d[a].field]={dir:d[a].dir,index:a+1};return e}(b.sort)),b.filter&&(c._filter=b.filter=c.options.accentFoldingFiltering&&!a.isEmptyObject(b.filter)?a.extend({},x(b.filter),{accentFoldingFiltering:c.options.accentFoldingFiltering}):x(b.filter)),b.group&&(c._group=b.group=y(b.group)),b.aggregate&&(c._aggregate=b.aggregate=I(d=b.aggregate)?d:[d])),b},query:function(b){if(this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates||(this._data===F||0===this._data.length)&&!this._destroyed.length){if(this.options.endless){var c,d=b.pageSize-this.pageSize();0<d?(d=this.pageSize(),b.page=b.pageSize/d,b.pageSize=d):(b.page=1,this.options.endless=!1)}return this.read(this._mergeState(b))}var e=this.trigger(R,{type:"read"});return e||(this.trigger(S),c=this._queryProcess(this._data,this._mergeState(b)),this._setFilterTotal(c.total,!0),this._aggregateResult=this._calculateAggregates(c.dataToAggregate||this._data,b),this.view(c.data),this.trigger(T,{type:"read"}),this.trigger(P,{items:c.data})),a.Deferred().resolve(e).promise()},_setFilterTotal:function(a,b){this.options.serverFiltering||(a!==F?this._total=a:b&&(this._total=this._data.length))},fetch:function(a){var b=this;return this._query().done(function(c){!0!==c&&M(a)&&a.call(b)})},_query:function(a){return this.query(k({},{page:this.page(),pageSize:this.pageSize(),sort:this.sort(),filter:this.filter(),group:this.group(),aggregate:this.aggregate()},a))},next:function(c){var a=this,b=a.page(),d=a.total();if(c=c||{},b&&!(d&&b+1>a.totalPages()))return a._skip=a._currentRangeStart=b*a.take(),b+=1,c.page=b,a._query(c),b},prev:function(c){var a=this,b=a.page();if(c=c||{},b&&1!==b)return a._skip=a._currentRangeStart=a._skip-a.take(),--b,c.page=b,a._query(c),b},page:function(a){var b;return a!==F?(a=X.max(X.min(X.max(a,1),this.totalPages()),1),void this._query(this._pageableQueryOptions({page:a}))):(b=this.skip())!==F?X.round((b||0)/(this.take()||1))+1:F},pageSize:function(a){if(a===F)return this.take();this._query(this._pageableQueryOptions({pageSize:a,page:1}))},sort:function(a){return a!==F?(this.trigger("sort"),void this._query({sort:a})):this._sort},filter:function(a){if(a===F)return this._filter;this.trigger("reset"),this._query({filter:a,page:1})},group:function(a){if(a===F)return this._group;this._query({group:a})},total:function(){return parseInt(this._total||0,10)},aggregate:function(a){if(a===F)return this._aggregate;this._query({aggregate:a})},aggregates:function(){var a=this._aggregateResult;return H(a)&&(a=this._emptyAggregates(this.aggregate())),a},_emptyAggregates:function(a){var c={};if(!H(a)){var d={};I(a)||(a=[a]);for(var b=0;b<a.length;b++)d[a[b].aggregate]=0,c[a[b].field]=d}return c},_pageableQueryOptions:function(a){return a},_wrapInEmptyGroup:function(c){var a,b,d,e=this.group();for(d=e.length-1;0<=d;d--)b=e[d],a={value:c.get?c.get(b.field):c[b.field],field:b.field,items:a?[a]:[c],hasSubgroups:!!a,aggregates:this._emptyAggregates(b.aggregates)};return a},totalPages:function(){var a=this.pageSize()||this.total();return X.ceil((this.total()||0)/a)},inRange:function(a,b){var c=X.min(a+b,this.total());return!this.options.serverPaging&&0<this._data.length||0<this._findRange(a,c).length},lastRange:function(){var a=this._ranges;return a[a.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var a=this._ranges;return a.length&&a[0].data.length&&a[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return new Date().getTime()},range:function(c,a,f){this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,c=X.min(c||0,this.total()),f=M(f)?f:d;var h,b=this,e=X.max(X.floor(c/a),0)*a,g=X.min(e+a,b.total());if((h=b._findRange(c,X.min(c+a,b.total()))).length||0===b.total())return b._processRangeData(h,c,a,e,g),void f();a!==F&&(b._rangeExists(e,g)?e<c&&b.prefetch(g,a,function(){b.range(c,a,f)}):b.prefetch(e,a,function(){e<c&&g<b.total()&&!b._rangeExists(g,X.min(g+a,b.total()))?b.prefetch(g,a,function(){b.range(c,a,f)}):b.range(c,a,f)}))},_findRange:function(b,g){var a,e,h,i,j,l,k,f,m,c,n,o=this._ranges,p=[],d=this.options,_=d.serverSorting||d.serverPaging||d.serverFiltering||d.serverGrouping||d.serverAggregates;for(e=0,n=o.length;e<n;e++)if(b>=(a=o[e]).start&&b<=a.end){for(c=0,h=e;h<n;h++)if(a=o[h],(m=this._flatData(a.data,!0)).length&&b+c>=a.start){if(l=a.data,k=a.end,!_){if(d.inPlaceSort)f=this._queryProcess(a.data,{filter:this.filter()});else{var q=ar(this.group()||[]).concat(w(this.sort()||[]));f=this._queryProcess(a.data,{sort:q,filter:this.filter()})}m=l=f.data,f.total!==F&&(k=f.total)}if(i=0,b+c>a.start&&(i=b+c-a.start),j=m.length,g<k&&(j-=k-g),c+=j-i,p=this._mergeGroups(p,l,i,j),g<=a.end&&c==g-b)return p}break}return[]},_mergeGroups:function(a,b,c,d){if(this._isServerGrouped()){var e,f=b.toJSON();return a.length&&(e=a[a.length-1]),function h(b,c,d,g){for(var e,a,f=0;c.length&&g;){var i=(a=(e=c[f]).items).length;if(b&&b.field===e.field&&b.value===e.value?(b.hasSubgroups&&b.items.length?h(b.items[b.items.length-1],e.items,d,g):(a=a.slice(d,d+g),b.items=b.items.concat(a)),c.splice(f--,1)):(e.hasSubgroups&&a.length?h(e,a,d,g):(a=a.slice(d,d+g),e.items=a),e.items.length||c.splice(f--,1)),0===a.length?d-=i:(d=0,g-=a.length),++f>=c.length)break}f<c.length&&c.splice(f,c.length-f)}(e,f,c,d),a.concat(f)}return a.concat(b.slice(c,d))},_processRangeData:function(b,c,e,f,g){var a=this;a._pending=F,a._skip=c>a.skip()?X.min(g,(a.totalPages()-1)*a.take()):f,a._currentRangeStart=c,a._take=e;var d=a.options.serverPaging,h=a.options.serverSorting,i=a.options.serverFiltering,j=a.options.serverAggregates;try{a.options.serverPaging=!0,a._isServerGrouped()||a.group()&&a.group().length||(a.options.serverSorting=!0),a.options.serverFiltering=!0,a.options.serverPaging=!0,a.options.serverAggregates=!0,d&&(a._detachObservableParents(),a._data=b=a._observe(b)),a._process(b)}finally{a.options.serverPaging=d,a.options.serverSorting=h,a.options.serverFiltering=i,a.options.serverAggregates=j}},skip:function(){return this._skip===F?this._page!==F?(this._page-1)*(this.take()||1):F:this._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(b,c,d,e){var a=this,f=a._timeStamp();return function(g){var h,k,i,l=!1,j={start:b,end:c,data:[],timestamp:a._timeStamp()};if(a._dequeueRequest(),a.trigger(T,{response:g,type:"read"}),g=a.reader.parse(g),(i=a._readData(g)).length){for(h=0,k=a._ranges.length;h<k;h++)if(a._ranges[h].start===b){l=!0,(j=a._ranges[h]).pristineData=i,j.data=a._observe(i),j.end=j.start+a._flatData(j.data,!0).length,a._sortRanges();break}l||a._addRange(a._observe(i),b)}a._total=a.reader.total(g),(e||f>=a._currentRequestTimeStamp||!a._skipRequestsInProgress)&&(d&&i.length?d():a.trigger(P,{}))}},prefetch:function(b,c,d){var a=this,e=X.min(b+c,a.total()),f={take:c,skip:b,page:b/c+1,pageSize:c,sort:a._sort,filter:a._filter,group:a._group,aggregate:a._aggregate};a._rangeExists(b,e)?d&&d():(clearTimeout(a._timeout),a._timeout=setTimeout(function(){a._queueRequest(f,function(){a.trigger(R,{type:"read"})?a._dequeueRequest():a.transport.read({data:a._params(f),success:a._prefetchSuccessHandler(b,e,d),error:function(){var b=t.call(arguments);a.error.apply(a,b)}})})},100))},_multiplePrefetch:function(a,b,c){var d=X.min(a+b,this.total()),e={take:b,skip:a,page:a/b+1,pageSize:b,sort:this._sort,filter:this._filter,group:this._group,aggregate:this._aggregate};this._rangeExists(a,d)?c&&c():this.trigger(R,{type:"read"})||this.transport.read({data:this._params(e),success:this._prefetchSuccessHandler(a,d,c,!0)})},_rangeExists:function(d,e){var a,c,b=this._ranges;for(a=0,c=b.length;a<c;a++)if(b[a].start<=d&&b[a].end>=e)return!0;return!1},_getCurrentRangeSpan:function(){var a,b,d=this._ranges,c=this.currentRangeStart(),f=c+(this.take()||0),e=[],g=d.length;for(b=0;b<g;b++)((a=d[b]).start<=c&&a.end>=c||a.start>=c&&a.start<=f)&&e.push(a);return e},_removeModelFromRanges:function(c){for(var b,a=0,d=this._ranges.length;a<d;a++)b=this._ranges[a],this._removeModelFromRange(b,c);this._updateRangesLength()},_removeModelFromRange:function(a,b){this._eachItem(a.data,function(c){for(var a=0;a<c.length;a++){var d=c[a];if(d.uid&&d.uid==b.uid){[].splice.call(c,a,1);break}}})},_insertModelInRange:function(b,d){var a,c,e=this._ranges||[],f=e.length;for(c=0;c<f;c++)if((a=e[c]).start<=b&&a.end>=b){this._getByUid(d.uid,a.data)||(this._isServerGrouped()?a.data.splice(b,0,this._wrapInEmptyGroup(d)):a.data.splice(b,0,d));break}this._updateRangesLength()},_updateRangesLength:function(){var a,b,f=this._ranges||[],g=f.length,d=!1,c=0,e=0;for(b=0;b<g;b++)a=f[b],e=this._flatData(a.data,!0).length-X.abs(a.end-a.start),d||0===e?d&&(a.start+=c,a.end+=c):(d=!0,c=e,a.end+=c)}}),B={};B.create=function(c,f,g){var e,d=c.transport?a.extend({},c.transport):null;return d?(d.read=typeof d.read===N?{url:d.read}:d.read,"jsdo"===c.type&&(d.dataSource=g),c.type&&(b.data.transports=b.data.transports||{},b.data.schemas=b.data.schemas||{},b.data.transports[c.type]?G(b.data.transports[c.type])?d=k(!0,{},b.data.transports[c.type],d):e=new b.data.transports[c.type](k(d,{data:f})):b.logToConsole("Unknown DataSource transport type '"+c.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),c.schema=k(!0,{},b.data.schemas[c.type],c.schema)),e||(M(d.read)?d:new A(d))):new z({data:c.data||[]})},j.create=function(f){(I(f)||f instanceof g)&&(f={data:f});var h,o,i,c=f||{},d=c.data,e=c.fields,l=c.table,m=c.select,n={};if(d||!e||c.transport||(l?d=function(m,f){var c,g,b,h,d,i,e,j=a(m)[0].tBodies[0],k=j?j.rows:[],n=f.length,l=[];for(c=0,g=k.length;c<g;c++){for(d={},e=!0,h=k[c].cells,b=0;b<n;b++)"th"!==(i=h[b]).nodeName.toLowerCase()&&(e=!1,d[f[b].field]=i.innerHTML);e||l.push(d)}return l}(l,e):m&&(d=function(g,h){var e,i,b,c,d,f,j=(g=a(g)[0]).options,l=h[0],m=h[1],k=[];for(e=0,i=j.length;e<i;e++)d={},(b=(c=j[e]).parentNode)===g&&(b=null),c.disabled||b&&b.disabled||(b&&(d.optgroup=b.label),d[l.field]=c.text,f=(f=c.attributes.value)&&f.specified?c.value:c.text,d[m.field]=f,k.push(d));return k}(m,e),c.group===F&&d[0]&&d[0].optgroup!==F&&(c.group="optgroup"))),b.data.Model&&e&&(!c.schema||!c.schema.model)){for(h=0,o=e.length;h<o;h++)(i=e[h]).type&&(n[i.field]=i);H(n)||(c.schema=k(!0,c.schema,{model:{fields:n}}))}return c.data=d,m=null,l=c.select=null,c.table=null,c instanceof j?c:new j(c)};var C=h.define({idField:"id",init:function(d){var a=this,c=a.hasChildren||d&&d.hasChildren,g="items",e={};if(b.data.Model.fn.init.call(a,d),typeof a.children===N&&(g=a.children),e={schema:{data:g,model:{hasChildren:c,id:a.idField,fields:a.fields}}},typeof a.children!==N&&k(e,a.children),e.data=d,typeof(c=c||e.schema.data)===N&&(c=b.getter(c)),M(c)){var f=c.call(a,a);f&&0===f.length?a.hasChildren=!1:a.hasChildren=!!f}a._childrenOptions=e,a.hasChildren&&a._initChildren(),a._loaded=!(!d||!d._loaded)},_initChildren:function(){var a,c,d,b=this;b.children instanceof p||(d=(c=(a=b.children=new p(b._childrenOptions)).transport).parameterMap,c.parameterMap=function(a,c){return a[b.idField||"id"]=b.id,d&&(a=d(a,c)),a},a.parent=function(){return b},a.bind(P,function(a){a.node=a.node||b,b.trigger(P,a)}),a.bind(Q,function(a){var c=b.parent();c&&(a.node=a.node||b,c.trigger(Q,a))}),b._updateChildrenField())},append:function(a){this._initChildren(),this.loaded(!0),this.children.add(a)},hasChildren:!1,level:function(){for(var a=this.parentNode(),b=0;a&&a.parentNode;)b++,a=a.parentNode?a.parentNode():null;return b},_updateChildrenField:function(){this[this._childrenOptions.schema.data||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var b,d,c={},e="_query";return this.hasChildren?(this._initChildren(),b=this.children,c[this.idField||"id"]=this.id,this._loaded||(b._data=F,e="read"),b.one(P,_(this._childrenLoaded,this)),this._matchFilter&&(c.filter={field:"_matchFilter",operator:"eq",value:!0}),d=b[e](c)):this.loaded(!0),d||a.Deferred().resolve().promise()},parentNode:function(){return this.parent().parent()},loaded:function(a){if(a===F)return this._loaded;this._loaded=a},shouldSerialize:function(a){return h.fn.shouldSerialize.call(this,a)&&"children"!==a&&"_loaded"!==a&&"hasChildren"!==a&&"_childrenOptions"!==a}});function o(a){return function(){var b=this._data,c=j.fn[a].apply(this,t.call(arguments));return this._data!=b&&this._attachBubbleHandlers(),c}}var p=j.extend({init:function(a){var b=C.define({children:a});a.filter&&!a.serverFiltering&&(this._hierarchicalFilter=a.filter,a.filter=null),j.fn.init.call(this,k(!0,{},{schema:{modelBase:b,model:b}},a)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var a=this;a._data.bind(Q,function(b){a.trigger(Q,b)})},read:function(a){var b=j.fn.read.call(this,a);return this._hierarchicalFilter&&(this._data&&0<this._data.length?this.filter(this._hierarchicalFilter):(this.options.filter=this._hierarchicalFilter,this._filter=x(this.options.filter),this._hierarchicalFilter=null)),b},remove:function(c){var d,a=c.parentNode(),b=this;return a&&a._initChildren&&(b=a.children),d=j.fn.remove.call(b,c),a&&!b.data().length&&(a.hasChildren=!1),d},success:o("success"),data:o("data"),insert:function(b,c){var a=this.parent();return a&&a._initChildren&&(a.hasChildren=!0,a._initChildren()),j.fn.insert.call(this,b,c)},filter:function(a){if(a===F)return this._filter;!this.options.serverFiltering&&this._markHierarchicalQuery(a)&&(a={logic:"or",filters:[a,{field:"_matchFilter",operator:"equals",value:!0}]}),this.trigger("reset"),this._query({filter:a,page:1})},_markHierarchicalQuery:function(b){var d,i,f,g,e,h=this.options.accentFoldingFiltering;return(b=h?a.extend({},x(b),{accentFoldingFiltering:h}):x(b))&&0!==b.filters.length?(f=(d=c.filterExpr(b)).fields,g=d.operators,i=e=new Function("d, __f, __o","return "+d.expression),(f.length||g.length)&&(e=function(a){return i(a,f,g)}),this._updateHierarchicalFilter(e),!0):(this._updateHierarchicalFilter(function(){return!0}),!1)},_updateHierarchicalFilter:function(b){for(var a,d=this._data,e=!1,c=0;c<d.length;c++)(a=d[c]).hasChildren?(a._matchFilter=a.children._updateHierarchicalFilter(b),a._matchFilter||(a._matchFilter=b(a))):a._matchFilter=b(a),a._matchFilter&&(e=!0);return e},_find:function(d,e){var a,f,b,g,c=this._data;if(c){if(b=j.fn[d].call(this,e))return b;for(a=0,f=(c=this._flatData(this._data)).length;a<f;a++)if((g=c[a].children)instanceof p&&(b=g[d](e)))return b}},get:function(a){return this._find("get",a)},getByUid:function(a){return this._find("getByUid",a)}});p.create=function(d){var b=(d=d&&d.push?{data:d}:d)||{},c=b.data,e=b.fields,f=b.list;return c&&c._dataSource?c._dataSource:(c||!e||b.transport||f&&(c=function q(e,c){var f,j,b,g,k,h,i,d,l=a(e).children(),m=[],r=c[0].field,n=c[1]&&c[1].field,o=c[2]&&c[2].field,p=c[3]&&c[3].field;function _(a,b){return a.filter(b).add(a.find(b))}for(f=0,j=l.length;f<j;f++)b={_loaded:!0},h=(g=l.eq(f))[0].firstChild,e=(d=g.children()).filter("ul"),d=d.filter(":not(ul)"),(k=g.attr("data-id"))&&(b.id=k),h&&(b[r]=3==h.nodeType?h.nodeValue:d.text()),n&&(b[n]=_(d,"a").attr("href")),p&&(b[p]=_(d,"img").attr("src")),o&&(i=_(d,".k-sprite").prop("className"),b[o]=i&&a.trim(i.replace("k-sprite",""))),e.length&&(b.items=q(e.eq(0),c)),"true"==g.attr("data-hasChildren")&&(b.hasChildren=!0),m.push(b);return m}(f,e)),b.data=c,b instanceof p?b:new p(b))};var D=b.Observable.extend({init:function(a,c,d){b.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=a,this.prefetch=!d;var e=this;a.bind("change",function(){e._change()}),a.bind("reset",function(){e._reset()}),this._syncWithDataSource(),this.setViewSize(c)},setViewSize:function(a){this.viewSize=a,this._recalculate()},at:function(a){var b=this.pageSize,c=!0;return a>=this.total()?(this.trigger("endreached",{index:a}),null):this.useRanges?this.useRanges?((a<this.dataOffset||a>=this.skip+b)&&(c=this.range(Math.floor(a/b)*b)),a===this.prefetchThreshold&&this._prefetch(),a===this.midPageThreshold?this.range(this.nextMidRange,!0):a===this.nextPageThreshold?this.range(this.nextFullRange):a===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),c?this.dataSource.at(a-this.dataOffset):(this.trigger("endreached",{index:a}),null)):void 0:this.dataSource.view()[a]},indexOf:function(a){return this.dataSource.data().indexOf(a)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var b=this,a=b.pageSize,c=b.skip-b.viewSize+a,d=X.max(X.floor(c/a),0)*a;this.offset=c,this.dataSource.prefetch(d,a,function(){b._goToRange(c,!0)})},range:function(a,e){if(this.offset===a)return!0;var f=this,b=this.pageSize,c=X.max(X.floor(a/b),0)*b,d=this.dataSource;return e&&(c+=b),d.inRange(a,b)?(this.offset=a,this._recalculate(),this._goToRange(a),!0):!this.prefetch||(d.prefetch(c,b,function(){f.offset=a,f._recalculate(),f._goToRange(a,!0)}),!1)},syncDataSource:function(){var a=this.offset;this.offset=null,this.range(a)},destroy:function(){this.unbind()},_prefetch:function(){var d=this,a=this.pageSize,b=this.skip+a,c=this.dataSource;c.inRange(b,a)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:b,take:a}),c.prefetch(b,a,function(){d._prefetching=!1,d.trigger("prefetched",{skip:b,take:a})}))},_goToRange:function(a,b){this.offset===a&&(this.dataOffset=a,this._expanding=b,this.dataSource.range(a,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var a=this.dataSource;this.length=this.useRanges?a.lastRange().end:a.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var a=this.dataSource;this._firstItemUid=a.firstItemUid(),this.dataOffset=this.offset=a.skip()||0,this.pageSize=a.pageSize(),this.useRanges=a.options.serverPaging},_recalculate:function(){var b=this.pageSize,d=this.offset,c=this.viewSize,a=Math.ceil(d/b)*b;this.skip=a,this.midPageThreshold=a+b-1,this.nextPageThreshold=a+c-1,this.prefetchThreshold=a+Math.floor(b/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=a+b-c,this.nextFullRange=a,this.previousMidRange=d-c,this.previousFullRange=a-b}}),E=b.Observable.extend({init:function(a,c){var d=this;b.Observable.fn.init.call(d),this.dataSource=a,this.batchSize=c,this._total=0,this.buffer=new D(a,3*c),this.buffer.bind({endreached:function(a){d.trigger("endreached",{index:a.index})},prefetching:function(a){d.trigger("prefetching",{skip:a.skip,take:a.take})},prefetched:function(a){d.trigger("prefetched",{skip:a.skip,take:a.take})},reset:function(){d._total=0,d.trigger("reset")},resize:function(){d._total=Math.ceil(this.length/d.batchSize),d.trigger("resize",{total:d.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(f){var c,a=this.buffer,d=f*this.batchSize,g=this.batchSize,e=[];a.offset>d&&a.at(a.offset-1);for(var b=0;b<g&&null!==(c=a.at(d+b));b++)e.push(c);return e},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}});k(!0,b.data,{readers:{json:n},Query:c,DataSource:j,HierarchicalDataSource:p,Node:C,ObservableObject:l,ObservableArray:g,LazyObservableArray:u,LocalTransport:z,RemoteTransport:A,Cache:m,DataReader:n,Model:h,Buffer:D,BatchBuffer:E})}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.button",["kendo.core","kendo.badge"],function(){var b,a,c,f,g,h,d,i,j,k,l,m,n,e;return b=window.kendo.jQuery,a=window.kendo,c=a.ui.Widget,f=a.ui,g=b.proxy,h=a.keys,d="click",i=a.support.mousedown,j=a.support.mouseup,k=".kendoButton",l="disabled",m="k-state-focused",n="k-state-active",e=c.extend({init:function(f,e){var b=this;c.fn.init.call(b,f,e),f=b.wrapper=b.element,e=b.options,f.addClass("k-button").attr("role","button"),e.enable=e.enable&&e.enabled&&!f.attr(l),b.enable(e.enable),e.enable&&b._tabindex(),e.badge&&b.createBadge(e.badge),b.iconElement(),f.on(d+k,g(b._click,b)).on("focus"+k,g(b._focus,b)).on("blur"+k,g(b._blur,b)).on("keydown"+k,g(b._keydown,b)).on("keyup"+k,g(b._removeActive,b)).on(i+k,g(b._addActive,b)).on(j+k+" mouseout"+k,g(b._removeActive,b)),a.notify(b)},destroy:function(){this.wrapper.off(k),this.badge&&this.badge.destroy(),c.fn.destroy.call(this)},events:[d],options:{name:"Button",icon:"",iconClass:"",spriteCssClass:"",imageUrl:"",enable:!0,enabled:!0},_isNativeButton:function(){return"button"==this.element.prop("tagName").toLowerCase()},_click:function(a){this.options.enable&&this.trigger(d,{event:a})&&a.preventDefault()},_focus:function(){this.options.enable&&this.element.addClass(m)},_blur:function(){var a=this;a.element.removeClass(m),setTimeout(function(){a.element.removeClass(n)})},_keydown:function(a){a.keyCode!=h.ENTER&&a.keyCode!=h.SPACEBAR||(this._addActive(),this._isNativeButton()||(a.keyCode==h.SPACEBAR&&a.preventDefault(),this._click(a)))},_removeActive:function(){this.element.removeClass(n)},_addActive:function(){this.options.enable&&this.element.addClass(n)},iconElement:function(){var c,f,j,a=this.element,d=this.options,e=d.icon,g=d.iconClass,h=d.spriteCssClass,i=d.imageUrl;(h||i||e||g)&&(j=!0,a.contents().filter(function(){return!b(this).hasClass("k-sprite")&&!b(this).hasClass("k-icon")&&!b(this).hasClass("k-image")}).each(function(c,a){(1==a.nodeType||3==a.nodeType&&0<b.trim(a.nodeValue).length)&&(j=!1)}),j?a.addClass("k-button-icon"):a.addClass("k-button-icontext")),i?((f=a.children("img.k-image").first())[0]||(f=b('<img alt="icon" class="k-image" />').prependTo(a)),f.attr("src",i)):e||g?((c=a.children("span.k-icon").first())[0]||(c=b("<span></span>").prependTo(a)),c.attr("class",e?"k-icon k-i-"+e:g)):h&&((c=a.children("span.k-sprite").first())[0]||(c=b('<span class="k-sprite"></span>').prependTo(a)),c.addClass(h))},enable:function(a){var b=this.element;void 0===a&&(a=!0),a=!!a,this.options.enable=a,b.toggleClass("k-state-disabled",!a).attr("aria-disabled",!a).attr(l,!a),a&&this._tabindex();try{b.blur()}catch(c){}},createBadge:function(a){var c=this,d=b("<span />").appendTo(c.element);!1!==a.overlay&&c.element.addClass("k-badge-overlay"),c.badge="string"==typeof a||"number"==typeof a?new f.Badge(d,{value:a}):"boolean"==typeof a?new f.Badge(d):new f.Badge(d,a)}}),a.ui.plugin(e),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.calendar",["kendo.core","kendo.selectable"],function(){return function(f,D){var a=window.kendo,e=a.support,g=a.ui,k=g.Widget,E=a.keys,F=a.parseDate,G=a.date.adjustDST,H=a.date.weekInYear,I=a.ui.Selectable,J=a._extractFormat,d=a.template,K=a.getCulture,h=a.support.transitions,L=h?h.css+"transform-origin":"",M=d('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),N=d('<td role="gridcell" class="k-out-of-range"><a class="k-link"></a></td>',{useWithBlock:!1}),O=d('<td role="gridcell" class="k-out-of-range">&nbsp;</td>',{useWithBlock:!1}),P=d('<td class="k-alt">#= data.weekNumber #</td>',{useWithBlock:!1}),i=a.support.browser,Q=i.msie&&i.version<9,R=a._outerWidth,c=".kendoCalendar",S="click"+c,l="slideIn",_="month",m="century",n="change",o="navigate",T="value",U="k-state-hover",p="k-state-disabled",V="k-state-focused",q="k-other-month",W=' class="'+q+'"',X="k-nav-today",Y="td:has(.k-link)",Z="td:has(.k-link):not(."+p+"):not(.k-out-of-range)",aa="k-state-selected",ab="blur"+c,ac="focus"+c,ad=e.touch?"touchstart":"mouseenter",ae=e.touch?"touchstart"+c:"mouseenter"+c,af=e.touch?"touchend"+c+" touchmove"+c:"mouseleave"+c,ag="_prevArrow",ah="_nextArrow",ai="aria-disabled",$="aria-selected",aj="aria-label",ak=f.proxy,al=f.extend,j=Date,r={month:0,year:1,decade:2,century:3},s=k.extend({init:function(e,d){var g,h,b=this;k.fn.init.call(b,e,d),e=b.wrapper=b.element,(d=b.options).url=a.unescape(d.url),b.options.disableDates=A(b.options.disableDates),b._templates(),b._selectable(),b._header(),b._viewWrapper(),b._footer(b.footer),(h=e.addClass("k-widget k-calendar "+(d.weekNumber?" k-week-number":"")).on(ae+" "+af,Y,at).on("keydown.kendoCalendar","table.k-content",ak(b._move,b)).on(S+" touchend",Y,function(c){var a=c.currentTarget.firstChild,e=C(a);-1!=a.href.indexOf("#")&&c.preventDefault(),"month"==b._view.name&&b.options.disableDates(e)||"month"==b._view.name&&"single"!=d.selectable||b._click(f(a))}).on("mouseup"+c,"table.k-content, .k-footer",function(){b._focusView(!1!==b.options.focusOnNav)}).attr("id"))&&(b._cellID=h+"_cell_selected"),b._isMultipleSelection()&&b.options.weekNumber&&e.on(S,"td:not(:has(.k-link))",function(a){var d=f(a.currentTarget).closest("tr").find(Z).first(),c=b.selectable._lastActive=f(a.currentTarget).closest("tr").find(Z).last();b.selectable.selectRange(d,c,{event:a}),b._current=b._value=C(c.find("a")),b._class(V,b._current)}),x(d),g=F(d.value,d.format,d.culture),b._selectDates=[],b._index=r[d.start],b._current=new j(+u(g,d.min,d.max)),b._addClassProxy=function(){if(b._active=!0,b._cell.hasClass(p)){var a=b._view.toDateString(t());b._cell=b._cellByDate(a)}b._cell.addClass(V)},b._removeClassProxy=function(){b._active=!1,b._cell.removeClass(V)},b.value(g),b._isMultipleSelection()&&0<d.selectDates.length&&b.selectDates(d.selectDates),a.notify(b)},options:{name:"Calendar",value:null,min:new j(1900,0,1),max:new j(2099,11,31),dates:[],disableDates:null,url:"",culture:"",footer:"",format:"",month:{},weekNumber:!1,selectable:"single",selectDates:[],start:_,depth:_,animation:{horizontal:{effects:l,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:""}},events:[n,o],setOptions:function(b){var a=this;x(b),b.disableDates=A(b.disableDates),a._destroySelectable(),k.fn.setOptions.call(a,b),a._templates(),a._selectable(),a._viewWrapper(),a._footer(a.footer),a._index=r[a.options.start],a.navigate(),b.weekNumber&&a.element.addClass("k-week-number")},destroy:function(){var b=this._today;this.element.off(c),this._title.off(c),this[ag].off(c),this[ah].off(c),this._destroySelectable(),a.destroy(this._table),b&&a.destroy(b.off(c)),k.fn.destroy.call(this)},current:function(){return this._current},view:function(){return this._view},focus:function(a){a=a||this._table,this._bindTable(a),a.trigger("focus")},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},navigateToPast:function(){this._navigate(ag,-1)},navigateToFuture:function(){this._navigate(ah,1)},navigateUp:function(){var a=this._index;this._title.hasClass(p)||this.navigate(this._current,++a)},navigateDown:function(b){var a=this,c=a._index,d=a.options.depth;b&&(c!==r[d]?a.navigate(b,--c):B(a._value,a._current)&&B(a._value,b)||(a.value(b),a.trigger(n)))},navigate:function(d,c){c=isNaN(c)?r[c]:c;var k,i,q,g,a=this,e=a.options,t=e.culture,l=e.min,n=e.max,v=a._title,h=a._table,s=a._oldTable,w=a._current,x=d&& +w< +d,A=c!==D&&c!==a._index;if(d=d||w,a._current=d=new j(+u(d,l,n)),c===D?c=a._index:a._index=c,a._view=i=b.views[c],q=i.compare,g=c===r[m],v.toggleClass(p,g).attr(ai,g),g=1>q(d,l),a[ag].toggleClass(p,g).attr(ai,g),a[ag].hasClass(p)&&a[ag].removeClass(U),g=-1<q(d,n),a[ah].toggleClass(p,g).attr(ai,g),a[ah].hasClass(p)&&a[ah].removeClass(U),h&&s&&s.data("animating")&&(s.kendoStop(!0,!0),h.kendoStop(!0,!0)),!(a._oldTable=h)||a._changeView){v.html(i.title(d,l,n,t)),a._table=k=f(i.content(al({min:l,max:n,date:d,url:e.url,dates:e.dates,format:e.format,otherMonth:!0,culture:t,disableDates:e.disableDates,isWeekColumnVisible:e.weekNumber,messages:e.messages},a[i.name]))),z(k,i.name),y(k);var _=h&&h.data("start")===k.data("start");a._animate({from:h,to:k,vertical:A,future:x,replace:_}),a.trigger(o),a._focus(d)}c===r[e.depth]&&0<a._selectDates.length&&a._visualizeSelectedDatesInView(),"single"===a.options.selectable&&c===r[e.depth]&&a._value&&!a.options.disableDates(a._value)&&a._class("k-state-selected",a._value),a._class(V,d),!h&&a._cell&&a._cell.removeClass(V),a._changeView=!0},selectDates:function(d){var c,a,b=this;if(d===D)return b._selectDates;a=d.map(function(a){return a.getTime()}).filter(function(a,b,c){return c.indexOf(a)===b}).map(function(a){return new Date(a)}),c=f.grep(a,function(a){if(a)return+b._validateValue(new Date(a.setHours(0,0,0,0)))== +a}),b._selectDates=0<c.length?c:0===a.length?a:b._selectDates,b._visualizeSelectedDatesInView()},value:function(b){var a=this,e=a._view,c=a._view;if(b===D)return a._value;if((b=a._validateValue(b))&&a._isMultipleSelection()){var d=new Date(+b);d.setHours(0,0,0,0),a._selectDates=[d],a.selectable._lastActive=null}e&&null===b&&a._cell?a._cell.removeClass(aa):(a._changeView=!b||c&&0!==c.compare(b,a._current),a.navigate(b))},_validateValue:function(b){var a=this,c=a.options,d=c.min,e=c.max;return null===b&&(a._current=w(a._current.getFullYear(),a._current.getMonth(),a._current.getDate())),null!==(b=F(b,c.format,c.culture))&&(v(b=new j(+b),d,e)||(b=null)),null!==b&&a.options.disableDates(new Date(+b))?a._value===D&&(a._value=null):a._value=b,a._value},_visualizeSelectedDatesInView:function(){var c={};f.each(this._selectDates,function(d,b){c[a.calendar.views[0].toDateString(b)]=b}),this.selectable.clear();var b=this._table.find(Y).filter(function(d,b){return c[f(b.firstChild).attr(a.attr(T))]});0<b.length&&this.selectable._selectElement(b,!0)},_isMultipleSelection:function(){return"multiple"===this.options.selectable},_selectable:function(){var a=this;if(a._isMultipleSelection()){var c=a.options.selectable,b=I.parseOptions(c);b.multiple&&a.element.attr("aria-multiselectable","true"),a.selectable=new I(a.wrapper,{aria:!0,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:b.multiple,filter:"table.k-month:eq(0) "+Z,change:ak(a._onSelect,a),relatedTarget:ak(a._onRelatedTarget,a)})}},_onRelatedTarget:function(a){this.selectable.options.multiple&&a.is(Z)&&(this._current=C(a.find("a")),this._class(V,C(a.find("a"))))},_onSelect:function(c){var a=this,b=c;I.parseOptions(a.options.selectable).multiple?(b.event.ctrlKey||b.event.metaKey?f(b.event.currentTarget).is(Z)?a._toggleSelection(f(b.event.currentTarget)):(a._cellsBySelector(Z).each(function(d,b){var c=C(f(b).find("a"));a._deselect(c)}),a._addSelectedCellsToArray()):b.event.shiftKey?a._rangeSelection(a._cell):f(b.event.currentTarget).is(Y)?a.value(C(f(b.event.currentTarget).find("a"))):(a._selectDates=[],a._addSelectedCellsToArray()),a.trigger(n)):f(b.event.currentTarget).is("td")&&!f(b.event.currentTarget).hasClass("k-state-selected")?f(b.event.currentTarget).addClass("k-state-selected"):a._click(f(b.event.currentTarget).find("a"))},_destroySelectable:function(){this.selectable&&(this.selectable.destroy(),this.selectable=null)},_toggleSelection:function(a){var b=C(a.find("a"));a.hasClass("k-state-selected")?this._selectDates.push(b):this._deselect(b)},_rangeSelection:function(e,b){var d,a=this,c=b||C(a.selectable.value().first().find("a")),f=C(e.find("a"));a.selectable._lastActive||a._value?c=a.selectable._lastActive?C(a.selectable._lastActive.find("a")):new Date(+a._value):a.selectable._lastActive=b?a._cellByDate(a._view.toDateString(b),Z):a.selectable.value().first(),a._selectDates=[],d=ar(c,f),as(a._selectDates,d,c,a.options.disableDates),a._visualizeSelectedDatesInView()},_cellsBySelector:function(a){return this._table.find(a)},_addSelectedCellsToArray:function(){var a=this;a.selectable.value().each(function(d,c){var b=C(f(c.firstChild));a.options.disableDates(b)||a._selectDates.push(b)})},_deselect:function(b){var a=this._selectDates.map(Number).indexOf(+b);-1!=a&&this._selectDates.splice(a,1)},_dateInView:function(a){var b=C(this._cellsBySelector(Z+":first").find("a"));return+a<= +C(this._cellsBySelector(Z+":last").find("a"))&& +b<= +a},_isNavigatable:function(a,d){var b,c=this.options.disableDates;return"month"==this._view.name?!c(a):(b=this.wrapper.find("."+V).index(),this.wrapper.find(".k-content td:eq("+(b+d)+")").is(Z)||!c(a))},_move:function(i){var g,e,l,m,b=this,o=b.options,d=i.keyCode,p=b._view,q=b._index,h=b.options.min,r=b.options.max,c=new j(+b._current),k=a.support.isRtl(b.wrapper),s=b.options.disableDates;if(i.target===b._table[0]&&(b._active=!0),d==E.RIGHT&&!k||d==E.LEFT&&k?(g=1,e=!0):d==E.LEFT&&!k||d==E.RIGHT&&k?(g=-1,e=!0):d==E.UP?(g=0===q?-7:-4,e=!0):d==E.DOWN?(g=0===q?7:4,e=!0):d==E.SPACEBAR?e=(g=0,!0):d!=E.HOME&&d!=E.END||(m=p[l=d==E.HOME?"first":"last"](c),(c=new j(m.getFullYear(),m.getMonth(),m.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())).setFullYear(m.getFullYear()),e=!0),i.ctrlKey||i.metaKey){if(d==E.RIGHT&&!k||d==E.LEFT&&k)b.navigateToFuture(),e=!0;else if(d==E.LEFT&&!k||d==E.RIGHT&&k)b.navigateToPast(),e=!0;else if(d==E.UP)b.navigateUp(),e=!0;else if(d==E.DOWN)b._click(f(b._cell[0].firstChild)),e=!0;else if((d==E.ENTER||d==E.SPACEBAR)&&b._isMultipleSelection()){b._keyboardToggleSelection(i);var t=C(f(b._cell[0]).find("a"));b._class(V,t)}}else i.shiftKey?(g!==D||l)&&(l||p.setDate(c,g),v(c,h,r)||(c=u(c,o.min,o.max)),s(c)&&(c=b._nextNavigatable(c,g)),h=w(h.getFullYear(),h.getMonth(),h.getDate()),b._isMultipleSelection()?b._keyboardRangeSelection(i,c):b._focus(c)):(d==E.ENTER||d==E.SPACEBAR?("month"==p.name&&b._isMultipleSelection()?(b.value(C(f(b._cell.find("a")))),b.selectable._lastActive=f(b._cell[0]),b.trigger(n)):b._click(f(b._cell[0].firstChild)),e=!0):d==E.PAGEUP?(e=!0,b.navigateToPast()):d==E.PAGEDOWN&&(e=!0,b.navigateToFuture()),(g||l)&&(l||p.setDate(c,g),v(c,h=w(h.getFullYear(),h.getMonth(),h.getDate()),r)||(c=u(c,o.min,o.max)),b._isNavigatable(c,g)||(c=b._nextNavigatable(c,g)),b._isMultipleSelection()?b._dateInView(c)?(b._current=c,b._class(V,c)):b.navigate(c):b._focus(c)));return e&&i.preventDefault(),b._current},_keyboardRangeSelection:function(e,b){var c,d,a=this;if(!a._dateInView(b))return a._selectDates=[],d=ar(c=a.selectable._lastActive?C(a.selectable._lastActive.find("a")):b,new Date(+b)),as(a._selectDates,d,c,a.options.disableDates),a.navigate(b),a._current=b,a.selectable._lastActive=a.selectable._lastActive||a._cellByDate(a._view.toDateString(b),Z),void a.trigger(n);a.selectable.options.filter=1<a.wrapper.find("table").length&& +b> +a._current?"table.k-month:eq(1) "+Z:"table.k-month:eq(0) "+Z,a._class(V,b),a._current=b,a._rangeSelection(a._cellByDate(a._view.toDateString(b),Z),b),a.trigger(n),a.selectable.options.filter="table.k-month:eq(0) "+Z},_keyboardToggleSelection:function(b){var a=this;b.currentTarget=a._cell[0],a.selectable._lastActive=f(a._cell[0]),f(a._cell[0]).hasClass(aa)?(a.selectable._unselect(f(a._cell[0])),a.selectable.trigger(n,{event:b})):a.selectable.value(f(a._cell[0]),{event:b})},_nextNavigatable:function(a,b){var c=!0,d=this._view,f=this.options.min,g=this.options.max,h=this.options.disableDates,e=new Date(a.getTime());for(d.setDate(e,-b);c;){if(d.setDate(a,b),!v(a,f,g)){a=e;break}c=h(a)}return a},_animate:function(b){var a=b.from,d=b.to,e=this._active,f=this.element.children(".k-calendar-view");a?a.parent().data("animating")?(a.off(c),a.parent().kendoStop(!0,!0).remove(),a.remove(),f.append(d),this._focusView(e)):!a.is(":visible")|| !1===this.options.animation||b.replace?(d.insertAfter(a),a.off(c).remove(),this._focusView(e)):this[b.vertical?"_vertical":"_horizontal"](a,d,b.future):(f.append(d),this._bindTable(d))},_horizontal:function(a,g,b){var d=this,i=d._active,e=d.options.animation.horizontal,h=e.effects,f=R(a);h&& -1!=h.indexOf(l)&&(a.add(g).css({width:f}),a.wrap("<div/>"),d._focusView(i,a),a.parent().css({position:"relative",width:2*f,float:"left","margin-left":b?0:-f}),g[b?"insertAfter":"insertBefore"](a),al(e,{effects:l+":"+(b?"right":"left"),complete:function(){a.off(c).remove(),d._oldTable=null,g.unwrap(),d._focusView(i)}}),a.parent().kendoStop(!0,!0).kendoAnimate(e))},_vertical:function(e,b){var f,d,a=this,g=a.options.animation.vertical,h=g.effects,i=a._active;h&& -1!=h.indexOf("zoom")&&(b.insertBefore(e),e.css({position:"absolute",width:b.width()}),L&&(d=(d=(f=a._cellByDate(a._view.toDateString(a._current))).position()).left+parseInt(f.width()/2,10)+"px "+(d.top+parseInt(f.height()/2,10))+"px",b.css(L,d)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.off(c).remove(),a._oldTable=null,a._focusView(i)}}),b.kendoStop(!0,!0).kendoAnimate(g))},_cellByDate:function(c,b){return this._table.find(b||"td:not(."+q+")").filter(function(){return f(this.firstChild).attr(a.attr(T))===c})},_class:function(c,d){var f,a=this,e=a._cellID,b=a._cell,g=a._view.toDateString(d);b&&b.length&&(b[0].removeAttribute($),b[0].removeAttribute(aj),b[0].removeAttribute("id")),d&&"month"==a._view.name&&(f=a.options.disableDates(d)),a._cellsBySelector(a._isMultipleSelection()?Y:"td:not(."+q+")").removeClass(c),b=a._cellByDate(g,"multiple"==a.options.selectable?Y:"td:not(."+q+")").attr($,!0),(c===V&&!a._active&& !1!==a.options.focusOnNav||f)&&(c=""),b.addClass(c),b[0]&&(a._cell=b),e&&(b.attr("id",e),a._table[0].removeAttribute("aria-activedescendant"),a._table.attr("aria-activedescendant",e))},_bindTable:function(a){a.on(ac,this._addClassProxy).on(ab,this._removeClassProxy)},_click:function(d){var b=this.options,c=new Date(+this._current),a=C(d);G(a,0),"month"==this._view.name&&this.options.disableDates(a)&&(a=this._value),this._view.setDate(c,a),this.navigateDown(u(c,b.min,b.max))},_focus:function(b){var a=this;0!==a._view.compare(b,a._current)?a.navigate(b):(a._current=b,a._class(V,b))},_focusView:function(a,b){a&&this.focus(b)},_viewWrapper:function(){var a=this.element,b=a.children(".k-calendar-view");b[0]||(b=f("<div class='k-calendar-view' />").insertAfter(a.find(".k-header")))},_footer:function(d){var b=this,e=t(),g=b.element,c=g.find(".k-footer");if(!d)return b._toggle(!1),void c.hide();c[0]||(c=f('<div class="k-footer"></div>').appendTo(g)),b._today=c.show().find(".k-link").html(d(e)).attr("title",a.toString(e,"D",b.options.culture)),b._toggle()},_header:function(){var a,b=this,d=b.element;d.find(".k-header")[0]||d.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev" '+aj+'="Previous"><span class="k-icon k-i-arrow-60-left"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next" '+aj+'="Next"><span class="k-icon k-i-arrow-60-right"></span></a></div>'),a=d.find(".k-link").on(ae+" "+af+" "+ac+" "+ab,at).on(S+" touchend"+c,function(){return!1}),b._title=a.eq(1).on(S+" touchend"+c,function(){b._active=!1!==b.options.focusOnNav,b.navigateUp()}),b[ag]=a.eq(0).on(S+" touchend"+c,function(){b._active=!1!==b.options.focusOnNav,b.navigateToPast()}),b[ah]=a.eq(2).on(S+" touchend"+c,function(){b._active=!1!==b.options.focusOnNav,b.navigateToFuture()})},_navigate:function(d,e){var a=this,f=a._index+1,c=new j(+a._current);a._isMultipleSelection()&&(c=C(a._table.find("td:not(.k-other-month):not(.k-out-of-range)").has(".k-link").first().find("a")),a._current=new Date(+c)),(d=a[d]).hasClass(p)||(3<f?c.setFullYear(c.getFullYear()+100*e):b.views[f].setDate(c,e),a.navigate(c))},_option:function(d,b){var f,a=this,c=a.options,e=a._value||a._current;if(b===D)return c[d];(b=F(b,c.format,c.culture))&&(c[d]=new j(+b),((f="min"===d?e<b:b<e)||function(a,b){if(a)return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()}(e,b))&&(f&&(a._value=null),a._changeView=!0),a._changeView||(a._changeView=!(!c.month.content&&!c.month.empty)),a.navigate(a._value),a._toggle())},_toggle:function(b){var c=this.options,d=this.options.disableDates(t()),a=this._today;b===D&&(b=v(t(),c.min,c.max)),a&&(a.off(S),b&&!d?a.addClass(X).removeClass(p).on(S,ak(this._todayClick,this)):a.removeClass(X).addClass(p).on(S,au))},_todayClick:function(d){var a=this,c=r[a.options.depth],e=a.options.disableDates,b=t();d.preventDefault(),e(b)||(0===a._view.compare(a._current,b)&&a._index==c&&(a._changeView=!1),a._isMultipleSelection()&&(a._selectDates=[b],a.selectable._lastActive=null),a._value=b,a.navigate(b,c),a.trigger(n))},_templates:function(){var c=this.options,b=c.footer,e=c.month,f=e.content,g=e.weekNumber,h=e.empty,i='#= kendo.toString(data,"D","'+c.culture+'") #';this.month={content:d('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+a.attr(T)+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"</a></td>",{useWithBlock:!!f}),empty:d('<td role="gridcell">'+(h||"&nbsp;")+"</td>",{useWithBlock:!!h}),weekNumber:d('<td class="k-alt">'+(g||"#= data.weekNumber #")+"</td>",{useWithBlock:!!g})},b&& !0!==b&&(i=b),this.footer=!1!==b?d(i,{useWithBlock:!1}):null}});g.plugin(s);var b={firstDayOfMonth:function(a){return w(a.getFullYear(),a.getMonth(),1)},firstVisibleDay:function(c,e){var f=(e=e||a.culture().calendar).firstDay,d=new j(c.getFullYear(),c.getMonth(),1,c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds());for(d.setFullYear(c.getFullYear());d.getDay()!=f;)b.setTime(d,-864e5);return d},setTime:function(a,c){var d=a.getTimezoneOffset(),b=new j(a.getTime()+c),e=b.getTimezoneOffset()-d;a.setTime(b.getTime()+6e4*e)},views:[{name:_,title:function(a,c,d,b){return av(b).months.names[a.getMonth()]+" "+a.getFullYear()},content:function(c){var d=0,e=c.min,f=c.max,g=c.date,r=c.dates,A=c.format,k=c.culture,s=c.url,u=c.showHeader,v=c.otherMonth,l=c.isWeekColumnVisible,B=s&&r[0],i=av(k),m=i.firstDay,n=i.days,x=ap(n.names,m),_=ap(n.namesShort,m),o=b.firstVisibleDay(g,i),C=this.first(g),y=this.last(g),z=this.toDateString,j=t(),h='<table tabindex="0" role="grid" class="k-content" cellspacing="0" data-start="'+z(o)+'">';for(h+=u?'<caption class="k-month-header">'+this.title(g,e,f,k)+'</caption><thead><tr role="row">':'<thead><tr role="row">',l&&(h+='<th scope="col" class="k-alt">'+c.messages.weekColumnHeader+"</th>");d<7;d++)h+='<th scope="col" title="'+x[d]+'">'+_[d]+"</th>";return G(j,0),j=+j,an({cells:42,perRow:7,html:h+='</tr></thead><tbody><tr role="row">',start:o,isWeekColumnVisible:l,weekNumber:c.weekNumber,min:w(e.getFullYear(),e.getMonth(),e.getDate()),max:w(f.getFullYear(),f.getMonth(),f.getDate()),otherMonth:v,content:c.content,lastDayOfMonth:y,empty:c.empty,setter:this.setDate,disableDates:c.disableDates,build:function(b,h,g){var c=[],d=b.getDay(),e="",f="#";return(b<C||y<b)&&c.push(q),g(b)&&c.push(p),+b===j&&c.push("k-today"),0!==d&&6!==d||c.push("k-weekend"),B&&function(c,b){for(var a=0,d=b.length;a<d;a++)if(c=== +b[a])return 1}(+b,r)&&(f=s.replace("{0}",a.toString(b,A,k)),e=" k-action-link"),{date:b,dates:r,ns:a.ns,title:a.toString(b,"D",k),value:b.getDate(),dateString:z(b),cssClass:c[0]?' class="'+c.join(" ")+'"':"",linkClass:e,url:f}},weekNumberBuild:function(b){return{weekNumber:H(b,a.culture().calendar.firstDay),currentDate:b}}})},first:function(a){return b.firstDayOfMonth(a)},last:function(a){var c=w(a.getFullYear(),a.getMonth()+1,0),d=b.firstDayOfMonth(a),e=Math.abs(c.getTimezoneOffset()-d.getTimezoneOffset());return e&&c.setHours(d.getHours()+e/60),c},compare:function(a,b){var c=a.getMonth(),d=a.getFullYear(),e=b.getMonth(),f=b.getFullYear();return f<d?1:d<f?-1:c==e?0:e<c?1:-1},setDate:function(c,a){var d=c.getHours();a instanceof j?c.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()):b.setTime(c,864e5*a),G(c,d)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/"+a.getDate()}},{name:"year",title:function(a){return a.getFullYear()},content:function(b){var f=av(b.culture).months.namesAbbr,g=this.toDateString,d=b.min,e=b.max,c="";return b.showHeader&&(c+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',c+=this.title(b.date),c+='</caption><tbody><tr role="row">'),an({min:w(d.getFullYear(),d.getMonth(),1),max:w(e.getFullYear(),e.getMonth(),1),start:w(b.date.getFullYear(),0,1),html:c,setter:this.setDate,build:function(b){return{value:f[b.getMonth()],ns:a.ns,dateString:g(b),cssClass:""}}})},first:function(a){return w(a.getFullYear(),0,a.getDate())},last:function(a){return w(a.getFullYear(),11,a.getDate())},compare:function(a,b){return ao(a,b)},setDate:function(a,c){var b,d=a.getHours();c instanceof j?(b=c.getMonth(),a.setFullYear(c.getFullYear(),b,a.getDate()),b!==a.getMonth()&&a.setDate(0)):(b=a.getMonth()+c,a.setMonth(b),11<b&&(b-=12),0<b&&a.getMonth()!=b&&a.setDate(0)),G(a,d)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/1"}},{name:"decade",title:function(a,b,c){return am(a,b,c,10)},content:function(b){var d=b.date.getFullYear(),e=this.toDateString,c="";return b.showHeader&&(c+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',c+=this.title(b.date,b.min,b.max),c+='</caption><tbody><tr role="row">'),an({start:w(d-d%10-1,0,1),min:w(b.min.getFullYear(),0,1),max:w(b.max.getFullYear(),0,1),otherMonth:b.otherMonth,html:c,setter:this.setDate,build:function(b,c){return{value:b.getFullYear(),ns:a.ns,dateString:e(b),cssClass:0===c||11==c?W:""}}})},first:function(a){var b=a.getFullYear();return w(b-b%10,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return w(b-b%10+9,a.getMonth(),a.getDate())},compare:function(a,b){return ao(a,b,10)},setDate:function(a,b){aq(a,b,1)},toDateString:function(a){return a.getFullYear()+"/0/1"}},{name:m,title:function(a,b,c){return am(a,b,c,100)},content:function(b){var f=b.date.getFullYear(),g=b.min.getFullYear(),h=b.max.getFullYear(),i=this.toDateString,c=g,d=h,e="";return(d-=d%10)-(c-=c%10)<10&&(d=c+9),b.showHeader&&(e+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',e+=this.title(b.date,b.min,b.max),e+='</caption><tbody><tr role="row">'),an({start:w(f-f%100-10,0,1),min:w(c,0,1),max:w(d,0,1),otherMonth:b.otherMonth,html:e,setter:this.setDate,build:function(d,e){var b=d.getFullYear(),c=b+9;return b<g&&(b=g),h<c&&(c=h),{ns:a.ns,value:b+" - "+c,dateString:i(d),cssClass:0===e||11==e?W:""}}})},first:function(a){var b=a.getFullYear();return w(b-b%100,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return w(b-b%100+99,a.getMonth(),a.getDate())},compare:function(a,b){return ao(a,b,100)},setDate:function(a,b){aq(a,b,10)},toDateString:function(b){var a=b.getFullYear();return a-a%10+"/0/1"}},]};function am(f,g,h,c){var b,a=f.getFullYear(),d=g.getFullYear(),e=h.getFullYear();return b=(a-=a%c)+(c-1),a<d&&(a=d),e<b&&(b=e),a+"-"+b}function an(a){var e,c=0,j=a.min,k=a.max,b=a.start,l=a.setter,m=a.build,f=a.weekNumberBuild,n=a.cells||12,g=a.isWeekColumnVisible,o=a.perRow||4,h=a.otherMonth,p=a.lastDayOfMonth,i=a.weekNumber||P,r=a.content||M,s=a.empty||N,_=a.otherMonthCellTemplate||O,d=a.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(g&&(d+=i(f(b)));c<n;c++)0<c&&c%o==0&&(d+='</tr><tr role="row">',g&&(d+=i(h|| +b<= +p?f(b):{weekNumber:"&nbsp;"}))),b=w(b.getFullYear(),b.getMonth(),b.getDate()),G(b,0),d+=(-1===(e=m(b,c,a.disableDates)).cssClass.indexOf(q)||h?v(b,j,k)?r:s:_)(e),l(b,1);return d+"</tr></tbody></table>"}function ao(f,g,b){var d=f.getFullYear(),a=g.getFullYear(),e=a,c=0;return b&&(e=(a-=a%b)-a%b+b-1),e<d?c=1:d<a&&(c=-1),c}function t(){var a=new j;return new j(a.getFullYear(),a.getMonth(),a.getDate())}function u(b,c,d){var a=t();return b&&(a=new j(+b)),a<c?a=new j(+c):d<a&&(a=new j(+d)),a}function v(a,b,c){return+b<= +a&& +a<= +c}function ap(a,b){return a.slice(b).concat(a.slice(0,b))}function aq(b,a,c){a=a instanceof j?a.getFullYear():b.getFullYear()+c*a,b.setFullYear(a)}function ar(c,d){if(+d< +c){var e=+c;b.views[0].setDate(c,d),b.views[0].setDate(d,new Date(e))}var f=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()),g=Date.UTC(d.getFullYear(),d.getMonth(),d.getDate());return Math.ceil((g-f)/a.date.MS_PER_DAY)}function as(c,d,e,f){for(var b=0;b<=d;b++){var a=new Date(e.getTime());f(a=new Date(a.setDate(a.getDate()+b)))||c.push(a)}}function at(a){f(this).hasClass("k-state-disabled")||f(this).toggleClass(U,-1<ad.indexOf(a.type)||"focus"==a.type)}function au(a){a.preventDefault()}function w(a,b,c){var d=new j(a,b,c);return d.setFullYear(a,b,c),d}function av(a){return K(a).calendars.standard}function x(a){var b=r[a.start],c=r[a.depth],d=K(a.culture);a.format=J(a.format||d.calendars.standard.patterns.d),isNaN(b)&&(b=0,a.start=_),(c===D||b<c)&&(a.depth=_),null===a.dates&&(a.dates=[])}function y(a){Q&&a.find("*").attr("unselectable","on")}function z(a,b){a.addClass("k-"+b)}function A(b){return a.isFunction(b)?b:f.isArray(b)?function(a){var b,c=[],h=["su","mo","tu","we","th","fr","sa"],e="if (found) { return true } else {return false}";if(a[0]instanceof j)b="var found = date && window.kendo.jQuery.inArray(date.setHours(0, 0, 0, 0),["+(c=function(b){for(var c=[],a=0;a<b.length;a++)c.push(b[a].setHours(0,0,0,0));return c}(a))+"]) > -1;"+e;else{for(var d=0;d<a.length;d++){var i=a[d].slice(0,2).toLowerCase(),g=f.inArray(i,h);-1<g&&c.push(g)}b="var found = date && window.kendo.jQuery.inArray(date.getDay(),["+c+"]) > -1;"+e}return new Function("date",b)}(b):f.noop}function B(a,b){return a instanceof Date&&b instanceof Date&&(a=a.getTime(),b=b.getTime()),a===b}function C(c){var b=f(c).attr(a.attr(T)).split("/");return w(b[0],b[1],b[2])}b.isEqualDatePart=function(a,b){return!!a&&a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()},b.isEqualDate=B,b.makeUnselectable=y,b.restrictValue=u,b.isInRange=v,b.addClassToViewContainer=z,b.normalize=x,b.viewsEnum=r,b.disabled=A,b.toDateObject=C,b.getToday=t,b.createDate=w,a.calendar=b}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.popup",["kendo.core"],function(){return function(b){var a=window.kendo,c=a.ui,d=c.Widget,e=a.Class,f=a.support,o=a.getOffset,p=a._outerWidth,q=a._outerHeight,g="open",h="close",i="deactivate",j="activate",r="center",s="right",k="bottom",t="absolute",u="hidden",l="body",v="location",w="position",x="visible",y="effects",z="k-state-active",A="k-state-border",B=/k-state-border-(\w+)/,C=".k-picker-wrap, .k-dropdown-wrap, .k-link",D=b(document.documentElement),_=b.proxy,E=b(window),F=f.transitions.css+"transform",G=b.extend,H=".kendoPopup",I=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function J(a,c){return a&&c&&(a===c||b.contains(a,c))}var m=d.extend({init:function(g,c){var h,e=this;(c=c||{}).isRtl&&(c.origin=c.origin||k+" "+s,c.position=c.position||"top "+s),d.fn.init.call(e,g,c),g=e.element,c=e.options,e.collisions=c.collision?c.collision.split(" "):[],e.downEvent=a.applyEventMap("down",a.guid()),1===e.collisions.length&&e.collisions.push(e.collisions[0]),h=b(e.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),c.appendTo=b(b(c.appendTo)[0]||h[0]||document.body),e.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!c.isRtl).css({position:t}).appendTo(c.appendTo).attr("aria-hidden",!0).on("mouseenter"+H,function(){e._hovered=!0}).on("wheel"+H,function(a){var d=b(a.target).find(".k-list"),c=d.parent();d.length&&d.is(":visible")&&(0===c.scrollTop()&&a.originalEvent.deltaY<0||c.scrollTop()===c.prop("scrollHeight")-c.prop("offsetHeight")&&0<a.originalEvent.deltaY)&&a.preventDefault()}).on("mouseleave"+H,function(){e._hovered=!1}),e.wrapper=b(),!1===c.animation&&(c.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),G(c.animation.open,{complete:function(){e.wrapper.css({overflow:x}),e._activated=!0,e._trigger(j)}}),G(c.animation.close,{complete:function(){e._animationClose()}}),e._mousedownProxy=function(a){e._mousedown(a)},f.mobileOS.android?e._resizeProxy=function(a){setTimeout(function(){e._resize(a)},600)}:e._resizeProxy=function(a){e._resize(a)},c.toggleTarget&&b(c.toggleTarget).on(c.toggleEvent+H,b.proxy(e.toggle,e))},events:[g,j,h,i],options:{name:"Popup",toggleEvent:"click",origin:k+" left",position:"top left",anchor:l,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var a=this,b=a.wrapper.data(v);a.wrapper.hide(),b&&a.wrapper.css(b),a.options.anchor!=l&&a._hideDirClass(),a._closing=!1,a._trigger(i)},destroy:function(){var f,c=this.options,e=this.element.off(H);d.fn.destroy.call(this),c.toggleTarget&&b(c.toggleTarget).off(H),c.modal||(D.off(this.downEvent,this._mousedownProxy),this._toggleResize(!1)),a.destroy(this.element.children()),e.removeData(),c.appendTo[0]===document.body&&((f=e.parent(".k-animation-container"))[0]?f.remove():e.remove())},open:function(k,j){var h,i,c=this,m={isFixed:!isNaN(parseInt(j,10)),x:k,y:j},d=c.element,e=c.options,n=b(e.anchor),o=d[0]&&d.hasClass("km-widget");if(!c.visible()){if(e.copyAnchorStyles&&(o&&"font-size"==I[0]&&I.shift(),d.css(a.getComputedStyles(n[0],I))),d.data("animating")||c._trigger(g))return;c._activated=!1,e.modal||(D.off(c.downEvent,c._mousedownProxy).on(c.downEvent,c._mousedownProxy),c._toggleResize(!1),c._toggleResize(!0)),c.wrapper=i=a.wrap(d,e.autosize).css({overflow:u,display:"block",position:t}).attr("aria-hidden",!1),f.mobileOS.android&&i.css(F,"translatez(0)"),i.css(w),b(e.appendTo)[0]==document.body&&i.css("top","-10000px"),c.flipped=c._position(m),h=c._openAnimation(),e.anchor!=l&&c._showDirClass(h),d.data(y,h.effects).kendoStop(!0).kendoAnimate(h).attr("aria-hidden",!1)}},_location:function(h){var c,d=this.element,e=this.options,i=b(e.anchor),j=d[0]&&d.hasClass("km-widget");e.copyAnchorStyles&&(j&&"font-size"==I[0]&&I.shift(),d.css(a.getComputedStyles(i[0],I))),this.wrapper=c=a.wrap(d,e.autosize).css({overflow:u,display:"block",position:t}),f.mobileOS.android&&c.css(F,"translatez(0)"),c.css(w),b(e.appendTo)[0]==document.body&&c.css("top","-10000px"),this._position(h||{});var g=c.offset();return{width:a._outerWidth(c),height:a._outerHeight(c),left:g.left,top:g.top}},_openAnimation:function(){var b=G(!0,{},this.options.animation.open);return b.effects=a.parseEffects(b.effects,this.flipped),b},_hideDirClass:function(){var c=b(this.options.anchor),d=((c.attr("class")||"").match(B)||["","down"])[1],e=A+"-"+d;c.removeClass(e).children(C).removeClass(z).removeClass(e),this.element.removeClass(A+"-"+a.directions[d].reverse)},_showDirClass:function(c){var d=c.effects.slideIn?c.effects.slideIn.direction:"down",e=A+"-"+d;b(this.options.anchor).addClass(e).children(C).addClass(z).addClass(e),this.element.addClass(A+"-"+a.directions[d].reverse)},position:function(){this.visible()&&(this.flipped=this._position())},toggle:function(){this[this.visible()?h:g]()},visible:function(){return this.element.is(":"+x)},close:function(f){var g,d,e,i,c=this,j=c.options;if(c.visible()){if(g=c.wrapper[0]?c.wrapper:a.wrap(c.element).hide(),c._toggleResize(!1),c._closing||c._trigger(h))return void c._toggleResize(!0);c.element.find(".k-popup").each(function(){var a=b(this).data("kendoPopup");a&&a.close(f)}),D.off(c.downEvent,c._mousedownProxy),f?d={hide:!0,effects:{}}:(d=G(!0,{},j.animation.close),e=c.element.data(y),!(i=d.effects)&&!a.size(i)&&e&&a.size(e)&&(d.effects=e,d.reverse=!0),c._closing=!0),c.element.kendoStop(!0).attr("aria-hidden",!0),g.css({overflow:u}).attr("aria-hidden",!0),c.element.kendoAnimate(d),f&&c._animationClose()}},_trigger:function(a){return this.trigger(a,{type:a})},_resize:function(b){var a=this;-1!==f.resize.indexOf(b.type)?(clearTimeout(a._resizeTimeout),a._resizeTimeout=setTimeout(function(){a._position(),a._resizeTimeout=null},50)):(!a._hovered||a._activated&&a.element.hasClass("k-list-container"))&&a.close()},_toggleResize:function(a){var b=a?"on":"off",c=f.resize;f.mobileOS.ios||f.mobileOS.android||(c+=" scroll"),a&&!this.scrollableParents&&(this.scrollableParents=this._scrollableParents()),this.scrollableParents&&this.scrollableParents.length&&this.scrollableParents[b]("scroll",this._resizeProxy),E[b](c,this._resizeProxy)},_mousedown:function(e){var h=this.element[0],f=this.options,i=b(f.anchor)[0],g=f.toggleTarget,d=a.eventTarget(e),c=b(d).closest(".k-popup"),j=c.parent().parent(".km-shim").length;c=c[0],!j&&c&&c!==this.element[0]||"popover"!==b(e.target).closest("a").data("rel")&&(J(h,d)||J(i,d)||g&&J(b(g)[0],d)||this.close())},_fit:function(a,c,d){var b=0;return d<a+c&&(b=d-(a+c)),a<0&&(b=-a),b},_flip:function(d,b,e,h,f,g,c){var a=0;return c=c||b,g!==f&&g!==r&&f!==r&&(h<d+c&&(a+=-(e+b)),d+a<0&&(a+=e+b)),a},_scrollableParents:function(){return b(this.options.anchor).parentsUntil("body").filter(function(c,b){return a.isScrollable(b)})},_position:function(l){var x,F,i,H,y,j,z,d=this,A=d.element,c=d.wrapper,g=d.options,m=b(g.viewport),k=f.zoomLevel(),I=!!(m[0]==window&&window.innerWidth&&k<=1.02),h=b(g.anchor),B=g.origin.toLowerCase().split(" "),_=g.position.toLowerCase().split(" "),n=d.collisions,r=10002,C=0,J=document.documentElement;if(y=g.viewport===window?{top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0}:m.offset(),z=I?(j=window.innerWidth,window.innerHeight):(j=m.width(),m.height()),I&&0<J.scrollHeight-J.clientHeight&&(j-=(g.isRtl?-1:1)*a.support.scrollbar()),(x=h.parents().filter(c.siblings()))[0]){if(i=Math.max(Number(x.css("zIndex")),0))r=i+10;else for(H=(F=h.parentsUntil(x)).length;C<H;C++)(i=Number(b(F[C]).css("zIndex")))&&r<i&&(r=i+10)}c.css("zIndex",r),l&&l.isFixed?c.css({left:l.x,top:l.y}):c.css(d._align(B,_));var D=o(c,w,h[0]===c.offsetParent()[0]),s=o(c);h.offsetParent().parent(".k-animation-container,.k-popup,.k-group").length&&(D=o(c,w,!0),s=o(c)),s.top-=y.top,s.left-=y.left,d.wrapper.data(v)||c.data(v,G({},D));var u=G({},s),e=G({},D),K=g.adjustSize;"fit"===n[0]&&(e.top+=d._fit(u.top,q(c)+K.height,z/k)),"fit"===n[1]&&(e.left+=d._fit(u.left,p(c)+K.width,j/k));var L=G({},e),E=q(A),M=q(c);return!c.height()&&E&&(M+=E),"flip"===n[0]&&(e.top+=d._flip(u.top,E,q(h),z/k,B[0],_[0],M)),"flip"===n[1]&&(e.left+=d._flip(u.left,p(A),p(h),j/k,B[1],_[1],p(c))),A.css(w,t),c.css(e),e.left!=L.left||e.top!=L.top},_align:function(f,g){var h,d=this.wrapper,e=b(this.options.anchor),i=f[0],j=f[1],l=g[0],m=g[1],n=o(e),t=b(this.options.appendTo),u=p(d),v=q(d)||q(d.children().first()),w=p(e),x=q(e),a=n.top,c=n.left,_=Math.round;return t[0]!=document.body&&(a-=(h=o(t)).top,c-=h.left),i===k&&(a+=x),i===r&&(a+=_(x/2)),l===k&&(a-=v),l===r&&(a-=_(v/2)),j===s&&(c+=w),j===r&&(c+=_(w/2)),m===s&&(c-=u),m===r&&(c-=_(u/2)),{top:a,left:c}}});c.plugin(m);var K=a.support.stableSort,L="kendoTabKeyTrap",n=e.extend({init:function(a){this.element=b(a),this.element.autoApplyNS(L)},trap:function(){this.element.on("keydown",_(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy(L)},destroy:function(){this.element.kendoDestroy(L),this.element=void 0},shouldTrap:function(){return!0},_keepInTrap:function(a){if(9===a.which&&this.shouldTrap()&&!a.isDefaultPrevented()){var b=this._focusableElements(),c=this._sortFocusableElements(b),d=this._nextFocusable(a,c);this._focus(d),a.preventDefault()}},_focusableElements:function(){var a=this.element.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]").filter(function(c,a){return 0<=a.tabIndex&&b(a).is(":visible")&&!b(a).is("[disabled]")});return this.element.is("[tabindex]")&&a.push(this.element[0]),a},_sortFocusableElements:function(a){var b;if(K)b=a.sort(function(a,b){return a.tabIndex-b.tabIndex});else{var c="__k_index";a.each(function(a,b){b.setAttribute(c,a)}),b=a.sort(function(a,b){return a.tabIndex===b.tabIndex?parseInt(a.getAttribute(c),10)-parseInt(b.getAttribute(c),10):a.tabIndex-b.tabIndex}),a.removeAttr(c)}return b},_nextFocusable:function(b,a){var c=a.length,d=a.index(b.target);return a.get((d+(b.shiftKey?-1:1))%c)},_focus:function(a){"IFRAME"!=a.nodeName?(a.focus(),"INPUT"==a.nodeName&&a.setSelectionRange&&this._haveSelectionRange(a)&&a.setSelectionRange(0,a.value.length)):a.contentWindow.document.body.focus()},_haveSelectionRange:function(b){var a=b.type.toLowerCase();return"text"===a||"search"===a||"url"===a||"tel"===a||"password"===a}});c.Popup.TabKeyTrap=n}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.datepicker",["kendo.calendar","kendo.popup","kendo.dateinput"],function(){return function(e,n){var a=window.kendo,f=a.ui,g=f.Widget,o=a.parseDate,p=a.keys,h=a.support,q=a.template,r=a._activeElement,s="<div />",t="<span />",b=".kendoDatePicker",i="click"+b,u=h.mouseAndTouchPresent?a.applyEventMap("up",b.slice(1)):i,j="open",k="close",_="change",v="disabled",w="readonly",x="k-state-default",y="k-state-focused",z="k-state-selected",A="k-state-disabled",B="mousedown"+b,C="aria-disabled",D="aria-expanded",E="aria-hidden",c=a.calendar,F=c.isInRange,G=c.restrictValue,H=c.isEqualDatePart,I=e.extend,J=e.proxy,K=Date;function l(b){var a=b.parseFormats,d=b.format;c.normalize(b),(a=e.isArray(a)?a:[a]).length||a.push("yyyy-MM-dd"),-1===e.inArray(d,a)&&a.splice(0,0,b.format),b.parseFormats=a}function L(a){a.preventDefault()}function d(b){var d,c=this,h=document.body,g=e(s).attr(E,"true").addClass("k-calendar-container").appendTo(h);c.options=b=b||{},(d=b.id)&&(d+="_dateview",g.attr("id",d),c._dateViewID=d),c.popup=new f.Popup(g,I(b.popup,b,{name:"Popup",isRtl:a.support.isRtl(b.anchor)})),c.div=g,c.value(b.value)}d.prototype={_calendar:function(){var d,b=this,c=b.calendar,g=b.options;c||(d=e(s).attr("id",a.guid()).appendTo(b.popup.element).on(B,L).on(i,"td:has(.k-link)",J(b._click,b)),b.calendar=c=new f.Calendar(d),b._setOptions(g),a.calendar.makeUnselectable(c.element),c.navigate(b._value||b._current,g.start),b.value(b._value))},_setOptions:function(a){this.calendar.setOptions({focusOnNav:!1,change:a.change,culture:a.culture,dates:a.dates,depth:a.depth,footer:a.footer,format:a.format,max:a.max,min:a.min,month:a.month,weekNumber:a.weekNumber,start:a.start,disableDates:a.disableDates})},setOptions:function(b){var a=this.options,d=b.disableDates;d&&(b.disableDates=c.disabled(d)),this.options=I(a,b,{change:a.change,close:a.close,open:a.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var b,a=this;a._calendar(),b=a.popup._hovered,a.popup._hovered=!0,a.popup.open(),setTimeout(function(){a.popup._hovered=b},1)},close:function(){this.popup.close()},min:function(a){this._option("min",a)},max:function(a){this._option("max",a)},toggle:function(){this[this.popup.visible()?k:j]()},move:function(a){var b=this,c=a.keyCode,e=b.calendar,f=a.ctrlKey&&c==p.DOWN||c==p.ENTER,d=!1;if(a.altKey)c==p.DOWN?(b.open(),a.preventDefault(),d=!0):c==p.UP&&(b.close(),a.preventDefault(),d=!0);else if(b.popup.visible()){if(c==p.ESC||f&&e._cell.hasClass(z))return b.close(),a.preventDefault(),!0;c!=p.SPACEBAR&&(b._current=e._move(a)),d=!0}return d},current:function(a){this._current=a,this.calendar&&this.calendar._focus(a)},value:function(a){var c=this.calendar,b=this.options,d=b.disableDates;d&&d(a)&&(a=null),this._value=a,this._current=new K(+G(a,b.min,b.max)),c&&c.value(a)},_click:function(a){-1!==a.currentTarget.className.indexOf(z)&&(this.calendar.trigger("change"),this.close())},_option:function(a,b){var c=this.calendar;this.options[a]=b,c&&c[a](b)}},d.normalize=l,a.DateView=d;var m=g.extend({init:function(f,c){var h,b=this;g.fn.init.call(b,f,c),f=b.element,(c=b.options).disableDates=a.calendar.disabled(c.disableDates),c.min=o(f.attr("min"))||o(c.min),c.max=o(f.attr("max"))||o(c.max),l(c),b._initialOptions=I({},c),b._wrapper(),b.dateView=new d(I({},c,{id:f.attr("id"),anchor:b.wrapper,change:function(){b._change(this.value()),b.close()},close:function(a){b.trigger(k)?a.preventDefault():(f.attr(D,!1),h.attr(E,!0))},open:function(d){var a,c=b.options;b.trigger(j)?d.preventDefault():(b.element.val()!==b._oldText&&(a=o(f.val(),c.parseFormats,c.culture),b.dateView[a?"current":"value"](a)),f.attr(D,!0),h.attr(E,!1),b._updateARIA(a))}})),h=b.dateView.div,b._icon();try{f[0].setAttribute("type","text")}catch(i){f[0].type="text"}f.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":b.dateView._dateViewID,autocomplete:"off"}),b._reset(),b._template(),f.is("[disabled]")||e(b.element).parents("fieldset").is(":disabled")?b.enable(!1):b.readonly(f.is("[readonly]")),b._createDateInput(c),b._old=b._update(c.value||b.element.val()),b._oldText=f.val(),a.notify(b)},events:[j,k,_],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:"month",depth:"month",animation:{},month:{},dates:[],disableDates:null,ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#',dateInput:!1,weekNumber:!1},setOptions:function(b){var c=this._value;g.fn.setOptions.call(this,b),(b=this.options).min=o(b.min),b.max=o(b.max),l(b),this.dateView.setOptions(b),this._createDateInput(b),this._dateInput||this.element.val(a.toString(c,b.format,b.culture)),c&&this._updateARIA(c)},_editable:function(e){var a=this,h=a._dateIcon.off(b),c=a.element.off(b),f=a._inputWrapper.off(b),g=e.readonly,d=e.disable;g||d?(f.addClass(d?A:x).removeClass(d?x:A),c.attr(v,d).attr(w,g).attr(C,d)):(f.addClass(x).removeClass(A).on("mouseenter.kendoDatePicker mouseleave.kendoDatePicker",a._toggleHover),c&&c.length&&(c[0].removeAttribute(v),c[0].removeAttribute(w)),c.attr(C,!1).on("keydown"+b,J(a._keydown,a)).on("focusout"+b,J(a._blur,a)).on("focus"+b,function(){a._inputWrapper.addClass(y)}),h.on(u,J(a._click,a)).on(B,L))},readonly:function(a){this._editable({readonly:a===n||a,disable:!1}),this._dateInput&&this._dateInput._editable({readonly:a===n||a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===n||a)}),this._dateInput&&this._dateInput._editable({readonly:!1,disable:!(a=a===n||a)})},destroy:function(){g.fn.destroy.call(this),this.dateView.destroy(),this.element.off(b),this._dateIcon.off(b),this._inputWrapper.off(b),this._form&&this._form.off("reset",this._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},value:function(b){var a=this;if(b===n)return a._value;a._old=a._update(b),null===a._old&&a.element.val(""),a._oldText=a.element.val()},_toggleHover:function(a){e(a.currentTarget).toggleClass("k-state-hover","mouseenter"===a.type)},_blur:function(){var b=this.element.val();this.close(),b!==this._oldText&&(this._change(b),b||this.dateView.current(a.calendar.getToday())),this._inputWrapper.removeClass(y)},_click:function(a){this.dateView.toggle(),this._focusElement(a.type)},_focusElement:function(b){var a=this.element;h.touch&&(!h.mouseAndTouchPresent||(b||"").match(/touch/i))||a[0]===r()||a.trigger("focus")},_change:function(c){var d,b=this,e=b.element.val();c=b._update(c);var f=(d=!a.calendar.isEqualDate(b._old,c))&&!b._typing,g=e!==b.element.val();(f||g)&&b.element.trigger(_),d&&(b._old=c,b._oldText=b.element.val(),b.trigger(_)),b._typing=!1},_keydown:function(a){var b=this.dateView,c=this.element.val(),d=!1;b.popup.visible()||a.keyCode!=p.ENTER||c===this._oldText?(d=b.move(a),this._updateARIA(b._current),d?this._dateInput&&a.stopImmediatePropagation&&a.stopImmediatePropagation():this._typing=!0):this._change(c)},_icon:function(){var a,b=this.element;(a=b.next("span.k-select"))[0]||(a=e('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-calendar"></span></span>').insertAfter(b)),this._dateIcon=a.attr({role:"button","aria-controls":this.dateView._dateViewID})},_option:function(c,a){var b=this.options;if(a===n)return b[c];(a=o(a,b.parseFormats,b.culture))&&(b[c]=new K(+a),this.dateView[c](a))},_update:function(e){var h,c=this,d=c.options,f=d.min,i=d.max,g=c._value,b=o(e,d.parseFormats,d.culture),j=null===b&&null===g||b instanceof Date&&g instanceof Date;return d.disableDates(b)&&(b=null,c._old||c.element.val()||(e=null)),+b== +g&&j?(h=a.toString(b,d.format,d.culture))!==e&&c.element.val(null===b?e:h):(null!==b&&H(b,f)?b=G(b,f,i):F(b,f,i)||(b=null),c._value=b,c.dateView.value(b),c._dateInput&&b?c._dateInput.value(b||e):c.element.val(a.toString(b||e,d.format,d.culture)),c._updateARIA(b)),b},_wrapper:function(){var a,b=this.element;(a=b.parents(".k-datepicker"))[0]||(a=(a=b.wrap(t).parent().addClass("k-picker-wrap k-state-default")).wrap(t).parent()),a[0].style.cssText=b[0].style.cssText,b.css({width:"100%",height:b[0].style.height}),this.wrapper=a.addClass("k-widget k-datepicker").addClass(b[0].className).removeClass("input-validation-error"),this._inputWrapper=e(a[0].firstChild)},_reset:function(){var b=this,f=b.element,g=f.attr("form"),c=b.options,h=c.disableDates,k=c.parseFormats.length?c.parseFormats:null,d=b._initialOptions.value,i=g?e("#"+g):f.closest("form"),j=f[0].defaultValue;d&&h&&h(d)&&(d=null),j&&a.parseDate(j,k,c.culture)||!d||f.attr("value",a.toString(d,c.format,c.culture)),i[0]&&(b._resetHandler=function(){b.value(d||f[0].defaultValue),b.max(b._initialOptions.max),b.min(b._initialOptions.min)},b._form=i.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=q(this.options.ARIATemplate)},_createDateInput:function(a){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),a.dateInput&&(this._dateInput=new f.DateInput(this.element,{culture:a.culture,format:a.format,min:a.min,max:a.max}))},_updateARIA:function(c){var b,a=this.dateView.calendar;this.element&&this.element.length&&this.element[0].removeAttribute("aria-activedescendant"),a&&((b=a._cell).attr("aria-label",this._ariaTemplate({current:c||a.current()})),this.element.attr("aria-activedescendant",b.attr("id")))}});f.plugin(m)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.timepicker",["kendo.popup","kendo.dateinput"],function(){return function(c,n){var a=window.kendo,o=a.keys,p=a.parseDate,q=a._activeElement,r=a._extractFormat,h=a.support,s=h.browser,e=a.ui,i=e.Widget,j="open",k="change",f=".kendoTimePicker",t="click"+f,u="k-state-default",v="k-state-focused",_="k-state-hover",w="mousedown"+f,x=6e4,y="k-state-selected",z="k-state-disabled",A="aria-selected",B="aria-expanded",C="aria-hidden",D="aria-disabled",E="aria-activedescendant",F=c.isArray,G=c.extend,H=c.proxy,g=Date,b=new g;function d(e){var b=this,d=e.id;b.options=e,b._dates=[],b.ul=c('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:h.kineticScrollNeeded?"":"auto"}).on(t,"li",H(b._click,b)).on("mouseenter"+f,"li",function(){c(this).addClass(_)}).on("mouseleave"+f,"li",function(){c(this).removeClass(_)}),b.list=c("<div class='k-list-container k-list-scroller' unselectable='on'/>").append(b.ul).on(w,K),d&&(b._timeViewID=d+"_timeview",b._optionID=d+"_option_selected",b.ul.attr("id",b._timeViewID)),b._popup(),b._heightHandler=H(b._height,b),b.template=a.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})}function l(a){return 60*a.getHours()*x+a.getMinutes()*x+1e3*a.getSeconds()+a.getMilliseconds()}function I(d,e,f){var a,b=l(e),c=l(f);return!d||b==c||((a=l(d))<b&&(a+=864e5),c<b&&(c+=864e5),b<=a&&a<=c)}b=new g(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0),d.prototype={current:function(b){var a=this,d=a.options.active;if(b===n)return a._current;a._current&&(a._current.removeClass(y),a._current&&a._current.length&&(a._current[0].removeAttribute("id"),a._current[0].removeAttribute(A))),b&&(b=c(b).addClass(y).attr("id",a._optionID).attr(A,!0),a.scroll(b[0])),a._current=b,d&&d(b)},close:function(){this.popup.close()},destroy:function(){this.ul.off(f),this.list.off(f),this.popup.destroy()},open:function(){var b,a=this;a.ul[0].firstChild||a.bind(),b=a.popup._hovered,a.popup._hovered=!0,a.popup.open(),setTimeout(function(){a.popup._hovered=b},1),a._current&&a.scroll(a._current[0])},dataBind:function(d){for(var e,b=this.options,g=b.format,h=a.toString,i=this.template,j=d.length,c=0,f="";c<j;c++)I(e=d[c],b.min,b.max)&&(f+=i(h(e,g,b.culture)));this._html(f)},refresh:function(){var f,j,k,d,m,n,c=this.options,o=c.format,w=(d=new g,m=new g(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0),n=new g(d.getFullYear(),d.getMonth(),d.getDate(),12,0,0),-1*(m.getTimezoneOffset()-n.getTimezoneOffset())<0),t=L(a.parseDate(this._value)||new Date,c.min),u=c.min,p=c.max,q=l(u),e=l(p),v=l((j=c.interval,(k=new Date(2100,0,1)).setMinutes(-j),k)),_=c.interval*x,r=a.toString,s=this.template,b=c.useValueToRender?t:new Date(+c.min),h=new g(b),i="";for(q==e&&v!==e||e<q&&(e+=864e5);;){if(e&&(l(b)>=e||h.getDate()!=b.getDate())){f=l(b),h<b&&(f+=864e5),e<f&&(b=new g(+p)),0<l(b)&&(i+=s(r(b,o,c.culture)));break}if(h.getDate()!=b.getDate())break;i+=s(r(b,o,c.culture)),b.setTime(b.getTime()+_)}this._html(i)},bind:function(){var a=this.options.dates;a&&a[0]?this.dataBind(a):this.refresh()},_html:function(a){this.ul[0].innerHTML=a,this.popup.unbind(j,this._heightHandler),this.popup.one(j,this._heightHandler),this.current(null),this.select(this._value)},scroll:function(b){if(b){var c=this.list[0],d=b.offsetTop,g=b.offsetHeight,a=c.scrollTop,e=c.clientHeight,f=d+g;d<a?a=d:a+e<f&&(a=f-e),c.scrollTop=a}},select:function(b){var e,f=this.options,d=this._current;b instanceof Date&&(b=a.toString(b,f.format,f.culture)),"string"==typeof b&&(b=d&&d.text()===b?d:(b=c.grep(this.ul[0].childNodes,function(a){return(a.textContent||a.innerText)==b}))[0]?b:null),e=this._distinctSelection(b),this.current(e)},_distinctSelection:function(a){var b,d;return a&&1<a.length&&(b=l(this._value),d=c.inArray(b,this._dates),a=this.ul.children()[d]),a},setOptions:function(a){var b=this.options;a.min=p(a.min),a.max=p(a.max),this.options=G(b,a,{active:b.active,change:b.change,close:b.close,open:b.open}),this.bind()},toggle:function(){this.popup.visible()?this.close():this.open()},value:function(a){this._value=a,this.ul[0].firstChild&&this.select(a)},_click:function(d){var a=c(d.currentTarget),e=a.text(),b=this.options.dates;b&&0<b.length&&(e=b[a.index()]),d.isDefaultPrevented()||(this.select(a),this.options.change(e,!0),this.close())},_height:function(){var a=this.list,c=a.parent(".k-animation-container"),b=this.options.height;this.ul[0].children.length&&a.add(c).show().height(this.ul[0].scrollHeight>b?b:"auto").hide()},_parse:function(a){var c=this.options,e=l(c.min)!=l(b)?c.min:null,f=l(c.max)!=l(b)?c.max:null,d=this._value||e||f||b;return a instanceof g?a:a=(a=p(a,c.parseFormats,c.culture))&&new g(d.getFullYear(),d.getMonth(),d.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())},_adjustListWidth:function(){var b,e,c=this.list,d=c[0].style.width,f=this.options.anchor,g=a._outerWidth;!c.data("width")&&d||(e=(b=window.getComputedStyle?window.getComputedStyle(f[0],null):0)?parseFloat(b.width):g(f),b&&(s.mozilla||s.msie)&&(e+=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight)+parseFloat(b.borderLeftWidth)+parseFloat(b.borderRightWidth)),d=e-(g(c)-c.width()),c.css({fontFamily:f.css("font-family"),width:d}).data("width",d))},_popup:function(){var b=this.list,a=this.options,c=a.anchor;this.popup=new e.Popup(b,G(a.popup,{anchor:c,open:a.open,close:a.close,animation:a.animation,isRtl:h.isRtl(a.anchor)}))},move:function(c){var b=c.keyCode,e=this.ul[0],a=this._current,d=b===o.DOWN;if(b===o.UP||d){if(c.altKey)return void this.toggle(d);(a=d?a?a[0].nextSibling:e.firstChild:a?a[0].previousSibling:e.lastChild)&&this.select(a),this.options.change(this._current.text()),c.preventDefault()}else b!==o.ENTER&&b!==o.TAB&&b!==o.ESC||(c.preventDefault(),a&&this.options.change(a.text(),!0),this.close())}},d.getMilliseconds=l,a.TimeView=d;var m=i.extend({init:function(h,f){var q,m,b=this;i.fn.init.call(b,h,f),h=b.element,(f=b.options).min=p(h.attr("min"))||p(f.min),f.max=p(h.attr("max"))||p(f.max),J(f),b._initialOptions=G({},f),b._wrapper(),b.timeView=m=new d(G({},f,{id:h.attr("id"),anchor:b.wrapper,format:f.format,change:function(a,c){c?b._change(a):h.val(a)},open:function(a){b.timeView._adjustListWidth(),b.trigger(j)?a.preventDefault():(h.attr(B,!0),q.attr(C,!1))},close:function(a){b.trigger("close")?a.preventDefault():(h.attr(B,!1),q.attr(C,!0))},active:function(a){h&&h.length&&h[0].removeAttribute(E),a&&h.attr(E,m._optionID)}})),q=m.ul,b._icon(),b._reset();try{h[0].setAttribute("type","text")}catch(r){h[0].type="text"}if(h.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":m._timeViewID,autocomplete:"off"}),h.is("[disabled]")||c(b.element).parents("fieldset").is(":disabled")?b.enable(!1):b.readonly(h.is("[readonly]")),f.dateInput){var n=f.min,o=f.max,k=new g;l(n)==l(o)&&(n=new g(k.getFullYear(),k.getMonth(),k.getDate(),0,0,0),o=new g(k.getFullYear(),k.getMonth(),k.getDate(),24,0,0)),b._dateInput=new e.DateInput(h,{culture:f.culture,format:f.format,min:n,max:o,value:f.value,interval:f.interval})}b._old=b._update(f.value||b.element.val()),b._oldText=h.val(),a.notify(b)},options:{name:"TimePicker",min:b,max:b,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{},dateInput:!1},events:[j,"close",k],setOptions:function(b){var c=this._value;i.fn.setOptions.call(this,b),J(b=this.options),this.timeView.setOptions(b),c&&this.element.val(a.toString(c,b.format,b.culture))},dataBind:function(a){F(a)&&this.timeView.dataBind(a)},_editable:function(d){var a=this,c=d.disable,e=d.readonly,h=a._arrow.off(f),b=a.element.off(f),g=a._inputWrapper.off(f);a._dateInput&&a._dateInput._unbindInput(),e||c?(g.addClass(c?z:u).removeClass(c?u:z),b.attr("disabled",c).attr("readonly",e).attr(D,c)):(g.addClass(u).removeClass(z).on("mouseenter.kendoTimePicker mouseleave.kendoTimePicker",a._toggleHover),b&&b.length&&(b[0].removeAttribute("disabled"),b[0].removeAttribute("readonly")),b.attr(D,!1).on("keydown"+f,H(a._keydown,a)).on("focusout"+f,H(a._blur,a)).on("focus"+f,function(){a._inputWrapper.addClass(v)}),a._dateInput&&a._dateInput._bindInput(),h.on(t,H(a._click,a)).on(w,K))},readonly:function(a){this._editable({readonly:a===n||a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===n||a)})},destroy:function(){i.fn.destroy.call(this),this.timeView.destroy(),this.element.off(f),this._arrow.off(f),this._inputWrapper.off(f),this._form&&this._form.off("reset",this._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},value:function(a){if(a===n)return this._value;this._old=this._update(a),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_blur:function(){var a=this.element.val();this.close(),a!==this._oldText&&this._change(a),this._inputWrapper.removeClass(v)},_click:function(){var a=this.element;this.timeView.toggle(),h.touch||a[0]===q()||a.trigger("focus")},_change:function(c){var d,b=this,e=b.element.val();c=b._update(c);var f=(d=!a.calendar.isEqualDate(b._old,c))&&!b._typing,g=e!==b.element.val();(f||g)&&b.element.trigger(k),d&&(b._old=c,b._oldText=b.element.val(),b.trigger(k)),b._typing=!1},_icon:function(){var a,b=this.element;(a=b.next("span.k-select"))[0]||(a=c('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-clock"></span></span>').insertAfter(b)),this._arrow=a.attr({role:"button","aria-controls":this.timeView._timeViewID})},_keydown:function(a){var d=a.keyCode,b=this.timeView,c=this.element.val();b.popup.visible()||a.altKey?(b.move(a),this._dateInput&&a.stopImmediatePropagation&&a.stopImmediatePropagation()):d===o.ENTER&&c!==this._oldText?this._change(c):this._typing=!0},_option:function(b,a){var c=this.options;if(a===n)return c[b];(a=this.timeView._parse(a))&&(a=new g(+a),c[b]=a,this.timeView.options[b]=a,this.timeView.bind())},_toggleHover:function(a){c(a.currentTarget).toggleClass(_,"mouseenter"===a.type)},_update:function(d){var c=this.options,e=this.timeView,b=e._parse(d);return I(b,c.min,c.max)||(b=null),this._value=b,this._dateInput&&b?this._dateInput.value(b||d):this.element.val(a.toString(b||d,c.format,c.culture)),e.value(b),b},_wrapper:function(){var a,b=this.element;(a=b.parents(".k-timepicker"))[0]||(a=(a=b.wrap("<span/>").parent().addClass("k-picker-wrap k-state-default")).wrap("<span/>").parent()),a[0].style.cssText=b[0].style.cssText,this.wrapper=a.addClass("k-widget k-timepicker").addClass(b[0].className),b.css({width:"100%",height:b[0].style.height}),this._inputWrapper=c(a[0].firstChild)},_reset:function(){var a=this,b=a.element,d=b.attr("form"),e=d?c("#"+d):b.closest("form");e[0]&&(a._resetHandler=function(){a.value(b[0].defaultValue),a.max(a._initialOptions.max),a.min(a._initialOptions.min)},a._form=e.on("reset",a._resetHandler))}});function J(b){var c=b.parseFormats;b.format=r(b.format||a.getCulture(b.culture).calendars.standard.patterns.t),(c=F(c)?c:[c]).splice(0,0,b.format),b.parseFormats=c}function K(a){a.preventDefault()}function L(b,a){return new Date(b.getFullYear(),b.getMonth(),b.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}e.plugin(m)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.datetimepicker",["kendo.datepicker","kendo.timepicker"],function(){return function(f,n){var a=window.kendo,g=a.TimeView,_=a.parseDate,h=a.support,o=a._activeElement,p=a._extractFormat,c=a.calendar,q=c.isInRange,r=c.restrictValue,s=c.isEqualDatePart,t=g.getMilliseconds,d=a.ui,i=d.Widget,j="change",e=".kendoDateTimePicker",u=h.mouseAndTouchPresent?a.applyEventMap("up",e.slice(1)):"click.kendoDateTimePicker",v="k-state-default",w="k-state-focused",x="k-state-disabled",y="mousedown"+e,z="aria-activedescendant",A="aria-expanded",B="aria-hidden",C="aria-owns",D="aria-disabled",b=Date,k=new b(1800,0,1),l=new b(2099,11,31),E={view:"date"},F={view:"time"},G=f.extend,m=i.extend({init:function(d,c){var b=this;i.fn.init.call(b,d,c),d=b.element,(c=b.options).disableDates=a.calendar.disabled(c.disableDates),c.min=_(d.attr("min"))||_(c.min),c.max=_(d.attr("max"))||_(c.max),J(c),b._initialOptions=G({},c),b._wrapper(),b._views(),b._icons(),b._reset(),b._template();try{d[0].setAttribute("type","text")}catch(e){d[0].type="text"}d.addClass("k-input").attr({role:"combobox","aria-expanded":!1,autocomplete:"off"}),b._midnight=b._calculateMidnight(c.min,c.max),d.is("[disabled]")||f(b.element).parents("fieldset").is(":disabled")?b.enable(!1):b.readonly(d.is("[readonly]")),b._createDateInput(c),b._old=b._update(c.value||b.element.val()),b._oldText=d.val(),a.notify(b)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],disableDates:null,min:new b(k),max:new b(l),interval:30,height:200,footer:"",start:"month",depth:"month",animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#',dateButtonText:"Open the date view",timeButtonText:"Open the time view",dateInput:!1,weekNumber:!1},events:["open","close",j],setOptions:function(c){var e,f,g,d=this,h=d._value;i.fn.setOptions.call(d,c),(c=d.options).min=e=_(c.min),c.max=f=_(c.max),J(c),d._midnight=d._calculateMidnight(c.min,c.max),g=c.value||d._value||d.dateView._current,e&&!s(e,g)&&(e=new b(k)),f&&!s(f,g)&&(f=new b(l)),d.dateView.setOptions(c),d.timeView.setOptions(G({},c,{format:c.timeFormat,min:e,max:f})),d._createDateInput(c),d._dateInput||d.element.val(a.toString(h,c.format,c.culture)),h&&d._updateARIA(h)},_editable:function(g){var b=this,c=b.element.off(e),j=b._dateIcon.off(e),k=b._timeIcon.off(e),h=b._inputWrapper.off(e),i=g.readonly,d=g.disable;i||d?(h.addClass(d?x:v).removeClass(d?v:x),c.attr("disabled",d).attr("readonly",i).attr(D,d)):(h.addClass(v).removeClass(x).on("mouseenter.kendoDateTimePicker mouseleave.kendoDateTimePicker",b._toggleHover),c&&c.length&&(c[0].removeAttribute("disabled"),c[0].removeAttribute("readonly",!1),c[0].removeAttribute(D,!1)),c.on("keydown"+e,f.proxy(b._keydown,b)).on("focus"+e,function(){b._inputWrapper.addClass(w)}).on("focusout"+e,function(){b._inputWrapper.removeClass(w),c.val()!==b._oldText&&(b._change(c.val()),c.val()||b.dateView.current(a.calendar.getToday())),b.close("date"),b.close("time")}),j.on(y,I).on(u,function(a){b.toggle("date"),b._focusElement(a.type)}),k.on(y,I).on(u,function(a){b.toggle("time"),b._focusElement(a.type)}))},_focusElement:function(b){var a=this.element;h.touch&&(!h.mouseAndTouchPresent||(b||"").match(/touch/i))||a[0]===o()||a.trigger("focus")},readonly:function(a){this._editable({readonly:a===n||a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===n||a)})},destroy:function(){i.fn.destroy.call(this),this.dateView.destroy(),this.timeView.destroy(),this.element.off(e),this._dateIcon.off(e),this._timeIcon.off(e),this._inputWrapper.off(e),this._form&&this._form.off("reset",this._resetHandler)},close:function(a){"time"!==a&&(a="date"),this[a+"View"].close()},open:function(a){"time"!==a&&(a="date"),this[a+"View"].open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},toggle:function(a){var b="timeView";"time"!==a?a="date":b="dateView",this[a+"View"].toggle(),this[b].close()},value:function(a){if(a===n)return this._value;this._old=this._update(a),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_change:function(b){var c,a=this,d=a.element.val();b=a._update(b);var e=(c=+a._old!= +b)&&!a._typing,f=d!==a.element.val();(e||f)&&a.element.trigger(j),c&&(a._old=b,a._oldText=a.element.val(),a.trigger(j)),a._typing=!1},_option:function(e,c){var f,g,a=this.options,h=this.timeView,d=h.options,i=this._value||this._old;if(c===n)return a[e];if(c=_(c,a.parseFormats,a.culture)){if(a.min.getTime()===a.max.getTime()&&(d.dates=[]),a[e]=new b(c.getTime()),this.dateView[e](c),this._midnight=this._calculateMidnight(a.min,a.max),i&&(f=s(a.min,i),g=s(a.max,i)),f||g){if(d[e]=c,f&&!g&&(d.max=H(a.interval)),g){if(this._midnight)return void h.dataBind([l]);f||(d.min=k)}}else d.max=l,d.min=k;h.bind()}},_toggleHover:function(a){f(a.currentTarget).toggleClass("k-state-hover","mouseenter"===a.type)},_update:function(e){var h,g,n,o,v,c=this,d=c.options,i=d.min,p=d.max,t=d.dates,m=c.timeView,u=c._value,b=_(e,d.parseFormats,d.culture),w=null===b&&null===u||b instanceof Date&&u instanceof Date;return d.disableDates&&d.disableDates(b)&&(b=null,c._old||c.element.val()||(e=null)),+b== +u&&w?(v=a.toString(b,d.format,d.culture))!==e&&(c.element.val(null===b?e:v),e instanceof String&&c.element.trigger(j)):(null!==b&&s(b,i)?b=r(b,i,p):q(b,i,p)||(b=null),c._value=b,m.value(b),c.dateView.value(b),b&&(n=c._old,g=m.options,t[0]&&(t=f.grep(t,function(a){return s(b,a)}))[0]&&(m.dataBind(t),o=!0),o||(s(b,i)&&(g.min=i,g.max=H(d.interval),h=!0),s(b,p)&&(c._midnight?(m.dataBind([l]),o=!0):(g.max=p,h||(g.min=k),h=!0))),o||(n||!h)&&(!n||s(n,b))||(h||(g.max=l,g.min=k),m.bind())),c._dateInput&&b?c._dateInput.value(b||e):c.element.val(a.toString(b||e,d.format,d.culture)),c._updateARIA(b)),b},_keydown:function(b){var c=this.dateView,d=this.timeView,e=this.element.val(),f=c.popup.visible(),g=this._dateInput&&b.stopImmediatePropagation;b.altKey&&b.keyCode===a.keys.DOWN?this.toggle(f?"time":"date"):f?(c.move(b),this._updateARIA(c._current)):d.popup.visible()?d.move(b):b.keyCode===a.keys.ENTER&&e!==this._oldText?this._change(e):g=(this._typing=!0,!1),g&&b.stopImmediatePropagation()},_views:function(){var f,h,j,m,e,o,d=this,n=d.element,c=d.options,i=n.attr("id");d.dateView=f=new a.DateView(G({},c,{id:i,anchor:d.wrapper,change:function(){var g,j,e=f.calendar.value(),k=+e,h=+c.min,i=+c.max;k!=h&&k!=i||(g=k==h?h:i,(g=new b(d._value||g)).setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),q(g,h,i)&&(e=g)),d._value&&(j=a.date.setHours(new Date(e),d._value),q(j,h,i)&&(e=j)),d._change(e),d.close("date")},close:function(a){d.trigger("close",E)?a.preventDefault():(n.attr(A,!1),j.attr(B,!0),h.popup.visible()||n&&n.length&&n[0].removeAttribute(C))},open:function(a){d.trigger("open",E)?a.preventDefault():(n.val()!==d._oldText&&(o=_(n.val(),c.parseFormats,c.culture),d.dateView[o?"current":"value"](o)),j.attr(B,!1),n.attr(A,!0).attr(C,f._dateViewID),d._updateARIA(o))}})),j=f.div,e=c.min.getTime(),d.timeView=h=new g({id:i,value:c.value,anchor:d.wrapper,animation:c.animation,format:c.timeFormat,culture:c.culture,height:c.height,interval:c.interval,min:new b(k),max:new b(l),dates:e===c.max.getTime()?[new Date(e)]:[],parseFormats:c.parseFormats,change:function(e,g){(e=h._parse(e))<c.min?(e=new b(+c.min),h.options.min=e):e>c.max&&(e=new b(+c.max),h.options.max=e),g?(d._timeSelected=!0,d._change(e)):(n.val(a.toString(e,c.format,c.culture)),f.value(e),d._updateARIA(e))},close:function(a){d.trigger("close",F)?a.preventDefault():(m.attr(B,!0),n.attr(A,!1),f.popup.visible()||n&&n.length&&n[0].removeAttribute(C))},open:function(a){h._adjustListWidth(),d.trigger("open",F)?a.preventDefault():(n.val()!==d._oldText&&(o=_(n.val(),c.parseFormats,c.culture),d.timeView.value(o)),m.attr(B,!1),n.attr(A,!0).attr(C,h._timeViewID),h.options.active(h.current()))},active:function(a){n&&n.length&&n[0].removeAttribute(z),a&&n.attr(z,h._optionID)},popup:c.popup,useValueToRender:!0}),m=h.ul},_icons:function(){var a,b=this.element,c=this.options;(a=b.next("span.k-select"))[0]||(a=f('<span unselectable="on" class="k-select"><span class="k-link k-link-date" aria-label="'+c.dateButtonText+'"><span unselectable="on" class="k-icon k-i-calendar"></span></span><span class="k-link k-link-time" aria-label="'+c.timeButtonText+'"><span unselectable="on" class="k-icon k-i-clock"></span></span></span>').insertAfter(b)),a=a.children(),this._dateIcon=a.eq(0).attr("aria-controls",this.dateView._dateViewID),this._timeIcon=a.eq(1).attr("aria-controls",this.timeView._timeViewID)},_wrapper:function(){var a,b=this.element;(a=b.parents(".k-datetimepicker"))[0]||(a=(a=b.wrap("<span/>").parent().addClass("k-picker-wrap k-state-default")).wrap("<span/>").parent()),a[0].style.cssText=b[0].style.cssText,b.css({width:"100%",height:b[0].style.height}),this.wrapper=a.addClass("k-widget k-datetimepicker").addClass(b[0].className).removeClass("input-validation-error"),this._inputWrapper=f(a[0].firstChild)},_reset:function(){var b=this,e=b.element,g=e.attr("form"),h=g?f("#"+g):e.closest("form"),c=b.options,i=c.disableDates,k=c.parseFormats.length?c.parseFormats:null,d=b._initialOptions.value,j=e[0].defaultValue;d&&i&&i(d)&&(d=null),j&&a.parseDate(j,k,c.culture)||!d||e.attr("value",a.toString(d,c.format,c.culture)),h[0]&&(b._resetHandler=function(){b.value(d||e[0].defaultValue),b.max(b._initialOptions.max),b.min(b._initialOptions.min)},b._form=h.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=a.template(this.options.ARIATemplate)},_createDateInput:function(a){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),a.dateInput&&(this._dateInput=new d.DateInput(this.element,{culture:a.culture,format:a.format,min:a.min,max:a.max,interval:a.interval}))},_calculateMidnight:function(a,b){return t(a)+t(b)===0},_updateARIA:function(c){var b,a=this.dateView.calendar;this.element&&this.element.length&&this.element[0].removeAttribute(z),a&&((b=a._cell).attr("aria-label",this._ariaTemplate({current:c||a.current()})),this.element.attr(z,b.attr("id")))}});function H(b){var a=new Date(2100,0,1);return a.setMinutes(-b),a}function I(a){a.preventDefault()}function J(b){var c,d=a.getCulture(b.culture).calendars.standard.patterns,e=!b.parseFormats.length;b.format=p(b.format||d.g),b.timeFormat=c=p(b.timeFormat||d.t),a.DateView.normalize(b),e&&b.parseFormats.unshift("yyyy-MM-ddTHH:mm:ss"),-1===f.inArray(c,b.parseFormats)&&b.parseFormats.push(c)}d.plugin(m)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.list",["kendo.data","kendo.popup"],function(){return function(b,l){var a=window.kendo,c=a.ui,m=a._outerHeight,n=/^\d+(\.\d+)?%$/i,o=c.Widget,p=a.keys,f=a.support,_=a.htmlEncode,q=a._activeElement,r=a._outerWidth,s=a.data.ObservableArray,g="change",t="k-state-focused",u="k-state-hover",v="k-i-loading",w=".k-group-header",x="cascade",y="select",z="requestStart",A="requestEnd",h=b.extend,B=b.proxy,C=b.isArray,e=f.browser,i=e.msie,D=i&&e.version<9,E=/"/g,F={ComboBox:["DropDownList","MultiColumnComboBox"],DropDownList:["ComboBox","MultiColumnComboBox"],MultiColumnComboBox:["ComboBox","DropDownList"]},d=a.ui.DataBoundWidget.extend({init:function(e,d){var f,c=this,g=c.ns;o.fn.init.call(c,e,d),e=c.element,d=c.options,c._isSelect=e.is(y),c._isSelect&&c.element[0].length&&(d.dataSource||(d.dataTextField=d.dataTextField||"text",d.dataValueField=d.dataValueField||"value")),c.ul=b('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),c.list=b("<div class='k-list-container'/>").append(c.ul).on("mousedown"+g,B(c._listMousedown,c)),f=(f=e.attr("id"))||a.guid(),c.list.attr("id",f+"-list"),c.ul.attr("id",f+"_listbox"),d.columns&&d.columns.length&&(c.ul.removeClass("k-list").addClass("k-grid-list"),c._columnsHeader()),c._header(),c._noData(),c._footer(),c._accessors(),c._initValue()},options:{valuePrimitive:!1,footerTemplate:"",headerTemplate:"",noDataTemplate:!0,messages:{noData:"No data found.",clear:"clear"}},setOptions:function(a){o.fn.setOptions.call(this,a),a&&a.enable!==l&&(a.enabled=a.enable),a.columns&&a.columns.length&&this._columnsHeader(),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData()},focus:function(){this._focused.focus()},readonly:function(a){this._editable({readonly:a===l||a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===l||a)})},_header:function(){var c=b(this.header),d=this.options.headerTemplate;if(this._angularElement(c,"cleanup"),a.destroy(c),c.remove(),d){var e="function"!=typeof d?a.template(d):d;c=b(e({})),this.header=c[0]?c:null,this.list.prepend(c),this._angularElement(this.header,"compile")}else this.header=null},_columnsHeader:function(){var c=b(this.columnsHeader);this._angularElement(c,"cleanup"),a.destroy(c),c.remove();for(var f="<div class='k-grid-header'><div class='k-grid-header-wrap'><table role='presentation'>",k="<colgroup>",g="<tr>",h=0;h<this.options.columns.length;h++){var d=this.options.columns[h],m=d.title||d.field||"",i=d.headerTemplate||m,o="function"!=typeof i?a.template(i):i,j=d.width,l=parseInt(j,10),e="";j&&!isNaN(l)&&(e+="style='width:",e+=l,e+=n.test(j)?"%":"px",e+=";'"),k+="<col "+e+"/>",g+="<th class='k-header'>",g+=o(d),g+="</th>"}f+=k+="</colgroup>",f+=g+="</tr>",f+="</table></div></div>",this.columnsHeader=c=b(f),this.list.prepend(c),this._angularElement(this.columnsHeader,"compile")},_noData:function(){var d=b(this.noData),c=!0===this.options.noDataTemplate?this.options.messages.noData:this.options.noDataTemplate;this.angular("cleanup",function(){return{elements:d}}),a.destroy(d),d.remove(),c?(this.noData=b('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(this.list),this.noDataTemplate="function"!=typeof c?a.template(c):c):this.noData=null},_footer:function(){var d=b(this.footer),c=this.options.footerTemplate;this._angularElement(d,"cleanup"),a.destroy(d),d.remove(),c?(this.footer=b('<div class="k-footer"></div>').appendTo(this.list),this.footerTemplate="function"!=typeof c?a.template(c):c):this.footer=null},_listOptions:function(e){var c=this,d=c.options,f=d.virtual,g={change:B(c._listChange,c)},h=B(c._listBound,c);return f="object"==typeof f?f:{},(e=b.extend({autoBind:!1,selectable:!0,dataSource:c.dataSource,click:B(c._click,c),activate:B(c._activateItem,c),columns:d.columns,deactivate:B(c._deactivateItem,c),dataBinding:function(){c.trigger("dataBinding")},dataBound:h,height:d.height,dataValueField:d.dataValueField,dataTextField:d.dataTextField,groupTemplate:d.groupTemplate,fixedGroupTemplate:d.fixedGroupTemplate,template:d.template},e,f,g)).template||(e.template="#:"+a.expr(e.dataTextField,"data")+"#"),d.$angular&&(e.$angular=d.$angular),e},_initList:function(){var b=this,c=b._listOptions({selectedItemChange:B(b._listChange,b)});b.options.virtual?b.listView=new a.ui.VirtualList(b.ul,c):b.listView=new a.ui.StaticList(b.ul,c),b.listView.bind("listBound",B(b._listBound,b)),b._setListValue()},_setListValue:function(a){(a=a||this.options.value)!==l&&this.listView.value(a).done(B(this._updateSelectionState,this))},_updateSelectionState:b.noop,_listMousedown:function(a){this.filterInput&&this.filterInput[0]===a.target||a.preventDefault()},_isFilterEnabled:function(){var a=this.options.filter;return a&&"none"!==a},_hideClear:function(){this._clear&&this._clear.addClass("k-hidden")},_showClear:function(){this._clear&&this._clear.removeClass("k-hidden")},_clearValue:function(){this._clearText(),this._accessor(""),this.listView.value([]),this._isSelect&&(this._customOption=l),this._isFilterEnabled()&&!this.options.enforceMinLength&&(this._filter({word:"",open:!1}),this.options.highlightFirst&&this.listView.focus(0)),this._change()},_clearText:function(){this.text("")},_clearFilter:function(){this.options.virtual||this.listView.bound(!1),this._filterSource()},_filterSource:function(a,g){var e=this.options,i=e.filterFields&&a&&a.logic&&a.filters&&a.filters.length,b=this.dataSource,c=h({},b.filter()||{}),f=a||c.filters&&c.filters.length&&!a,j=K(c,e.dataTextField);if(this._clearFilterExpressions(c),!a&&!j||!this.trigger("filtering",{filter:a})){var d={filters:[],logic:"and"};i?d.filters.push(a):this._pushFilterExpression(d,a),J(c)&&(d.logic===c.logic?d.filters=d.filters.concat(c.filters):d.filters.push(c)),this._cascading&&this.listView.setDSFilter(d);var k=h({},{page:f?1:b.page(),pageSize:f?b.options.pageSize:b.pageSize(),sort:b.sort(),filter:b.filter(),group:b.group(),aggregate:b.aggregate()},{filter:d});return b[g?"read":"query"](b._mergeState(k))}},_pushFilterExpression:function(b,a){J(a)&&""!==a.value&&b.filters.push(a)},_clearFilterExpressions:function(a){if(a.filters){for(var c,b=0;b<a.filters.length;b++)"fromFilter"in a.filters[b]&&(c=b);isNaN(c)||a.filters.splice(c,1)}},_angularElement:function(a,b){a&&this.angular(b,function(){return{elements:a}})},_renderNoData:function(){var a=this.noData;a&&(this._angularElement(a,"cleanup"),a.children(":first").html(this.noDataTemplate({instance:this})),this._angularElement(a,"compile"))},_toggleNoData:function(a){b(this.noData).toggle(a)},_toggleHeader:function(a){this.listView.content.prev(w).toggle(a)},_renderFooter:function(){var a=this.footer;a&&(this._angularElement(a,"cleanup"),a.html(this.footerTemplate({instance:this})),this._angularElement(a,"compile"))},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var a=this.options.value;null!==a?this.element.val(a):(a=this._accessor(),this.options.value=a),this._old=a},_ignoreCase:function(){var a,b=this.dataSource.reader.model;b&&b.fields&&(a=b.fields[this.options.dataTextField])&&a.type&&"string"!==a.type&&(this.options.ignoreCase=!1)},_focus:function(a){return this.listView.focus(a)},_filter:function(d){var a,e=this.options,f=d.word,b=e.filterFields,g=e.dataTextField;if(b&&b.length){a={logic:"or",filters:[],fromFilter:!0};for(var c=0;c<b.length;c++)this._pushFilterExpression(a,this._buildExpression(f,b[c]))}else a=this._buildExpression(f,g);this._open=d.open,this._filterSource(a)},_buildExpression:function(a,e){var b=this.options,c=b.ignoreCase,d=this.dataSource.options.accentFoldingFiltering;return{value:c?d?a.toLocaleLowerCase(d):a.toLowerCase():a,field:e,operator:b.filter,ignoreCase:c}},_clearButton:function(){var a=this.options.messages.clear;this._clear||(this._clear=b('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="'+a+'"></span>').attr({role:"button",tabIndex:-1})),this.options.clearButton||this._clear.remove(),this._hideClear()},search:function(a){var c=this.options;a="string"==typeof a?a:this._inputValue(),clearTimeout(this._typingTimeout),(c.enforceMinLength||a.length)&&!(a.length>=c.minLength)||(this._state="filter",this.listView&&(this.listView._emptySearch=!b.trim(a).length),this._isFilterEnabled()?this._filter({word:a,open:!0}):this._searchByWord(a))},current:function(a){return this._focus(a)},items:function(){return this.ul[0].children},destroy:function(){var a=this.ns;o.fn.destroy.call(this),this._unbindDataSource(),this.listView.destroy(),this.list.off(a),this.popup.destroy(),this._form&&this._form.off("reset",this._resetHandler)},dataItem:function(a){if(a===l)return this.listView.selectedDataItems()[0];if("number"!=typeof a){if(this.options.virtual)return this.dataSource.getByUid(b(a).data("uid"));a=b(this.items()).index(a)}return this.dataSource.flatView()[a]},_activateItem:function(){var a=this.listView.focus();a&&this._focused.add(this.filterInput).attr("aria-activedescendant",a.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var c=this.element,b=this.options,d=a.getter,e=c.attr(a.attr("text-field")),f=c.attr(a.attr("value-field"));!b.dataTextField&&e&&(b.dataTextField=e),!b.dataValueField&&f&&(b.dataValueField=f),this._text=d(b.dataTextField),this._value=d(b.dataValueField)},_aria:function(a){var b=this.options,c=this._focused.add(this.filterInput);b.suggest!==l&&c.attr("aria-autocomplete",b.suggest?"both":"list"),a=a?a+" "+this.ul[0].id:this.ul[0].id,c.attr("aria-owns",a),this.ul.attr("aria-live",this._isFilterEnabled()?"polite":"off"),this._ariaLabel()},_ariaLabel:function(){var c=this._focused,d=this.element,f=d.attr("id"),e=b('label[for="'+f+'"]'),g=d.attr("aria-label"),h=d.attr("aria-labelledby");if(c!==d){if(g)c.attr("aria-label",g);else if(h)c.attr("aria-labelledby",h);else if(e.length){var i=e.attr("id")||this._generateLabelId(e,f||a.guid());c.attr("aria-labelledby",i)}}},_generateLabelId:function(b,c){var a=c+"_label";return b.attr("id",a),a},_blur:function(){this._change(),this.close()},_change:function(){var d,a=this,c=a.selectedIndex,e=a.options.value,b=a.value();a._isSelect&&!a.listView.bound()&&e&&(b=e),(b!==j(a._old,typeof b)&&b!==j(a._oldText,typeof b)||a._valueBeforeCascade!==l&&a._valueBeforeCascade!==j(a._old,typeof a._valueBeforeCascade)&&a._userTriggered||c!==l&&c!==a._oldIndex&&!a.listView.isFiltered())&&(d=!0),d&&(null===a._old||""===a._old||""===b?a._valueBeforeCascade=a._old=b:a.dataItem()?a._valueBeforeCascade=a._old=a.options.dataValueField?a.dataItem()[a.options.dataValueField]:a.dataItem():a._valueBeforeCascade=a._old=null,a._oldIndex=c,a._oldText=a.text&&a.text(),a._typing||a.element.trigger(g),a.trigger(g)),a.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var a=this.options,b=this.element.is("[disabled]");a.enable!==l&&(a.enabled=a.enable),!a.enabled||b?this.enable(!1):this.readonly(this.element.is("[readonly]"))},_dataValue:function(b){var a=this._value(b);return a===l&&(a=this._text(b)),a},_offsetHeight:function(){var a=0;return this.listView.content.prevAll(":visible").each(function(){var c=b(this);a+=m(c,!0)}),a},_height:function(e){var c,d=this.list,a=this.options.height,f=this.popup.visible();if(e||this.options.noDataTemplate){if(c=d.add(d.parent(".k-animation-container")).show(),!d.is(":visible"))return void c.hide();a=this.listView.content[0].scrollHeight>a?a:"auto",c.height(a),"auto"!==a&&(a=a-this._offsetHeight()-(m(b(this.footer))||0)),this.listView.content.height(a),f||c.hide()}return a},_openHandler:function(a){this._adjustListWidth(),this.trigger("open")?a.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_adjustListWidth:function(){var a,d,b=this.list,c=b[0].style.width,f=this.wrapper;if(b.data("width")||!c)return d=parseFloat((a=window.getComputedStyle?window.getComputedStyle(f[0],null):0)&&a.width)||r(f),a&&e.msie&&(d+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth)),c="border-box"!==b.css("box-sizing")?d-(r(b)-b.width()):d,b.css({fontFamily:f.css("font-family"),width:this.options.autoWidth?"auto":c,minWidth:c,whiteSpace:this.options.autoWidth?"nowrap":"normal"}).data("width",c),!0},_closeHandler:function(a){this.trigger("close")?a.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var a=this.listView,c=!a.focus(),b=H(a.select());b===l&&this.options.highlightFirst&&c&&(b=0),b!==l?a.focus(b):c&&a.scrollToIndex(0)},_calculateGroupPadding:function(f){var e=this.ul.children(".k-first:first"),c=this.listView.content.prev(w),d=0,b="right";c[0]&&"none"!==c[0].style.display&&("auto"!==f&&(d=a.support.scrollbar()),this.element.parents(".k-rtl").length&&(b="left"),d+=parseFloat(e.css("border-"+b+"-width"),10)+parseFloat(e.children(".k-group").css("padding-"+b),10),c.css("padding-"+b,d))},_calculatePopupHeight:function(b){var a=this._height(this.dataSource.flatView().length||b);this._calculateGroupPadding(a),this._calculateColumnsHeaderPadding(a)},_calculateColumnsHeaderPadding:function(b){if(this.options.columns&&this.options.columns.length){var c=f.isRtl(this.wrapper),d=a.support.scrollbar();this.columnsHeader.css(c?"padding-left":"padding-right","auto"!==b?d:0)}},_refreshScroll:function(){var a=this.listView,b=a.element.height()>a.content.height();this.options.autoWidth&&a.content.css({overflowX:"hidden",overflowY:b?"scroll":"auto"})},_resizePopup:function(a){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(a):(this.popup.one("open",(function(a){return B(function(){this._calculatePopupHeight(a)},this)}).call(this,a)),this.popup.one("activate",B(this._refreshScroll,this))))},_popup:function(){var a=this;a.popup=new c.Popup(a.list,h({},a.options.popup,{anchor:a.wrapper,open:B(a._openHandler,a),close:B(a._closeHandler,a),animation:a.options.animation,isRtl:f.isRtl(a.wrapper),autosize:a.options.autoWidth}))},_makeUnselectable:function(){D&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(a){b(a.currentTarget).toggleClass(u,"mouseenter"===a.type)},_toggle:function(a,b){var c=f.mobileOS&&(f.touch||f.MSPointers||f.pointers);a=a!==l?a:!this.popup.visible(),b||c||this._focused[0]===q()||(this._prevent=!0,this._focused.focus(),this._prevent=!1),this[a?"open":"close"]()},_triggerCascade:function(){this._cascadeTriggered&&this.value()===j(this._cascadedValue,typeof this.value())||(this._cascadedValue=this.value(),this._cascadeTriggered=!0,this.trigger(x,{userTriggered:this._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger(g)},_unbindDataSource:function(){this.dataSource.unbind(z,this._requestStartHandler).unbind(A,this._requestEndHandler).unbind("error",this._errorHandler)},requireValueMapper:function(a,b){if(((a.value instanceof Array?a.value.length:a.value)||(b instanceof Array?b.length:b))&&a.virtual&&"function"!=typeof a.virtual.valueMapper)throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});function j(a,b){return a!==l&&""!==a&&null!==a&&("boolean"===b?("boolean"!=typeof a&&(a="true"===a.toLowerCase()),a=Boolean(a)):"number"===b?a=Number(a):"string"===b&&(a=a.toString())),a}h(d,{inArray:function(b,c){var a,d,e=c.children;if(!b||b.parentNode!==c)return -1;for(a=0,d=e.length;a<d;a++)if(b===e[a])return a;return -1},unifyType:j}),a.ui.List=d,c.Select=d.extend({init:function(a,b){d.fn.init.call(this,a,b),this._initial=this.element.val()},setDataSource:function(c){var b,a=this;a.options.dataSource=c,a._dataSource(),a.listView.bound()&&(a._initialIndex=null,a.listView._current=null),a.listView.setDataSource(a.dataSource),a.options.autoBind&&a.dataSource.fetch(),(b=a._parentWidget())&&a._cascadeSelect(b)},close:function(){this.popup.close()},select:function(a){var b=this;return a===l?b.selectedIndex:b._select(a).done(function(){b._cascadeValue=b._old=b._accessor(),b._oldIndex=b.selectedIndex})},_accessor:function(a,b){return this[this._isSelect?"_accessorSelect":"_accessorInput"](a,b)},_accessorInput:function(a){var b=this.element[0];if(a===l)return b.value;null===a&&(a=""),b.value=a},_accessorSelect:function(a,b){var c=this.element[0];if(a===l)return I(c).value||"";I(c).selected=!1,b===l&&(b=-1),null!==a&&""!==a&& -1==b?this._custom(a):a?c.value=a:c.selectedIndex=b},_syncValueAndText:function(){return!0},_custom:function(c){var d=this.element,a=this._customOption;a||(a=b("<option/>"),this._customOption=a,d.append(a)),a.text(c),a[0].selected=!0},_hideBusy:function(){clearTimeout(this._busy),this._arrowIcon.removeClass(v),this._focused.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(b){var a=this;b.isDefaultPrevented()||(a._request=!0,a._busy||(a._busy=setTimeout(function(){a._arrowIcon&&(a._focused.attr("aria-busy",!0),a._arrowIcon.addClass(v),a._hideClear())},100)))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var f,c=this,g=c.element,e=c.options,d=e.dataSource||{};d=b.isArray(d)?{data:d}:d,c._isSelect&&(-1<(f=g[0].selectedIndex)&&(e.index=f),d.select=g,d.fields=[{field:e.dataTextField},{field:e.dataValueField}]),c.dataSource?c._unbindDataSource():(c._requestStartHandler=B(c._showBusy,c),c._requestEndHandler=B(c._requestEnd,c),c._errorHandler=B(c._hideBusy,c)),c.dataSource=a.data.DataSource.create(d).bind(z,c._requestStartHandler).bind(A,c._requestEndHandler).bind("error",c._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){this.listView.focusNext()},_prevItem:function(){this.listView.focusPrev()},_move:function(f){var c,i,b,a=this,h=a.listView,e=f.keyCode,k=e===p.DOWN;if(e===p.UP||k){if(f.altKey)a.toggle(k);else{if(!h.bound()&&!a.ul[0].firstChild)return a._fetch||(a.dataSource.one(g,function(){a._fetch=!1,a._move(f)}),a._fetch=!0,a._filterSource()),f.preventDefault(),!0;if(b=a._focus(),a._fetch||b&&!b.hasClass("k-state-selected")||(k?(a._nextItem(),a._focus()||a._lastItem()):(a._prevItem(),a._focus()||a._firstItem())),c=h.dataItemByIndex(h.getElementIndex(a._focus())),a.trigger(y,{dataItem:c,item:a._focus()}))return void a._focus(b);a._select(a._focus(),!0).done(function(){a.popup.visible()||a._blur(),null===a._cascadedValue?a._cascadedValue=a.value():a._cascadedValue=a.dataItem()?a.dataItem()[a.options.dataValueField]||a.dataItem():null})}f.preventDefault(),i=!0}else if(e===p.ENTER||e===p.TAB){a.popup.visible()&&f.preventDefault(),b=a._focus(),c=a.dataItem(),a.popup.visible()||c&&a.text()===a._text(c)||(b=null);var j,m=a.filterInput&&a.filterInput[0]===q();if(b){var l=!0;if((c=h.dataItemByIndex(h.getElementIndex(b)))&&(l=a._value(c)!==d.unifyType(a.value(),typeof a._value(c))),l&&a.trigger(y,{dataItem:c,item:b}))return;j=a._select(b)}else a.input&&((a._syncValueAndText()||a._isSelect)&&a._accessor(a.input.val()),a.listView.value(a.input.val()));a._focusElement&&a._focusElement(a.wrapper),m&&e===p.TAB?a.wrapper.focusout():j&&"function"==typeof j.done?j.done(function(){a._blur()}):a._blur(),a.close(),i=!0}else if(e===p.ESC)a.popup.visible()&&f.preventDefault(),a.close(),i=!0;else if(a.popup.visible()&&(e===p.PAGEDOWN||e===p.PAGEUP)){f.preventDefault();var n=e===p.PAGEDOWN?1:-1;h.scrollWith(n*h.screenHeight()),i=!0}return i},_fetchData:function(){var a=this,b=!!a.dataSource.view().length;a._request||a.options.cascadeFrom||a.listView.bound()||a._fetch||b||(a._fetch=!0,a.dataSource.fetch().done(function(){a._fetch=!1}))},_options:function(i,j,d){var a,e,f,b,k=this.element,c=k[0],m=i.length,g="",h=0;for(j&&(g=j);h<m;h++)a="<option",e=i[h],f=this._text(e),(b=this._value(e))!==l&&(-1!==(b+="").indexOf('"')&&(b=b.replace(E,"&quot;")),a+=' value="'+b+'"'),a+=">",f!==l&&(a+=_(f)),g+=a+="</option>";k.html(g),d!==l&&(c.value=d,c.value&&!d&&(c.selectedIndex=-1)),-1!==c.selectedIndex&&(a=I(c))&&a.setAttribute("selected","selected")},_reset:function(){var a=this,c=a.element,d=c.attr("form"),e=d?b("#"+d):c.closest("form");e[0]&&(a._resetHandler=function(){setTimeout(function(){a.value(a._initial)})},a._form=e.on("reset",a._resetHandler))},_parentWidget:function(){var a=this.options.name;if(this.options.cascadeFrom){var e=b("#"+this.options.cascadeFrom),c=e.data("kendo"+a);if(!c)for(var d=0;d<F[a].length&&!(c=e.data("kendo"+F[a][d]));d+=1);return c}},_cascade:function(){var b,a=this,c=a.options;if(c.cascadeFrom){if(!(b=a._parentWidget()))return;a._cascadeHandlerProxy=B(a._cascadeHandler,a),a._cascadeFilterRequests=[],c.autoBind=!1,b.bind("set",function(){a.one("set",function(b){a._selectedValue=b.value||a._accessor()})}),b.first(x,a._cascadeHandlerProxy),b.listView.bound()?(a._toggleCascadeOnFocus(),a._cascadeSelect(b)):(b.one("dataBound",function(){a._toggleCascadeOnFocus(),b.popup.visible()&&b._focused.focus()}),b.value()||a.enable(!1))}},_toggleCascadeOnFocus:function(){var b=this,a=b._parentWidget(),d=i&&a instanceof c.DropDownList?"blur":"focusout";a._focused.add(a.filterInput).bind("focus",function(){a.unbind(x,b._cascadeHandlerProxy),a.first(g,b._cascadeHandlerProxy)}),a._focused.add(a.filterInput).bind(d,function(){a.unbind(g,b._cascadeHandlerProxy),a.first(x,b._cascadeHandlerProxy)})},_cascadeHandler:function(b){var a=this._parentWidget(),c=this.value();this._userTriggered=b.userTriggered||a._userTriggered,this.listView.bound()&&this._clearSelection(a,!0),this._cascadeSelect(a,c)},_cascadeChange:function(c){var a=this,b=a._accessor()||a._selectedValue;a._cascadeFilterRequests.length||(a._selectedValue=null),a._userTriggered?a._clearSelection(c,!0):b?(b!==j(a.listView.value()[0],typeof b)&&a.value(b),a.dataSource.view()[0]&& -1!==a.selectedIndex||a._clearSelection(c,!0)):a.dataSource.flatView().length&&a.select(a.options.index),a.enable(),a._triggerCascade(),a._triggerChange(),a._userTriggered=!1},_cascadeSelect:function(b,e){var a=this,c=b.dataItem(),d=c?c[a.options.cascadeFromParentField]||b._value(c):null,f=a.options.cascadeFromField||b.options.dataValueField;if(a._valueBeforeCascade=e!==l?e:a.value(),d||0===d){function g(){var c=a._cascadeFilterRequests.shift();c&&a.unbind("dataBound",c),(c=a._cascadeFilterRequests[0])&&a.first("dataBound",c),a._cascadeChange(b)}K(a.dataSource.filter()||{},f),a._cascadeFilterRequests.push(g),1===a._cascadeFilterRequests.length&&a.first("dataBound",g),a._cascading=!0,a._filterSource({field:f,operator:"eq",value:d}),a._cascading=!1}else a.enable(!1),a._clearSelection(b),a._triggerCascade(),a._triggerChange(),a._userTriggered=!1}});var G=".StaticList",k=a.ui.DataBoundWidget.extend({init:function(d,e){o.fn.init.call(this,d,e),this.element.attr("role","listbox").on("click"+G,"li",B(this._click,this)).on("mouseenter"+G,"li",function(){b(this).addClass(u)}).on("mouseleave"+G,"li",function(){b(this).removeClass(u)}),f.touch&&this._touchHandlers(),"multiple"===this.options.selectable&&this.element.attr("aria-multiselectable",!0),this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this.bound(!1),this._optionID=a.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var c=this.options.value;c&&(this._values=b.isArray(c)?c.slice(0):[c]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=B(function(){var a=this;clearTimeout(a._scrollId),a._scrollId=setTimeout(function(){a._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click",g,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(f){var e,c=this,d=f||{};d=b.isArray(d)?{data:d}:d,d=a.data.DataSource.create(d),c.dataSource?(c.dataSource.unbind(g,c._refreshHandler),e=c.value(),c.value([]),c.bound(!1),c.value(e)):c._refreshHandler=B(c.refresh,c),c.setDSFilter(d.filter()),c.dataSource=d.bind(g,c._refreshHandler),c._fixedHeader()},_touchHandlers:function(){function c(a){return(a.originalEvent||a).changedTouches[0].pageY}var d,e,a=this;a.element.on("touchstart"+G,function(a){d=c(a)}),a.element.on("touchend"+G,function(f){f.isDefaultPrevented()||10>Math.abs((e=c(f))-d)&&(a._touchTriggered=!0,a._triggerClick(b(f.target).closest(".k-item").get(0)))})},skip:function(){return this.dataSource.skip()},setOptions:function(a){o.fn.setOptions.call(this,a),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(G),this._refreshHandler&&this.dataSource.unbind(g,this._refreshHandler),clearTimeout(this._scrollId),o.fn.destroy.call(this)},dataItemByIndex:function(a){return this.dataSource.flatView()[a]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(b){var a=this.element[0].children[b];a&&this.scroll(a)},scrollWith:function(a){this.content.scrollTop(this.content.scrollTop()+a)},scroll:function(a){if(a){a[0]&&(a=a[0]);var c=this.content[0],d=a.offsetTop,g=a.offsetHeight,b=c.scrollTop,e=c.clientHeight,f=d+g;d<b?b=d:b+e<f&&(b=f-e),c.scrollTop=b}},selectedDataItems:function(a){if(a===l)return this._dataItems.slice();this._dataItems=a,this._values=this._getValues(a)},_getValues:function(a){var c=this._valueGetter;return b.map(a,function(a){return c(a)})},focusNext:function(){var a=this.focus();a=a?a.next():0,this.focus(a)},focusPrev:function(){var a=this.focus();a=a?a.prev():this.element[0].children.length-1,this.focus(a)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(H(this.element[0].children))},focus:function(a){var c,d=this._optionID;if(a===l)return this._current;a=H(this._get(a)),a=b(this.element[0].children[a]),this._current&&(this._current.removeClass(t).removeAttr("id"),this.trigger("deactivate")),(c=!!a[0])&&(a.addClass(t),this.scroll(a),a.attr("id",d)),this._current=c?a:null,this.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():l},skipUpdate:function(a){this._skipUpdate=a},select:function(a){var d,i,c=this,j=c.options.selectable,e="multiple"!==j&& !1!==j,f=c._selectedIndices,m=[this.element.find(".k-state-selected").index()],h=[];if(a===l)return f.slice();1===(a=c._get(a)).length&& -1===a[0]&&(a=[]);var n=b.Deferred().resolve(),k=c.isFiltered();return k&&!e&&c._deselectFiltered(a)||(e&&!k&& -1!==b.inArray(H(a),f)&& -1!==b.inArray(H(a),m)?c._dataItems.length&&c._view.length&&(c._dataItems=[c._view[f[0]].item]):(d=(i=c._deselect(a)).removed,(a=i.indices).length&&(e&&(a=[H(a)]),h=c._select(a)),(h.length||d.length)&&(c._valueComparer=null,c.trigger(g,{added:h,removed:d})))),n},removeAt:function(a){return this._selectedIndices.splice(a,1),this._values.splice(a,1),this._valueComparer=null,{position:a,dataItem:this._dataItems.splice(a,1)[0]}},setValue:function(a){a=b.isArray(a)||a instanceof s?a.slice(0):[a],this._values=a,this._valueComparer=null},value:function(d){var e,a=this,c=a._valueDeferred;return d===l?a._values.slice():(a.setValue(d),c&&"resolved"!==c.state()||(a._valueDeferred=c=b.Deferred()),a.bound()&&(e=a._valueIndices(a._values),"multiple"===a.options.selectable&&a.select(-1),a.select(e),c.resolve()),a._skipUpdate=!1,c)},items:function(){return this.element.children(".k-item")},_click:function(a){this._touchTriggered?this._touchTriggered=!1:a.isDefaultPrevented()||this._triggerClick(a.currentTarget)},_triggerClick:function(a){this.trigger("click",{item:b(a)})||this.select(a)},_valueExpr:function(a,c){var d,f,b=0,e=[];if(!this._valueComparer||this._valueType!==a){for(this._valueType=a;b<c.length;b++)e.push(j(c[b],a));d="for (var idx = 0; idx < "+e.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",f=new Function("current","values",d),this._valueComparer=function(a){return f(a,e)}}return this._valueComparer},_dataItemPosition:function(b,c){var a=this._valueGetter(b);return this._valueExpr(typeof a,c)(a)},_getter:function(){this._valueGetter=a.getter(this.options.dataValueField)},_deselect:function(d){var c,h,i,f=this.element[0].children,j=this.options.selectable,e=this._selectedIndices,k=this._dataItems,m=this._values,g=[],a=0,l=0;if(d=d.slice(),!0!==j&&d.length){if("multiple"===j){for(;a<d.length;a++)if(b(f[h=d[a]]).hasClass("k-state-selected")){for(c=0;c<e.length;c++)if((i=e[c])===h){b(f[i]).removeClass("k-state-selected").attr("aria-selected",!1),g.push({position:c+l,dataItem:k.splice(c,1)[0]}),e.splice(c,1),d.splice(a,1),m.splice(c,1),l+=1,--a,--c;break}}}}else{for(;a<e.length;a++)b(f[e[a]]).removeClass("k-state-selected").attr("aria-selected",!1),g.push({position:a,dataItem:k[a]});this._values=[],this._dataItems=[],this._selectedIndices=[]}return{indices:d,removed:g}},_deselectFiltered:function(e){for(var f,a,h,i=this.element[0].children,c=[],d=0;d<e.length;d++)a=e[d],f=this._view[a].item,-1<(h=this._dataItemPosition(f,this._values))&&(c.push(this.removeAt(h)),b(i[a]).removeClass("k-state-selected"));return!!c.length&&(this.trigger(g,{added:[],removed:c}),!0)},_select:function(c){var a,d,g=this.element[0].children,h=this._view,f=[],e=0;for(-1!==H(c)&&this.focus(c);e<c.length;e++)a=h[d=c[e]],-1!==d&&a&&(a=a.item,this._selectedIndices.push(d),this._dataItems.push(a),this._values.push(this._valueGetter(a)),b(g[d]).addClass("k-state-selected").attr("aria-selected",!0),f.push({dataItem:a}));return f},getElementIndex:function(a){return b(a).data("offset-index")},_get:function(a){return"number"==typeof a?a=[a]:C(a)||(a=[(a=this.getElementIndex(a))!==l?a:-1]),a},_template:function(){var c=this.options,b=c.template;return b=b?(b=a.template(b),function(a){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+b(a)+"</li>"}):a.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+a.expr(c.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_templates:function(){var e,b=this.options,c={template:b.template,groupTemplate:b.groupTemplate,fixedGroupTemplate:b.fixedGroupTemplate};if(b.columns)for(var d=0;d<b.columns.length;d++){var f=b.columns[d],h=f.field?f.field.toString():"text";c["column"+d]=f.template||"#: "+h+"#"}for(var g in c)(e=c[g])&&"function"!=typeof e&&(c[g]=a.template(e));this.templates=c},_normalizeIndices:function(b){for(var c=[],a=0;a<b.length;a++)b[a]!==l&&c.push(b[a]);return c},_valueIndices:function(c,a){var d,e=this._view,b=0;if(a=a?a.slice():[],!c.length)return[];for(;b<e.length;b++)-1!==(d=this._dataItemPosition(e[b].item,c))&&(a[d]=b);return this._normalizeIndices(a)},_firstVisibleItem:function(){for(var d=this.element[0],c=this.content[0].scrollTop,e=b(d.children[0]).height(),a=d.children[Math.floor(c/e)||0]||d.lastChild,f=a.offsetTop<c;a;)if(f){if(a.offsetTop+e>c||!a.nextSibling)break;a=a.nextSibling}else{if(a.offsetTop<=c||!a.previousSibling)break;a=a.previousSibling}return this._view[b(a).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var b=this.templates.fixedGroupTemplate;if(b){var a=this._firstVisibleItem();a&&a.group.toString().length&&this.header.html(b(a.group))}},_renderItem:function(a){var b='<li tabindex="-1" role="option" unselectable="on" class="k-item',d=a.item,e=0!==a.index,f=a.selected,g=this.isGrouped(),c=this.options.columns&&this.options.columns.length;return e&&a.newGroup&&(b+=" k-first"),a.isLastGroupedItem&&c&&(b+=" k-last"),f&&(b+=" k-state-selected"),b+='" aria-selected="'+(f?"true":"false")+'" data-offset-index="'+a.index+'">',b+=c?this._renderColumns(d):this.templates.template(d),e&&a.newGroup?b+=c?'<div class="k-cell k-group-cell"><span>'+this.templates.groupTemplate(a.group)+"</span></div>":'<div class="k-group">'+this.templates.groupTemplate(a.group)+"</div>":g&&c&&(b+="<div class='k-cell k-spacer-cell'></div>"),b+"</li>"},_renderColumns:function(f){for(var b="",c=0;c<this.options.columns.length;c++){var d=this.options.columns[c].width,e=parseInt(d,10),a="";d&&!isNaN(e)&&(a+="style='width:",a+=e,a+=n.test(d)?"%":"px",a+=";'"),b+="<span class='k-cell' "+a+">",b+=this.templates["column"+c](f),b+="</span>"}return b},_render:function(){var b,c,g,d,h="",a=0,i=0,f=[],e=this.dataSource.view(),j=this.value(),k=this.isGrouped();if(k)for(a=0;a<e.length;a++)for(c=e[a],g=!0,d=0;d<c.items.length;d++)b={selected:this._selected(c.items[d],j),item:c.items[d],group:c.value,newGroup:g,isLastGroupedItem:d===c.items.length-1,index:i},f[i]=b,i+=1,h+=this._renderItem(b),g=!1;else for(a=0;a<e.length;a++)b={selected:this._selected(e[a],j),item:e[a],index:a},f[a]=b,h+=this._renderItem(b);this._view=f,this.element[0].innerHTML=h,k&&f.length&&this._renderHeader()},_selected:function(a,b){return(!this.isFiltered()||"multiple"===this.options.selectable)&& -1!==this._dataItemPosition(a,b)},setDSFilter:function(a){this._lastDSFilter=h({},a)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!a.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(c){var d,a=this,b=c&&c.action,f=a.options.skipUpdateOnBind,e="itemchange"===b;a.trigger("dataBinding"),a._angularItems("cleanup"),a._fixedHeader(),a._render(),a.bound(!0),e||"remove"===b?(d=function(e,f){var b,d,a,c,j=f.length,g=e.length,h=[],i=[];if(g)for(a=0;a<g;a++){for(b=e[a],d=!1,c=0;c<j;c++)if(b===f[c]){d=!0,h.push({index:a,item:b});break}d||i.push(b)}return{changed:h,unchanged:i}}(a._dataItems,c.items)).changed.length&&(e?a.trigger("selectedItemChange",{items:d.changed}):a.value(a._getValues(d.unchanged))):a.isFiltered()||a._skipUpdate||a._emptySearch?(a.focus(0),a._skipUpdate&&(a._skipUpdate=!1,a._selectedIndices=a._valueIndices(a._values,a._selectedIndices))):f||b&&"add"!==b||a.value(a._values),a._valueDeferred&&a._valueDeferred.resolve(),a._angularItems("compile"),a.trigger("dataBound")},bound:function(a){if(a===l)return this._bound;this._bound=a},isGrouped:function(){return(this.dataSource.group()||[]).length}});function H(a){return a[a.length-1]}function I(a){var b=a.selectedIndex;return -1<b?a.options[b]:{}}function J(a){return!(!a||b.isEmptyObject(a)||a.filters&&!a.filters.length)}function K(a,e){var c,d=!1;return a.filters&&(c=b.grep(a.filters,function(a){return d=K(a,e),a.filters?a.filters.length:a.field!=e}),d||a.filters.length===c.length||(d=!0),a.filters=c),d}c.plugin(k)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.fx",["kendo.core"],function(){return function(a){var d=window.kendo,b=d.effects,m=a.each,e=a.extend,q=a.proxy,f=d.support,r=f.browser,_=f.transforms,i=f.transitions,s={scale:0,scalex:0,scaley:0,scale3d:0},t={translate:0,translatex:0,translatey:0,translate3d:0},u=void 0!==document.documentElement.style.zoom&&!_,v=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,w=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,x=/translatex?$/i,y=/(zoom|fade|expand)(\w+)/,z=/(zoom|fade|expand)/,A=/[xy]$/i,B=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d",],n=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],C={rotate:"deg",scale:"",skew:"px",translate:"px"},g=_.css,D=Math.round,E="height",F="origin",o="overflow",G="translate",H="position",I="completeCallback",J=g+"transition",K=g+"transform",L=g+"backface-visibility",M=g+"perspective",N="1500px",O="perspective(1500px)",p={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};if(d.directions=p,e(a.fn,{kendoStop:function(a,c){return i?b.stopQueue(this,a||!1,c||!1):this.stop(a,c)}}),_&&!i){m(n,function(c,b){a.fn[b]=function(d){if(void 0===d)return U(this,b);var c=a(this)[0],e=b+"("+d+C[b.replace(A,"")]+")";return -1==c.style.cssText.indexOf(K)?a(this).css(K,e):c.style.cssText=c.style.cssText.replace(new RegExp(b+"\\(.*?\\)","i"),e),this},a.fx.step[b]=function(c){a(c.elem)[b](c.now)}});var P=a.fx.prototype.cur;a.fx.prototype.cur=function(){return -1!=n.indexOf(this.prop)?parseFloat(a(this.elem)[this.prop]()):P.apply(this,arguments)}}function Q(a){return parseInt(a,10)}function R(a,b){return Q(a.css(b))}function S(a){for(var b in a)-1!=B.indexOf(b)&& -1==n.indexOf(b)&&delete a[b];return a}function T(i,b){var c,a,d,e,g=[],h={};for(a in b)c=a.toLowerCase(),e=_&& -1!=B.indexOf(c),!f.hasHW3D&&e&& -1==n.indexOf(c)?delete b[a]:(d=b[a],e?g.push(a+"("+d+")"):h[a]=d);return g.length&&(h[K]=g.join(" ")),h}function U(e,b){if(_){var d=e.css(K);if("none"==d)return"scale"==b?1:0;var a=d.match(new RegExp(b+"\\s*\\(([\\d\\w\\.]+)")),c=0;return a?c=Q(a[1]):(a=d.match(v)||[0,0,0,0,0],b=b.toLowerCase(),x.test(b)?c=parseFloat(a[3]/a[2]):"translatey"==b?c=parseFloat(a[4]/a[2]):"scale"==b?c=parseFloat(a[2]):"rotate"==b&&(c=parseFloat(Math.atan2(a[2],a[1])))),c}return parseFloat(e.css(b))}d.toggleClass=function(c,b,a,d){return b&&(b=b.split(" "),i&&(a=e({exclusive:"all",duration:400,ease:"ease-out"},a),c.css(J,a.exclusive+" "+a.duration+"ms "+a.ease),setTimeout(function(){c.css(J,"").css(E)},a.duration)),m(b,function(b,a){c.toggleClass(a,d)})),c},d.parseEffects=function(a,c){var b={};return"string"==typeof a?m(a.split(" "),function(h,d){var g=!z.test(d),a=d.replace(y,function(c,a,b){return a+":"+b.toLowerCase()}).split(":"),e=a[1],f={};1<a.length&&(f.direction=c&&g?p[e].reverse:e),b[a[0]]=f}):m(a,function(a){var d=this.direction;d&&c&&!z.test(a)&&(this.direction=p[d].reverse),b[a]=this}),b},i&&e(b,{transition:function(c,k,b){var d,h,j=0,f=c.data("keys")||[];function g(){l||(l=!0,h&&(clearTimeout(h),h=null),c.removeData("abortId").dequeue().css(J,"").css(J),b.complete.call(c))}b=e({duration:200,ease:"ease-out",complete:null,exclusive:"all"},b);var l=!1;b.duration=a.fx&&a.fx.speeds[b.duration]||b.duration,d=T(0,k),a.merge(f,function(b){var a=[];for(var c in b)a.push(c);return a}(d)),a.hasOwnProperty("uniqueSort")?c.data("keys",a.uniqueSort(f)).height():c.data("keys",a.unique(f)).height(),c.css(J,b.exclusive+" "+b.duration+"ms "+b.ease).css(J),c.css(d).css(K),i.event&&(c.one(i.event,g),0!==b.duration&&(j=500)),h=setTimeout(g,b.duration+j),c.data("abortId",h),c.data(I,g)},stopQueue:function(a,g,h){var b,c=a.data("keys"),e=!h&&c,f=a.data(I);return e&&(b=d.getComputedStyles(a[0],c)),f&&f(),e&&a.css(b),a.removeData("keys").stop(g)}});var V=d.Class.extend({init:function(a,b){this.element=a,this.effects=[],this.options=b,this.restore=[]},run:function(j){var h,f,k,n,o,p,q=j.length,g=this.element,c=this.options,m=a.Deferred(),d={},l={};for(this.effects=j,m.done(a.proxy(this,"complete")),g.data("animating",!0),f=0;f<q;f++)for((h=j[f]).setReverse(c.reverse),h.setOptions(c),this.addRestoreProperties(h.restore),h.prepare(d,l),k=0,p=(o=h.children()).length;k<p;k++)o[k].duration(c.duration).run();for(var r in c.effects)e(l,c.effects[r].properties);for(g.is(":visible")||e(d,{display:g.data("olddisplay")||"block"}),_&&!c.reset&&(n=g.data("targetTransform"))&&(d=e(n,d)),d=T(0,d),_&&!i&&(d=S(d)),g.css(d).css(K),f=0;f<q;f++)j[f].setup();return c.init&&c.init(),g.data("targetTransform",l),b.animate(g,l,e({},c,{complete:m.resolve})),m.promise()},stop:function(){a(this.element).kendoStop(!0,!0)},addRestoreProperties:function(d){for(var a,b=this.element,c=0,e=d.length;c<e;c++)a=d[c],this.restore.push(a),b.data(a)||b.data(a,b.css(a))},restoreCallback:function(){for(var b=this.element,a=0,d=this.restore.length;a<d;a++){var c=this.restore[a];b.css(c,b.data(c))}},complete:function(){var c=0,b=this.element,d=this.options,e=this.effects,f=e.length;for(b.removeData("animating").dequeue(),d.hide&&b.data("olddisplay",b.css("display")).hide(),this.restoreCallback(),u&&!_&&setTimeout(a.proxy(this,"restoreCallback"),0);c<f;c++)e[c].teardown();d.completeCallback&&d.completeCallback(b)}});b.promise=function(a,c){var f,g,e=[],h=new V(a,c),i=d.parseEffects(c.effects);for(var j in c.effects=i)(f=b[X(j)])&&(g=new f(a,i[j].direction),e.push(g));e[0]?h.run(e):(a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),c.init&&c.init(),a.dequeue(),h.complete())},e(b,{animate:function(d,f,c){var g=!1!==c.transition;delete c.transition,i&&"transition"in b&&g?b.transition(d,f,c):_?d.animate(S(f),{queue:!1,show:!1,hide:!1,duration:c.duration,complete:c.complete}):d.each(function(){var d=a(this),b={};m(B,function(n,c){var h,k=f?f[c]+" ":null;if(k){var a=f;if(c in s&& void 0!==f[c])h=k.match(w),_&&e(a,{scale:+h[0]});else if(c in t&& void 0!==f[c]){var l=d.css(H),m="absolute"==l||"fixed"==l;d.data(G)||(m?d.data(G,{top:R(d,"top")||0,left:R(d,"left")||0,bottom:R(d,"bottom"),right:R(d,"right")}):d.data(G,{top:R(d,"marginTop")||0,left:R(d,"marginLeft")||0}));var g=d.data(G);if(h=k.match(w)){var i=c==G+"y"?0:+h[1],j=c==G+"y"?+h[1]:+h[2];m?(isNaN(g.right)?isNaN(i)||e(a,{left:g.left+i}):isNaN(i)||e(a,{right:g.right-i}),isNaN(g.bottom)?isNaN(j)||e(a,{top:g.top+j}):isNaN(j)||e(a,{bottom:g.bottom-j})):(isNaN(i)||e(a,{marginLeft:g.left+i}),isNaN(j)||e(a,{marginTop:g.top+j}))}}!_&&"scale"!=c&&c in a&&delete a[c],a&&e(b,a)}}),r.msie&&delete b.scale,d.animate(b,{queue:!1,show:!1,hide:!1,duration:c.duration,complete:c.complete})})}}),b.animatedPromise=b.promise;var W=d.Class.extend({init:function(a,b){this.element=a,this._direction=b,this.options={},this._additionalEffects=[],this.restore||(this.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(a){return this._additionalEffects.push(a),this},direction:function(a){return this._direction=a,this},duration:function(a){return this._duration=a,this},compositeRun:function(){var a=new V(this.element,{reverse:this._reverse,duration:this._duration}),b=this._additionalEffects.concat([this]);return a.run(b)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var g,k,c=this.element,f=0,l=this.restore,n=l.length,h=a.Deferred(),d={},j={},m=this.children(),o=m.length;for(h.done(a.proxy(this,"_complete")),c.data("animating",!0),f=0;f<n;f++)g=l[f],c.data(g)||c.data(g,c.css(g));for(f=0;f<o;f++)m[f].duration(this._duration).run();return this.prepare(d,j),c.is(":visible")||e(d,{display:c.data("olddisplay")||"block"}),_&&(k=c.data("targetTransform"))&&(d=e(k,d)),d=T(0,d),_&&!i&&(d=S(d)),c.css(d).css(K),this.setup(),c.data("targetTransform",j),b.animate(c,j,{duration:this._duration,complete:h.resolve}),h.promise()},stop:function(){var b=0,c=this.children(),d=c.length;for(b=0;b<d;b++)c[b].stop();return a(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var b=this.element,a=0,d=this.restore.length;a<d;a++){var c=this.restore[a];b.css(c,b.data(c))}},_complete:function(){var b=this.element;b.removeData("animating").dequeue(),this.restoreCallback(),this.shouldHide()&&b.data("olddisplay",b.css("display")).hide(),u&&!_&&setTimeout(a.proxy(this,"restoreCallback"),0),this.teardown()},setOptions:function(a){e(!0,this.options,a)},children:function(){return[]},shouldHide:a.noop,setup:a.noop,prepare:a.noop,teardown:a.noop,directions:[],setReverse:function(a){return this._reverse=a,this}});function X(a){return a.charAt(0).toUpperCase()+a.substring(1)}function c(a,d){var c=W.extend(d),e=c.prototype.directions;b[X(a)]=c,b.Element.prototype[a]=function(a,b,d,e){return new c(this.element,a,b,d,e)},m(e,function(e,d){b.Element.prototype[a+X(d)]=function(a,b,e){return new c(this.element,d,a,b,e)}})}var h=["left","right","up","down"],$=["in","out"];function j(a,b,d,e){c(a,{directions:$,startValue:function(a){return this._startValue=a,this},endValue:function(a){return this._endValue=a,this},shouldHide:function(){return this._shouldHide},prepare:function(h,a){var c,f,i="out"===this._direction,g=this.element.data(b);c=isNaN(g)||g==d?void 0!==this._startValue?this._startValue:i?d:e:g,f=void 0!==this._endValue?this._endValue:i?e:d,this._reverse?(h[b]=f,a[b]=c):(h[b]=c,a[b]=f),this._shouldHide=a[b]===e}})}c("slideIn",{directions:h,divisor:function(a){return this.options.divisor=a,this},prepare:function(b,c){var e,g=this.element,h=d._outerWidth,i=d._outerHeight,a=p[this._direction],f=-a.modifier*(a.vertical?i:h)(g)/(this.options&&this.options.divisor||1)+"px";this._reverse&&(e=b,b=c,c=e),_?(b[a.transition]=f,c[a.transition]="0px"):(b[a.property]=f,c[a.property]="0px")}}),c("tile",{directions:h,init:function(a,b,c){W.prototype.init.call(this,a,b),this.options={previous:c}},previousDivisor:function(a){return this.options.previousDivisor=a,this},children:function(){var a=this._reverse,b=this.options.previous,f=this.options.previousDivisor||1,c=this._direction,e=[d.fx(this.element).slideIn(c).setReverse(a)];return b&&e.push(d.fx(b).slideIn(p[c].reverse).divisor(f).setReverse(!a)),e}}),j("fade","opacity",1,0),j("zoom","scale",1,.01),c("slideMargin",{prepare:function(h,e){var b,a=this.element,c=this.options,f=a.data(F),g=c.offset,d=this._reverse;d||null!==f||a.data(F,parseFloat(a.css("margin-"+c.axis))),b=a.data(F)||0,e["margin-"+c.axis]=d?b:b+g}}),c("slideTo",{prepare:function(e,a){var d=this.element,b=this.options.offset.split(","),c=this._reverse;_?(a.translatex=c?0:b[0],a.translatey=c?0:b[1]):(a.left=c?0:b[0],a.top=c?0:b[1]),d.css("left")}}),c("expand",{directions:["horizontal","vertical"],restore:[o],prepare:function(d,j){var c=this.element,e=this.options,f=this._reverse,a="vertical"===this._direction?E:"width",g=c[0].style[a],h=c.data(a),b=parseFloat(h||g),i=D(c.css(a,"auto")[a]());d.overflow="hidden",b=e&&e.reset?i||b:b||i,j[a]=(f?0:b)+"px",d[a]=(f?b:0)+"px",void 0===h&&c.data(a,g)},shouldHide:function(){return this._reverse},teardown:function(){var b=this.element,c="vertical"===this._direction?E:"width",a=b.data(c);"auto"!=a&&""!==a||setTimeout(function(){b.css(c,"auto").css(c)},0)}});var Y={position:"absolute",marginLeft:0,marginTop:0,scale:1};c("transfer",{init:function(a,b){this.element=a,this.options={target:b},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(a,f){var c=this.element,d=b.box(c),g=b.box(this.options.target),j=U(c,"scale"),h=b.fillScale(g,d),i=b.transformOrigin(g,d);e(a,Y),f.scale=1,c.css(K,"scale(1)").css(K),c.css(K,"scale("+j+")"),a.top=d.top,a.left=d.left,a.transformOrigin=i.x+"px "+i.y+"px",this._reverse?a.scale=h:f.scale=h}});var Z={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},aa={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function ab(b,a){var c=b[d.directions[a].vertical?E:"width"]()/2+"px";return Z[a].replace("$size",c)}c("turningPage",{directions:h,init:function(a,b,c){W.prototype.init.call(this,a,b),this._container=c},prepare:function(a,f){var c=this._reverse,e=c?p[this._direction].reverse:this._direction,b=aa[e];a.zIndex=1,this._clipInHalf&&(a.clip=ab(this._container,d.directions[e].reverse)),a[L]="hidden",f[K]=O+(c?b.start:b.end),a[K]=O+(c?b.end:b.start)},setup:function(){this._container.append(this.element)},face:function(a){return this._face=a,this},shouldHide:function(){var a=this._reverse,b=this._face;return a&&!b|| !a&&b},clipInHalf:function(a){return this._clipInHalf=a,this},temporary:function(){return this.element.addClass("temp-page"),this}}),c("staticPage",{directions:h,init:function(a,b,c){W.prototype.init.call(this,a,b),this._container=c},restore:["clip"],prepare:function(a,b){var c=this._reverse?p[this._direction].reverse:this._direction;a.clip=ab(this._container,c),a.opacity=.999,b.opacity=1},shouldHide:function(){var a=this._reverse,b=this._face;return a&&!b|| !a&&b},face:function(a){return this._face=a,this}}),c("pageturn",{directions:["horizontal","vertical"],init:function(a,b,c,d){W.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var g,c=this.options,a="horizontal"===this._direction?"left":"top",e=d.directions[a].reverse,b=this._reverse,h=c.face.clone(!0).removeAttr("id"),i=c.back.clone(!0).removeAttr("id"),f=this.element;return b&&(g=a,a=e,e=g),[d.fx(c.face).staticPage(a,f).face(!0).setReverse(b),d.fx(c.back).staticPage(e,f).setReverse(b),d.fx(h).turningPage(a,f).face(!0).clipInHalf(!0).temporary().setReverse(b),d.fx(i).turningPage(e,f).clipInHalf(!0).temporary().setReverse(b),]},prepare:function(a,b){a[M]=N,a.transformStyle="preserve-3d",a.opacity=.999,b.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),c("flip",{directions:["horizontal","vertical"],init:function(a,b,c,d){W.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var e,f=this.options,a="horizontal"===this._direction?"left":"top",b=d.directions[a].reverse,c=this._reverse,g=this.element;return c&&(e=a,a=b,b=e),[d.fx(f.face).turningPage(a,g).face(!0).setReverse(c),d.fx(f.back).turningPage(b,g).setReverse(c)]},prepare:function(a){a[M]=N,a.transformStyle="preserve-3d"}});var ac=!f.mobileOS.android;c("replace",{_before:a.noop,_after:a.noop,init:function(b,c,d){W.prototype.init.call(this,b),this._previous=a(c),this._transitionClass=d},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(a){return this._before=a,this},afterTransition:function(a){return this._after=a,this},_both:function(){return a().add(this._element).add(this._previous)},_containerClass:function(){var b=this._direction,a="k-fx k-fx-start k-fx-"+this._transitionClass;return b&&(a+=" k-fx-"+b),this._reverse&&(a+=" k-fx-reverse"),a},complete:function(b){if(!(!this.deferred||b&&a(b.target).is(".km-touch-scrollbar, .km-actionsheet-wrapper"))){var c=this.container;c.removeClass("k-fx-end").removeClass(this._containerClass()).off(i.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),ac&&c.css(o,""),this.isAbsolute||this._both().css(H,""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,c=e.element,g=e._previous,b=c.parents().filter(g.parents()).first(),h=e._both(),f=a.Deferred(),j=c.css(H);return b.length||(b=c.parent()),this.container=b,this.deferred=f,this.isAbsolute="absolute"==j,this.isAbsolute||h.css(H,"absolute"),ac&&(b.css(o),b.css(o,"hidden")),i?(c.addClass("k-fx-hidden"),b.addClass(this._containerClass()),this.completeProxy=a.proxy(this,"complete"),b.on(i.event,this.completeProxy),d.animationFrame(function(){c.removeClass("k-fx-hidden").addClass("k-fx-next"),g.css("display","").addClass("k-fx-current"),e._before(g,c),d.animationFrame(function(){b.removeClass("k-fx-start").addClass("k-fx-end"),e._after(g,c)})})):this.complete(),f.promise()},stop:function(){this.complete()}});var k=d.Class.extend({init:function(){this._tickProxy=q(this._tick,this),this._started=!1},tick:a.noop,done:a.noop,onEnd:a.noop,onCancel:a.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,d.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){this._started&&(this.tick(),this.done()?(this._started=!1,this.onEnd()):d.animationFrame(this._tickProxy))}}),l=k.extend({init:function(a){e(this,a),k.fn.init.call(this)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(b){var a=this,c=a.movable;a.initial=c[a.axis],a.delta=b.location-a.initial,a.duration="number"==typeof b.duration?b.duration:300,a.tick=a._easeProxy(b.ease),a.startDate=new Date,a.start()},_easeProxy:function(a){var b=this;return function(){b.movable.moveAxis(b.axis,a(b.timePassed(),b.initial,b.delta,b.duration))}}});e(l,{easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(1-Math.pow(2,-10*a/d))+b},easeOutBack:function(a,b,c,d,e){return c*((a=a/d-1)*a*(2.70158*a+1.70158)+1)+b}}),b.Animation=k,b.Transition=l,b.createEffect=c,b.box=function(b){var c=(b=a(b)).offset();return c.width=d._outerWidth(b),c.height=d._outerHeight(b),c},b.transformOrigin=function(b,a){var c=(b.left-a.left)*a.width/(a.width-b.width),d=(b.top-a.top)*a.height/(a.height-b.height);return{x:isNaN(c)?0:c,y:isNaN(d)?0:d}},b.fillScale=function(a,b){return Math.min(a.width/b.width,a.height/b.height)},b.fitScale=function(a,b){return Math.max(a.width/b.width,a.height/b.height)}}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.userevents",["kendo.core"],function(){return function(d){var a=window.kendo,b=a.support,e=a.Class,g=a.Observable,j=d.now,k=d.extend,f=b.mobileOS,l=f&&f.android,m=800,n=b.browser.msie?5:0,o="gesturechange",p="gestureend",_="gesturetap",q={api:0,touch:0,mouse:9,pointer:9},r=!b.touch||b.mouseAndTouchPresent;function h(a,b){var c=a.x.location,d=a.y.location,e=b.x.location,f=b.y.location,g=c-e,h=d-f;return{center:{x:(c+e)/2,y:(d+f)/2},distance:Math.sqrt(g*g+h*h)}}function i(a){var h,i,d,c=[],e=a.originalEvent,f=a.currentTarget,g=0;if(a.api)c.push({id:2,event:a,target:a.target,currentTarget:a.target,location:a,type:"api"});else if(a.type.match(/touch/))for(h=(i=e?e.changedTouches:[]).length;g<h;g++)d=i[g],c.push({location:d,event:a,target:d.target,currentTarget:f,id:d.identifier,type:"touch"});else b.pointers||b.msPointers?c.push({location:e,event:a,target:a.target,currentTarget:f,id:e.pointerId,type:"pointer"}):c.push({id:1,event:a,target:a.target,currentTarget:f,location:a,type:"mouse"});return c}var s=e.extend({init:function(a,b){this.axis=a,this._updateLocationData(b),this.startLocation=this.location,this.velocity=this.delta=0,this.timeStamp=j()},move:function(c){var a=this,b=c["page"+a.axis],d=j(),e=d-a.timeStamp||1;!b&&l||(a.delta=b-a.location,a._updateLocationData(c),a.initialDelta=b-a.startLocation,a.velocity=a.delta/e,a.timeStamp=d)},_updateLocationData:function(a){var b=this.axis;this.location=a["page"+b],this.client=a["client"+b],this.screen=a["screen"+b]}}),t=e.extend({init:function(b,c,a){k(this,{x:new s("X",a.location),y:new s("Y",a.location),type:a.type,useClickAsTap:b.useClickAsTap,threshold:b.threshold||q[a.type],userEvents:b,target:c,currentTarget:a.currentTarget,initialTouch:a.target,id:a.id,pressEvent:a,_clicks:b._clicks,supportDoubleTap:b.supportDoubleTap,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(d.proxy(this,"_hold"),this.userEvents.minHold),this._trigger("press",this.pressEvent)},_tap:function(b){var a=this;a.userEvents._clicks++,1==a.userEvents._clicks&&(a._clickTimeout=setTimeout(function(){1==a.userEvents._clicks?a._trigger("tap",b):a._trigger("doubleTap",b),a.userEvents._clicks=0},300))},_hold:function(){this._trigger("hold",this.pressEvent)},move:function(a){var b="api"!==a.type&&this.userEvents._shouldNotMove;if(!this._finished&&!b){if(this.x.move(a.location),this.y.move(a.location),!this._moved){if(this._withinIgnoreThreshold())return;if(c.current&&c.current!==this.userEvents)return this.dispose();this._start(a)}this._finished||this._trigger("move",a)}},end:function(a){this.endTime=j(),this._finished||(this._finished=!0,this._trigger("release",a),this._moved?this._trigger("end",a):this.useClickAsTap||(this.supportDoubleTap?this._tap(a):this._trigger("tap",a)),clearTimeout(this._holdTimeout),this.dispose())},dispose:function(){var a=this.userEvents.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),a.splice(d.inArray(this,a),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(a){clearTimeout(this._holdTimeout),this.startTime=j(),this._moved=!0,this._trigger("start",a)},_trigger:function(b,c){var a=c.event,d={touch:this,x:this.x,y:this.y,target:this.target,event:a};this.userEvents.notify(b,d)&&a.preventDefault()},_withinIgnoreThreshold:function(){var a=this.x.initialDelta,b=this.y.initialDelta;return Math.sqrt(a*a+b*b)<=this.threshold}});function u(d){for(var c=a.eventMap.up.split(" "),b=0,e=c.length;b<e;b++)d(c[b])}var c=g.extend({init:function(f,e){var i,c=this,h=a.guid();if(e=e||{},i=c.filter=e.filter,c.threshold=e.threshold||n,c.minHold=e.minHold||m,c.touches=[],c._maxTouches=e.multiTouch?2:1,c.allowSelection=e.allowSelection,c.captureUpIfMoved=e.captureUpIfMoved,c.useClickAsTap=!e.fastTap&&!b.delayedClick(),c.eventNS=h,c._clicks=0,c.supportDoubleTap=e.supportDoubleTap,f=d(f).handler(c),g.fn.init.call(c),k(c,{element:f,surface:e.global&&r?d(f[0].ownerDocument.documentElement):d(e.surface||f),stopPropagation:e.stopPropagation,pressed:!1}),c.surface.handler(c).on(a.applyEventMap("move",h),"_move").on(a.applyEventMap("up cancel",h),"_end"),f.on(a.applyEventMap("down",h),i,"_start"),c.useClickAsTap&&f.on(a.applyEventMap("click",h),i,"_click"),b.pointers||b.msPointers){if(b.browser.version<11){var j="pinch-zoom double-tap-zoom";f.css("-ms-touch-action",e.touchAction&&"none"!=e.touchAction?j+" "+e.touchAction:j)}else f.css("touch-action",e.touchAction||"none")}if(e.preventDragEvent&&f.on(a.applyEventMap("dragstart",h),a.preventDefault),f.on(a.applyEventMap("mousedown",h),i,{root:f},"_select"),c.captureUpIfMoved&&b.eventCapture){var l=c.surface[0],q=d.proxy(c.preventIfMoving,c);u(function(a){l.addEventListener(a,q,!0)})}c.bind(["press","hold","tap","doubleTap","start","move","end","release","cancel","gesturestart",o,p,_,"select"],e)},preventIfMoving:function(a){this._isMoved()&&a.preventDefault()},destroy:function(){var a=this;if(!a._destroyed){if(a._destroyed=!0,a.captureUpIfMoved&&b.eventCapture){var c=a.surface[0];u(function(b){c.removeEventListener(b,a.preventIfMoving)})}a.element.kendoDestroy(a.eventNS),a.surface.kendoDestroy(a.eventNS),a.element.removeData("handler"),a.surface.removeData("handler"),a._disposeAll(),a.unbind(),delete a.surface,delete a.element,delete a.currentTarget}},capture:function(){c.current=this},cancel:function(){this._disposeAll(),this.trigger("cancel")},notify:function(a,c){var b=this.touches;if(this._isMultiTouch()){switch(a){case"move":a=o;break;case"end":a=p;break;case"tap":a=_}k(c,{touches:b},h(b[0],b[1]))}return this.trigger(a,k(c,{type:a}))},press:function(a,b,c){this._apiCall("_start",a,b,c)},move:function(a,b){this._apiCall("_move",a,b)},end:function(a,b){this._apiCall("_end",a,b)},_isMultiTouch:function(){return 1<this.touches.length},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var a=this.touches;0<a.length;)a.pop().dispose()},_isMoved:function(){return d.grep(this.touches,function(a){return a.isMoved()}).length},_select:function(a){this.allowSelection&&!this.trigger("select",{event:a})||a.preventDefault()},_start:function(e){var g,b,a=this,f=0,k=a.filter,h=i(e),l=h.length,j=e.which;if(!(j&&1<j||a._maxTouchesReached()))for(c.current=null,a.currentTarget=e.currentTarget,a.stopPropagation&&e.stopPropagation();f<l&&!a._maxTouchesReached();f++)b=h[f],(g=k?d(b.currentTarget):a.element).length&&(b=new t(a,g,b),a.touches.push(b),b.press(),a._isMultiTouch()&&a.notify("gesturestart",{}))},_move:function(a){this._eachTouch("move",a)},_end:function(a){this._eachTouch("end",a)},_click:function(a){var b={touch:{initialTouch:a.target,target:d(a.currentTarget),endTime:j(),x:{location:a.pageX,client:a.clientX},y:{location:a.pageY,client:a.clientY}},x:a.pageX,y:a.pageY,target:d(a.currentTarget),event:a,type:"tap"};this.trigger("tap",b)&&a.preventDefault()},_eachTouch:function(h,j){var a,b,c,d,e={},f=i(j),g=this.touches;for(a=0;a<g.length;a++)e[(b=g[a]).id]=b;for(a=0;a<f.length;a++)(d=e[(c=f[a]).id])&&d[h](c)},_apiCall:function(c,a,b,e){this[c]({api:!0,pageX:a,pageY:b,clientX:a,clientY:b,target:d(e||this.element)[0],stopPropagation:d.noop,preventDefault:d.noop})}});c.defaultThreshold=function(a){n=a},c.minHold=function(a){m=a},a.getTouches=i,a.touchDelta=h,a.UserEvents=c}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.menu",["kendo.popup","kendo.data"],function(){return function(b,n){var a=window.kendo,c=a.ui,r=a._activeElement,s=a.support.touch&&a.support.mobileOS,t=b.isArray,u=a.data.HierarchicalDataSource,v="mousedown",w=b.extend,x=b.proxy,y=b.each,z=a.template,A=a.keys,B=c.Widget,C=/^(ul|a|div)$/i,_=".kendoMenu",f="open",D="k-menu",E="k-link k-menu-link",F=".k-menu-expand-arrow",G="k-last",g="close",H="timer",I="k-first",J="k-image",h="select",K="zIndex",i="activate",j="deactivate",L="touchstart"+_+" MSPointerDown"+_+" pointerdown"+_,d=a.support.pointers,e=a.support.msPointers,M=e||d,N="change",O=a.support.touch?"touchstart":"",P=d?"pointerover":e?"MSPointerOver":"mouseenter",Q=d?"pointerout":e?"MSPointerOut":"mouseleave",R="DOMMouseScroll"+_+" mousewheel"+_,S=a.support.resize+_,T="group",U="groupparent",V=b(document.documentElement),W="kendoPopup",X="k-state-default",Y="k-state-hover",Z="k-state-focused",aa="k-state-disabled",$=".k-menu",o=".k-menu-group",p=".k-animation-container",ab=o+","+p,ac=":not(.k-list) > .k-item",k=".k-item",ad=".k-item:not(.k-state-disabled)",l=":not(.k-item.k-separator)",ae=k+l+":eq(0)",af=k+l+":last",ag=".k-menu-scroll-button",ah={2:1,touch:1},ai={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField",imageAttr:"dataImageAttrField",content:"dataContentField"},aj={wrapperCssClass:function(c,a){var b="k-item k-menu-item",d=a.index;return!1===a.enabled?b+=" k-state-disabled":b+=" k-state-default",c.firstLevel&&0===d&&(b+=" k-first"),d==c.length-1&&(b+=" k-last"),a.cssClass&&(b+=" "+a.cssClass),a.attr&&a.attr.hasOwnProperty("class")&&(b+=" "+a.attr.class),a.selected&&(b+=" k-state-selected"),b},itemCssAttributes:function(d){var c="",b=d.attr||{};for(var a in b)b.hasOwnProperty(a)&&"class"!==a&&(c+=a+'="'+b[a]+'" ');return c},imageCssAttributes:function(b){var d="",a=b&&b.toJSON?b.toJSON():{};for(var c in a.class?a.class+=" "+J:a.class=J,a)a.hasOwnProperty(c)&&(d+=c+'="'+a[c]+'" ');return d},contentCssAttributes:function(e){var c="",a=e.contentAttr||{},d="k-content k-group k-menu-group";for(var b in a.class?a.class+=" "+d:a.class=d,a)a.hasOwnProperty(b)&&(c+=b+'="'+a[b]+'" ');return c},textClass:function(){return E},arrowClass:function(c,b){var a="k-menu-expand-arrow k-icon";return b.horizontal?a+=" k-i-arrow-60-down":a+=" k-i-arrow-60-right",a},groupAttributes:function(a){return!0!==a.expanded?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(a){return a.content?a.content:"&nbsp;"}};function ak(a,c){try{return b.contains(a,c)}catch(d){return!1}}function al(a){(a=b(a)).addClass("k-item k-menu-item").children("img").addClass(J),a.children("a").addClass(E).children("img").addClass(J),a.filter(":not([disabled])").addClass(X),a.filter(".k-separator").removeClass("k-menu-item").addClass("k-menu-separator").empty().append("&nbsp;"),a.filter("li[disabled]").addClass(aa).removeAttr("disabled").attr("aria-disabled",!0),a.filter("[role]").length||a.attr("role","menuitem"),a.children(".k-link").length||a.contents().filter(function(){return!(this.nodeName.match(C)||3==this.nodeType&&!b.trim(this.nodeValue))}).wrapAll("<span class='"+E+"'/>"),am(a),an(a)}function am(c){(c=b(c)).find("> .k-link > [class*=k-i-arrow-60]:not(.k-sprite)").remove(),c.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var g,h,c,d,e=b(this),f=(c=e.parent().parent(),d=a.support.isRtl(c),c.hasClass(D+"-horizontal")?"k-i-arrow-60-down":d?"k-i-arrow-60-left":"k-i-arrow-60-right");e.append("<span class='k-menu-expand-arrow k-icon "+f+"' />")})}function an(a){(a=b(a)).filter(".k-first:not(:first-child)").removeClass(I),a.filter(".k-last:not(:last-child)").removeClass(G),a.filter(":first-child").addClass(I),a.filter(":last-child").addClass(G)}function ao(a){if(a&&a.length)for(var c in a){var b=a.eq(c);b.find("ul").length?b.attr("aria-haspopup",!0):b.removeAttr("aria-haspopup")}}function ap(a){if(!a.hasClass(D))return a.parentsUntil("."+D,"li")}function aq(d,e){var i,c,f,g,h=(c=e.select,f=a.isFunction,c&&f(c)?c:null);h&&(g=h,b(d).children(".k-link").data({selectHandler:g})),e.items&&b(d).children("ul").children("li").each(function(a){aq(this,e.items[a])})}function ar(a){return a?"li[data-groupparent='"+a+"']":"li[data-groupparent]"}function as(a){var b=a?"[data-group='"+a+"']":"[data-group]";return"ul"+b+",div"+b}function at(a,e){var c=a.find(ar()),d=[];return c.each(function(h,c){for(var f=(c=b(c)).data(U),g=a;f;)(g=e.find(as(f)+":visible")).length&&d.push(g),f=(c=g.find(ar())).data(U)}),d}function au(c,d){var a=c.data(T);return a?d.find(ar(a)):b([])}function av(c,d){var a=c.data(U);return a?d.children(p).children(as(a)):b([])}function aw(d,b){for(var c=0,a=d.parentNode;a&&!isNaN(a[b]);)c+=a[b],a=a.parentNode;return c}function ax(a){return M&&a.originalEvent&&a.originalEvent.pointerType in ah}function ay(a){a.contents().filter(function(){return"LI"!=this.nodeName}).remove()}var m=a.ui.DataBoundWidget.extend({init:function(c,d){var b=this;B.fn.init.call(b,c,d),c=b.wrapper=b.element,d=b.options,b._accessors(),b._templates(),b._dataSource(),b._updateClasses(),b._animations(d),b.nextItemZIndex=100,b._tabindex(),b._initOverflow(d),b._attachMenuEventsHandlers(),d.openOnClick&&(b.clicked=!1),c.attr("role","menubar"),c[0].id&&(b._ariaId=a.format("{0}_mn_active",c[0].id)),a.notify(b)},events:[f,g,i,j,h,"dataBound"],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,scrollable:!1,popupCollision:n},_initData:function(){var a=this;a.dataSource&&(a.angular("cleanup",function(){return{elements:a.element.children()}}),a.element.empty(),a.append(a.dataSource.view(),a.element),a.angular("compile",function(){return{elements:a.element.children()}}))},_attachMenuEventsHandlers:function(){var a=this,d=a.element,e=a.options,c=a._overflowWrapper();(c||d).on(L,k,x(a._focusHandler,a)).on("click"+_,".k-item.k-state-disabled",!1).on("click"+_,k,x(a._click,a)).on(L+" "+v+_,".k-content",x(a._preventClose,a)).on(P+_,ad,x(a._mouseenter,a)).on(Q+_,ad,x(a._mouseleave,a)).on(v+_,ad,x(a._mousedown,a)).on(O+_+" "+P+_+" "+Q+_+" "+v+_+" click"+_,".k-item:not(.k-state-disabled) > .k-link",x(a._toggleHover,a)),d.on("keydown"+_,x(a._keydown,a)).on("focus"+_,x(a._focus,a)).on("focus"+_,".k-content",x(a._focus,a)).on("blur"+_,x(a._removeHoverItem,a)).on("blur"+_,"[tabindex]",x(a._checkActiveElement,a)),c&&c.on(Q+_,ab,x(a._mouseleavePopup,a)).on(P+_,ab,x(a._mouseenterPopup,a)),e.openOnClick&&(a._documentClickHandler=x(a._documentClick,a),b(document).click(a._documentClickHandler))},_detachMenuEventsHandlers:function(){var a=this._overflowWrapper();a&&a.off(_),this.element.off(_),this._documentClickHandler&&b(document).unbind("click",this._documentClickHandler)},_initOverflow:function(h){var e,f,c=this,d="horizontal"==h.orientation;if(h.scrollable){c._openedPopups={},c._scrollWrapper=c.element.wrap("<div class='k-menu-scroll-wrapper "+h.orientation+"'></div>").parent(),d&&ay(c.element),e=b(c.templates.scrollButton({direction:d?"left":"up"})),f=b(c.templates.scrollButton({direction:d?"right":"down"})),e.add(f).appendTo(c._scrollWrapper),c._initScrolling(c.element,e,f,d);var i=c.element.outerWidth(),g=c.element[0].style.width;g="auto"===g?"":g,d&&b(window).on(S,a.throttle(function(){c._setOverflowWrapperWidth(i,g),c._toggleScrollButtons(c.element,e,f,d)},100)),c._setOverflowWrapperWidth(i,g),c._toggleScrollButtons(c.element,e,f,d)}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(c,d){var e=this._scrollWrapper.css("width");this._scrollWrapper.css({width:""});var a=this._scrollWrapper.outerWidth();this._scrollWrapper.css({width:e});var f=this.element.outerWidth(),g=this.element[0].offsetWidth-this.element[0].clientWidth;if(f!=a&&0<a){var b=d?Math.min(c,a):a;this.element.width(b-g),this._scrollWrapper.width(b)}},_reinitOverflow:function(a){(a.scrollable&&!this.options.scrollable|| !a.scrollable&&this.options.scrollable||a.scrollable&&this.options.scrollable&&a.scrollable.distance!=this.options.scrollable.distance||a.orientation!=this.options.orientation)&&(this._detachMenuEventsHandlers(),this._destroyOverflow(),this._initOverflow(a),this._attachMenuEventsHandlers())},_destroyOverflow:function(){var a=this._overflowWrapper();a&&(a.off(_),a.find(ag).off(_).remove(),a.children(p).each(function(f,c){var d=b(c).children(o);d.off(R);var e=au(d,a);e.length&&e.append(c)}),a.find(ar()).removeAttr("data-groupparent"),a.find(as()).removeAttr("data-group"),this.element.off(R),b(window).off(S),a.contents().unwrap(),this._scrollWrapper=this._popupsWrapper=this._openedPopups=n)},_initScrolling:function(i,d,e,k){function f(a){m||n||(o(a.data.direction),m=!0)}function g(a){var c,f=k?{scrollLeft:a.data.direction}:{scrollTop:a.data.direction};c=a.originalEvent,n=s&&/touch/i.test(c.type||"")||ax(a),i.stop().animate(f,"fast","linear",function(){n?(j._toggleScrollButtons(i,d,e,k),m=!0):b(a.currentTarget).trigger(P)}),m=!1,a.stopPropagation(),a.preventDefault()}var j=this,h=j.options.scrollable,c=b.isNumeric(h.distance)?h.distance:50,l=c/2,m=!1,n=!1,o=function(a){i.finish().animate(k?{scrollLeft:a}:{scrollTop:a},"fast","linear",function(){m&&o(a)}),j._toggleScrollButtons(i,d,e,k)};d.on(P+_,{direction:"-="+c},f).on(a.eventMap.down+_,{direction:"-="+2*c},g),e.on(P+_,{direction:"+="+c},f).on(a.eventMap.down+_,{direction:"+="+2*c},g),d.add(e).on(Q+_,function(){i.stop(),m=!1,j._toggleScrollButtons(i,d,e,k)}),i.on(R,function(b){if(!b.ctrlKey&&!b.shiftKey&&!b.altKey){var c,a,f=(c=b.originalEvent,a=0,c.wheelDelta&&(a=0<(a=-c.wheelDelta/120)?Math.ceil(a):Math.floor(a)),c.detail&&(a=Math.round(c.detail/3)),a),g=(0<f?"+=":"-=")+Math.abs(f)*l,h=k?{scrollLeft:g}:{scrollTop:g};j._closeChildPopups(i),i.finish().animate(h,"fast","linear",function(){j._toggleScrollButtons(i,d,e,k)}),b.preventDefault()}})},_toggleScrollButtons:function(a,d,e,b){var c=b?a.scrollLeft():a.scrollTop();d.toggle(0!==c),e.toggle(c<a[0][b?"scrollWidth":"scrollHeight"]-a[0][b?"offsetWidth":"offsetHeight"]-1)},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=w(!0,b,a.animation),"dataSource"in a&&this._dataSource(a),this._updateClasses(),this._reinitOverflow(a),B.fn.setOptions.call(this,a)},destroy:function(){B.fn.destroy.call(this),this._detachMenuEventsHandlers(),this._destroyOverflow(),a.destroy(this.element)},enable:function(a,b){return this._toggleDisabled(a,!1!==b),this},disable:function(a){return this._toggleDisabled(a,!1),this},attemptGetItem:function(a){a=a||this.element;var c=this.element.find(a),d=this._overflowWrapper();return c.length||a===this.element?c:d?d.find(a):b()},append:function(c,a){a=this.attemptGetItem(a);var b=this._insert(c,a,a.length?this._childPopupElement(a):null);return y(b.items,function(a){b.group.append(this),am(this),aq(this,c[a]||c)}),am(a),an(b.group.find(".k-first, .k-last").add(b.items)),ao(ap(b.group)),this},insertBefore:function(b,a){return a=this.attemptGetItem(a),y(this._insert(b,a,a.parent()).items,function(c){a.before(this),am(this),an(this),aq(this,b[c]||b)}),an(a),this},insertAfter:function(b,a){return a=this.attemptGetItem(a),y(this._insert(b,a,a.parent()).items,function(c){a.after(this),am(this),an(this),aq(this,b[c]||b)}),an(a),this},_insert:function(c,f,d){var e,h,g=this;f&&f.length||(d=g.element);var i=b.isPlainObject(c)||c instanceof a.data.ObservableObject,j={firstLevel:d.hasClass(D),horizontal:d.hasClass(D+"-horizontal"),expanded:!0,length:d.children().length};return f&&!d.length&&(d=b(g.renderGroup({group:j,options:g.options})).appendTo(f)),i||t(c)||c instanceof a.data.ObservableArray?e=b(b.map(i?[c]:c,function(a,c){return"string"==typeof a?b(a).get():b(g.renderItem({group:j,item:w(a,{index:c})})).get()})):(h=(e="string"==typeof c&&"<"!=c.charAt(0)?g.element.find(c):b(c)).find("> ul").addClass("k-menu-group").attr("role","menu"),(e=e.filter("li")).add(h.find("> li")).each(function(){al(this)})),{items:e,group:d}},remove:function(b){var c=(b=this.attemptGetItem(b)).parentsUntil(this.element,ac),a=b.parent("ul:not(.k-menu)");if(b.remove(),a&&!a.children(ac).length){var e=ap(a),d=a.parent(p);d.length?d.remove():a.remove(),ao(e)}return c.length&&(am(c=c.eq(0)),an(c)),this},_openAfterLoad:function(c,a){var b=this;a.loaded()?(b.open(c),b._loading=!1):a.one(N,function(){c.find(F).removeClass("k-i-loading"),b._loading&&(b.open(c),b._loading=!1)})},open:function(d){var c=this,h=c.options,k="horizontal"==h.orientation,_=h.direction,p=a.support.isRtl(c.wrapper),l=c._overflowWrapper();d=(l||c.element).find(d);var e=c.dataSource&&c.dataSource.getByUid(d.data(a.ns+"uid"));if(e&&e.hasChildren&&!e.loaded()&&!c._loading)return c._loading=!0,d.find(F).addClass("k-i-loading"),e.load(),void c._openAfterLoad(d,e);function m(){b(this).data(W)&&c.close(b(this).closest("li.k-item"),!0)}/^(top|bottom|default)$/.test(_)&&(_=p?k?(_+" left").replace("default","bottom"):"left":k?(_+" right").replace("default","bottom"):"right");var o=">.k-popup:visible,>.k-animation-container>.k-popup:visible";return d.siblings().find(o).each(m),l&&d.find(o).each(m),c.options.openOnClick&&(c.clicked=!0),d.each(function(){var d=b(this);clearTimeout(d.data(H)),d.data(H,setTimeout(function(){var m,y,t,z,e=d.find(".k-menu-group:first:hidden");if(!e[0]&&l&&(e=(y=c._getPopup(d))&&y.element),!e.is(":visible")&&e[0]&& !1===c._triggerEvent({item:d[0],type:f})){if(!e.find(".k-menu-group")[0]&&1<e.children(".k-item").length){function A(){e.css({maxHeight:H-(a._outerHeight(e)-e.height())-a.getShadows(e).bottom,overflow:"auto"})}var H=b(window).height();a.support.browser.msie&&a.support.browser.version<=7?setTimeout(A,0):A()}else e.css({maxHeight:"",overflow:""});d.data(K,d.css(K));var q,B,u,o,C=c.nextItemZIndex++;d.css(K,C),c.options.scrollable&&d.parent().siblings(ag).css({zIndex:++C}),m=e.data(W);var v=d.parent().hasClass(D),G=v&&k,r=(q=_,B=v,u=p,q=q.split(" ")[+!B]||q,o={origin:["bottom",u?"right":"left"],position:["top",u?"right":"left"]},/left|right/.test(q)?(o.origin=["top",q],o.position[1]=a.directions[q].reverse):(o.origin[0]=q,o.position[0]=a.directions[q].reverse),o.origin=o.origin.join(" "),o.position=o.position.join(" "),o),E=h.animation.open.effects,F=E!==n?E:"slideIn:"+(z=v,(t=(t=_).split(" ")[+!z]||t).replace("top","up").replace("bottom","down"));m?((m=e.data(W)).options.origin=r.origin,m.options.position=r.position,m.options.animation.open.effects=F):m=e.kendoPopup({activate:function(){c._triggerEvent({item:this.wrapper.parent(),type:i})},deactivate:function(a){c._closing=!1,a.sender.element.removeData("targetTransform").css({opacity:""}),c._triggerEvent({item:this.wrapper.parent(),type:j})},origin:r.origin,position:r.position,collision:h.popupCollision!==n?h.popupCollision:G?"fit":"fit flip",anchor:d,appendTo:l||d,animation:{open:w(!0,{effects:F},h.animation.open),close:h.animation.close},open:x(c._popupOpen,c),close:function(d){c._closing=!0;var b=d.sender.wrapper.parent();if(l){var e=d.sender.element.data(T);e&&(b=(l||c.element).find(ar(e))),d.sender.wrapper.children(ag).hide()}c._triggerEvent({item:b[0],type:g})?d.preventDefault():(b.css(K,b.data(K)),b.removeData(K),c.options.scrollable&&b.parent().siblings(ag).css({zIndex:""}),(s||M||a.support.mouseAndTouchPresent)&&(b.removeClass(Y),c._removeHoverItem()))}}).data(W),e.removeAttr("aria-hidden"),c._configurePopupOverflow(m,d),m._hovered=!0,m.open(),c._initPopupScrolling(m)}},c.options.hoverDelay))}),c},_configurePopupOverflow:function(a,b){if(this.options.scrollable&&(this._wrapPopupElement(a),!b.attr("data-groupparent"))){var c=new Date().getTime();b.attr("data-groupparent",c),a.element.attr("data-group",c)}},_wrapPopupElement:function(b){b.element.parent().is(p)||(b.wrapper=a.wrap(b.element,b.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"}))},_initPopupScrolling:function(a,b,c){this.options.scrollable&&a.element[0].scrollHeight>a.element[0].offsetHeight&&this._initPopupScrollButtons(a,b,c)},_initPopupScrollButtons:function(c,f,g){var d=this,h=c.wrapper.children(ag),a=d.options.animation,e=(a&&a.open&&a.open.duration||0)+30;setTimeout(function(){if(!h.length){var a=b(d.templates.scrollButton({direction:f?"left":"up"})),e=b(d.templates.scrollButton({direction:f?"right":"down"}));h=a.add(e).appendTo(c.wrapper),d._initScrolling(c.element,a,e,f),g||h.on(P+_,function(){var a=d._overflowWrapper();b(at(c.element,a)).each(function(e,b){var c=a.find(ar(b.data(T)));d.close(c)})}).on(Q+_,function(){setTimeout(function(){b.isEmptyObject(d._openedPopups)&&d._closeParentPopups(c.element)},30)})}d._toggleScrollButtons(c.element,h.first(),h.last(),f)},e)},_popupOpen:function(a){this._keyTriggered||a.sender.element.children("."+Z).removeClass(Z),this.options.scrollable&&this._setPopupHeight(a.sender)},_setPopupHeight:function(f,d){var c=f.element,g=c.add(c.parent(p));g.height(c.hasClass(D)&&this._initialHeight||"");var h=f._location(d),i=b(window).height(),l=h.height,j=d?0:Math.max(h.top,0),k=d?0:aw(this._overflowWrapper()[0],"scrollTop"),m=window.innerHeight-i,e=i-a.getShadows(c).bottom+m;if(!(l+j<e+k)){var n=Math.min(e,e-j+k);g.css({overflow:"hidden",height:n+"px"})}},close:function(a,f){var c=this,e=c._overflowWrapper(),d=e||c.element;return(a=d.find(a)).length||(a=d.find(">.k-item")),a.each(function(){var d=b(this);!f&&c._isRootItem(d)&&(c.clicked=!1),clearTimeout(d.data(H)),d.data(H,setTimeout(function(){var h,i,g,f=c._getPopup(d);if(f&&(g=d.data(U),!e||!g||!c._openedPopups[g.toString()]||c._forceClose)){if(!c._forceClose&&(h=f.element,i=!1,b.isEmptyObject(c._openedPopups)||b(at(h,e)).each(function(b,a){return!(i=!!c._openedPopups[a.data(T).toString()])}),i))return;f.close(),f.element.attr("aria-hidden",!0),e&&c._forceClose&&a.last().is(d[0])&&delete c._forceClose}},c.options.hoverDelay))}),c},_getPopup:function(b){var a=b.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(W),c=this._overflowWrapper();if(!a&&c){var d=b.data(U);d&&(a=c.find(as(d)).data(W))}return a},_toggleDisabled:function(a,c){this.element.find(a).each(function(){b(this).toggleClass(X,c).toggleClass(aa,!c).attr("aria-disabled",!c)})},_toggleHover:function(c){var d=b(a.eventTarget(c)||c.target).closest(ac),e=c.type==P|| -1!==v.indexOf(c.type);d.siblings().removeClass(Y),d.parents("li."+aa).length||d.toggleClass(Y,e||"mousedown"==c.type||"pointerover"==c.type||c.type==O),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(c){var d=this,e=b(c?c.currentTarget:this._hoverItem()),f=d._findRootParent(e)[0];this._closurePrevented||setTimeout(function(){document.hasFocus()&&(ak(f,a._activeElement())||!c||ak(f,c.currentTarget))||d.close(f)},0),this._closurePrevented=!1},_removeHoverItem:function(){var a=this._hoverItem();a&&a.hasClass(Z)&&(a.removeClass(Z),this._oldHoverItem=null)},_updateClasses:function(){var c,b=this.element;b.removeClass("k-menu-horizontal k-menu-vertical"),b.addClass("k-widget k-reset k-header k-menu-init "+D).addClass(D+"-"+this.options.orientation),b.find("li > ul").filter(function(){return!a.support.matchesSelector.call(this,".k-menu-init div ul")}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",b.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1"),c=b.find("> li,.k-menu-group > li"),b.removeClass("k-menu-init"),c.each(function(){al(this)})},_mouseenter:function(d){var a=this,c=b(d.currentTarget),f=a._itemHasChildren(c),e=c.data(U)||c.parent().data(T),g=ax(d);e&&(a._openedPopups[e.toString()]=!0),a._closing||d.delegateTarget!=c.parents($)[0]&&d.delegateTarget!=c.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0]||(a._keyTriggered=!1,a.options.openOnClick.rootMenuItems&&a._isRootItem(c.closest(ac))||a.options.openOnClick.subMenuItems&&!a._isRootItem(c.closest(ac))||(!(!1===a.options.openOnClick|| !1===a.options.openOnClick.rootMenuItems&&a._isRootItem(c.closest(ac))|| !1===a.options.openOnClick.subMenuItems&&!a._isRootItem(c.closest(ac))||a.clicked)||s||g&&a._isRootItem(c.closest(ac))|| !ak(d.currentTarget,d.relatedTarget)&&f&&a.open(c),(!0===a.options.openOnClick&&a.clicked||s)&&c.siblings().each(x(function(c,b){a.close(b,!0)},a))))},_mousedown:function(d){var a=this,c=b(d.currentTarget);(a.options.openOnClick.subMenuItems&&!a._isRootItem(c)||s)&&c.siblings().each(x(function(c,b){a.close(b,!0)},a))},_mouseleave:function(c){var d=b(c.currentTarget),e=d.data(U),g=d.children(p).length||d.children(o).length||e,f=b(window);if(e&&delete this._openedPopups[e.toString()],!d.parentsUntil(p,".k-list-container,.k-calendar-container")[0])return!1!==this.options.openOnClick&&(this.options.openOnClick.rootMenuItems||!this._isRootItem(d))&&(this.options.openOnClick.subMenuItems||this._isRootItem(d))||s||ax(c)||ak(c.currentTarget,c.relatedTarget||c.target)||!g||ak(c.currentTarget,a._activeElement())?void((a.support.browser.msie&&!c.toElement&&!c.relatedTarget&&!ax(c)||c.clientX<0||c.clientY<0||c.clientY>f.height()||c.clientX>f.width())&&this.close(d)):(this.close(d,!0),void(this._loading=!1));c.stopImmediatePropagation()},_mouseenterPopup:function(d){var a=b(d.currentTarget);if(!a.parent().is(p)){var c=(a=a.children("ul")).data(T);c&&(this._openedPopups[c.toString()]=!0)}},_mouseleavePopup:function(a){var c=b(a.currentTarget);!ax(a)&&c.is(p)&&this._closePopups(c.children("ul"))},_closePopups:function(d){var c=this,e=c._overflowWrapper(),a=d.data(T);if(a){delete c._openedPopups[a.toString()];var f=e.find(ar(a));setTimeout(function(){if(c.options.openOnClick)c._closeChildPopups(d);else if(b.isEmptyObject(c._openedPopups)){var a=c._innerPopup(d);c._closeParentPopups(a)}else c.close(f,!0)},0)}},_closeChildPopups:function(a){var c=this,d=c._overflowWrapper();b(at(a,d)).each(function(){var a=d.find(ar(this.data(T)));c.close(a,!0)})},_innerPopup:function(a){var b=at(a,this._overflowWrapper());return b[b.length-1]||a},_closeParentPopups:function(d){var c=this._overflowWrapper(),a=d.data(T),b=c.find(ar(a));for(a=b.parent().data(T),this.close(b,!0);a&&!this._openedPopups[a]&&!b.parent().is($);)b=c.find(ar(a)),this.close(b,!0),a=b.parent().data(T)},_click:function(d){for(var m,i,q,r,c=this,j=c.options,h=b(a.eventTarget(d)),k=h[0],l=h[0]?h[0].nodeName.toUpperCase():"",s="INPUT"==l||"SELECT"==l||"BUTTON"==l||"LABEL"==l,n=h.closest(".k-link"),e=h.closest(ac),t=e[0],o=n.attr("href"),u=h.attr("href"),v=b("<a href='#' />").attr("href"),_=!!o&&o!==v,x=_&&!!o.match(/^#/),y=!!u&&u!==v,p=c._overflowWrapper();k&&k.parentNode!=t;)k=k.parentNode;if(!b(k).is("div:not(.k-animation-container,.k-list-container)")){if(e.hasClass(aa))d.preventDefault();else{if(d.handled||!c._triggerSelect(h,t)||s||d.preventDefault(),d.handled=!0,i=e.children(ab),p){var w=e.data(U);w&&(i=p.find(as(w)))}if(q=i.is(":visible"),r=j.openOnClick&&q&&c._isRootItem(e),j.closeOnClick&&(!_||x)&&(!i.length||r)){e.removeClass(Y).css("height"),c._oldHoverItem=c._findRootParent(e);var z=c._parentsUntil(n,c.element,ac);return c._forceClose=!!p,c.close(z),c.clicked=!1,void(-1!="MSPointerUp".indexOf(d.type)&&d.preventDefault())}_&&d.enterKey&&n[0].click(),(c._isRootItem(e)&& !1!==j.openOnClick||j.openOnClick.subMenuItems||a.support.touch||ax(d)&&c._isRootItem(e.closest(ac)))&&(_||s||y||d.preventDefault(),c.clicked=!0,m=i.is(":visible")?g:f,(j.closeOnClick||m!=g)&&c[m](e))}}},_parentsUntil:function(a,d,e){var c=this._overflowWrapper();if(c){var f=function(e,g){function f(b){for(;b.parentNode&&!g.is(b.parentNode);)a.push(b.parentNode),b=b.parentNode}var a=[],c=e[0]||e;f(c);for(var d=a[a.length-1];b(d).is(p)&&(c=au(b(d).children("ul"),g)[0]);)a.push(c),f(c),d=a[a.length-1];return a}(a,c),g=[];return b(f).each(function(){var a=b(this);if(a.is(d))return!1;a.is(e)&&g.push(this)}),b(g)}return a.parentsUntil(d,e)},_triggerSelect:function(a,d){var b,c=(a=a.is(".k-link")?a:a.closest(".k-link")).data("selectHandler");c&&(b=this._getEventData(a),c.call(this,b));var e=b&&b.isDefaultPrevented(),f=this._triggerEvent({item:d,type:h});return e||f},_getEventData:function(a){return{sender:this,target:a,_defaultPrevented:!1,preventDefault:function(){this._defaultPrevented=!0},isDefaultPrevented:function(){return this._defaultPrevented}}},_documentClick:function(a){ak((this._overflowWrapper()||this.element)[0],a.target)||(this.clicked=!1)},_focus:function(a){var c=a.target,d=this._hoverItem(),e=r();if(c!=this.wrapper[0]&&!b(c).is(":kendoFocusable"))return a.stopPropagation(),b(c).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(Z),void this.wrapper.focus();e===a.currentTarget&&(d.length?this._moveHover([],d):this._oldHoverItem||this._moveHover([],this.wrapper.children().first()))},_keydown:function(f){var d,g,h,b=this,e=f.keyCode,c=b._oldHoverItem,i=a.support.isRtl(b.wrapper);if(f.target==f.currentTarget||e==A.ESC){if(c=c||(b._oldHoverItem=b._hoverItem()),g=b._itemBelongsToVertival(c),h=b._itemHasChildren(c),b._keyTriggered=!0,e==A.RIGHT)d=b[i?"_itemLeft":"_itemRight"](c,g,h);else if(e==A.LEFT)d=b[i?"_itemRight":"_itemLeft"](c,g,h);else if(e==A.DOWN)d=b._itemDown(c,g,h);else if(e==A.UP)d=b._itemUp(c,g,h);else if(e==A.HOME)b._moveHover(c,c.parent().children().first()),f.preventDefault();else if(e==A.END)b._moveHover(c,c.parent().children().last()),f.preventDefault();else if(e==A.ESC)d=b._itemEsc(c,g);else if(e==A.ENTER||e==A.SPACEBAR)0<(d=c.children(".k-link")).length&&(b._click({target:d[0],preventDefault:function(){},enterKey:!0}),h&&!c.hasClass(aa)?(b.open(c),b._moveHover(c,b._childPopupElement(c).children().first())):b._moveHover(c,b._findRootParent(c)));else if(e==A.TAB)return d=b._findRootParent(c),b._moveHover(c,d),void b._checkActiveElement();d&&d[0]&&(f.preventDefault(),f.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(a){var b=this.wrapper.hasClass("k-menu-vertical");return a.length&&a.parent().hasClass("k-menu-group")||b},_itemHasChildren:function(a){return!!(a&&a.length&&a[0].nodeType)&&(0<a.children(".k-menu-group, div.k-animation-container").length|| !!a.data(U)&&!!this._overflowWrapper().children(as(a.data(U))))},_moveHover:function(d,a){var c=this._ariaId;d.length&&a.length&&d.removeClass(Z),a.length&&(a[0].id&&(c=a[0].id),a.addClass(Z),this._oldHoverItem=a,c&&(this.element.removeAttr("aria-activedescendant"),b("#"+c).removeAttr("id"),a.attr("id",c),this.element.attr("aria-activedescendant",c)),this._scrollToItem(a))},_findRootParent:function(a){return this._isRootItem(a)?a:this._parentsUntil(a,$,"li.k-item").last()},_isRootItem:function(a){return a.parent().hasClass(D)},_itemRight:function(b,e,f){var a,c,d;if(e){if(f&&!b.hasClass(aa))this.open(b),a=this._childPopupElement(b).children().first();else if("horizontal"==this.options.orientation){if(c=this._findRootParent(b),d=this._overflowWrapper()){var g=av(c,d);this._closeChildPopups(g)}this.close(c),a=c.nextAll(ae)}}else(a=b.nextAll(ae)).length||(a=b.prevAll(af)),this.close(b);return a=a&&!a.length?this.wrapper.children(".k-item").first():a||[],this._moveHover(b,a),a},_itemLeft:function(b,d){var a,c;return d?(a=b.parent().closest(".k-item"),c=this._overflowWrapper(),!a.length&&c&&(a=au(b.parent(),c)),this.close(a),this._isRootItem(a)&&"horizontal"==this.options.orientation&&(a=a.prevAll(ae))):((a=b.prevAll(ae)).length||(a=b.nextAll(af)),this.close(b)),a.length||(a=this.wrapper.children(".k-item").last()),this._moveHover(b,a),a},_itemDown:function(a,c,d){var b;if(c)b=a.nextAll(ae);else{if(!d||a.hasClass(aa))return;this.open(a),b=this._childPopupElement(a).children().first()}return!b.length&&a.length?b=a.parent().children().first():a.length||(b=this.wrapper.children(".k-item").first()),this._moveHover(a,b),b},_itemUp:function(a,c){var b;if(c)return!(b=a.prevAll(ae)).length&&a.length?b=a.parent().children().last():a.length||(b=this.wrapper.children(".k-item").last()),this._moveHover(a,b),b},_scrollToItem:function(b){var i=this;if(i.options.scrollable&&b&&b.length){var d,c=b.parent(),g=!!c.hasClass(D)&&"horizontal"==i.options.orientation,j=g?"scrollLeft":"scrollTop",h=g?a._outerWidth:a._outerHeight,k=c[j](),l=h(b),e=b[0][g?"offsetLeft":"offsetTop"],m=h(c),n=c.siblings(ag),f=n.length?h(n.first()):0;if(k+m<e+l+f?d=e+l-m+f:e-f<k&&(d=e-f),!isNaN(d)){var o={};o[j]=d,c.finish().animate(o,"fast","linear",function(){i._toggleScrollButtons(c,n.first(),n.last(),g)})}}},_itemEsc:function(b,c){var a;return c?(a=b.parent().closest(".k-item"),this.close(a),this._moveHover(b,a),a):b},_childPopupElement:function(b){var a=b.find(".k-menu-group"),c=this._overflowWrapper();return!a.length&&c&&(a=av(b,c)),a},_triggerEvent:function(a){return this.trigger(a.type,{type:a.type,item:a.item})},_focusHandler:function(c){var e=this,d=b(a.eventTarget(c)).closest(ac);d.hasClass(aa)||setTimeout(function(){e._moveHover([],d),d.children(".k-content")[0]&&d.parent().closest(".k-item").removeClass(Z)},200)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_dataSource:function(b){var a=b?b.dataSource:this.options.dataSource;a&&(a=t(a)?{data:a}:a,this._unbindDataSource(),a.fields||(a.fields=[{field:"uid"},{field:"text"},{field:"url"},{field:"cssClass"},{field:"spriteCssClass"},{field:"imageUrl"},{field:"imageAttr"},{field:"attr"},{field:"contentAttr"},{field:"content"},{field:"encoded"},{field:"items"},{field:"select"},]),this.dataSource=u.create(a),this._bindDataSource(),this.dataSource.fetch())},_bindDataSource:function(){this._refreshHandler=x(this.refresh,this),this._errorHandler=x(this._error,this),this.dataSource.bind(N,this._refreshHandler),this.dataSource.bind("error",this._errorHandler)},_unbindDataSource:function(){var a=this.dataSource;a&&(a.unbind(N,this._refreshHandler),a.unbind("error",this._errorHandler))},_error:function(){},findByUid:function(b){return(this._overflowWrapper()||this.element).find("["+a.attr("uid")+"="+b+"]")},refresh:function(a){var d=a.node,c=a.action,e=d?this.findByUid(d.uid):this.element,f=a.items,g=a.index,h=b.proxy(this._updateItem,this),i=b.proxy(this._removeItem,this);"add"==c?this._appendItems(f,g,e):"remove"==c?f.forEach(i):"itemchange"==c?f.forEach(h):"itemloaded"===c?this.append(a.items,e):this._initData(),this.trigger("dataBound",{item:e,dataItem:d})},_appendItems:function(a,d,b){var c=b.find(k).eq(d);c.length?this.insertBefore(a,c):this.append(a,b)},_removeItem:function(a){var b=this.findByUid(a.uid);this.remove(b)},_updateItem:function(a){var b=this.findByUid(a.uid),c=b.next(),d=a.parentNode();this.remove(b),c.length?this.insertBefore(a,c):this.append(a,d&&this.findByUid(d.uid))},_accessors:function(){var c,b,d,e=this.options,f=this.element;for(c in ai)b=e[ai[c]],d=f.attr(a.attr(c+"-field")),!b&&d&&(b=d),t(b=b||c)||(b=[b]),e[ai[c]]=b},_fieldAccessor:function(e){var f=this.options[ai[e]]||[],d=f.length,c="(function(item) {";return 0===d?c+="return item['"+e+"'];":(c+="var levels = ["+b.map(f,function(b){return"function(d){ return "+a.expr(b)+"}"}).join(",")+"];",c+="if(item.level){return levels[Math.min(item.level(), "+d+"-1)](item);}else",c+="{return levels["+d+"-1](item)}"),c+="})"},_templates:function(){var c=this.options,b=x(this._fieldAccessor,this);c.template&&"string"==typeof c.template?c.template=z(c.template):c.template||(c.template=z("# var text = "+b("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),this.templates={content:z("#var contentHtml = "+b("content")+"(item);#<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>"),group:z("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:z("# var url = "+b("url")+"(item); ## var imageUrl = "+b("imageUrl")+"(item); ## var imgAttributes = "+b("imageAttr")+"(item);## var tag = url ? 'a' : 'span' #<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#># if (imageUrl) { #<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' /># } ##= sprite(item) ##= data.menu.options.template(data) ##= arrow(data) #</#= tag #>"),item:z("#var contentHtml = "+b("content")+"(item);#<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#"+a.attr("uid")+"='#= item.uid #' >#= itemWrapper(data) ##if (item.hasChildren || item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl || contentHtml) { ##= renderContent(data) ## } #</li>"),scrollButton:z("<span class='k-button k-button-icon k-menu-scroll-button k-scroll-#= direction #' unselectable='on'><span class='k-icon k-i-arrow-60-#= direction #'></span></span>"),arrow:z("<span class='#= arrowClass(item, group) #'></span>"),sprite:z("# var spriteCssClass = "+b("spriteCssClass")+"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#"),empty:z("")}},renderItem:function(a){a=w({menu:this,group:{}},a);var c=this.templates.empty,b=a.item;return this.templates.item(w(a,{sprite:this.templates.sprite,itemWrapper:this.templates.itemWrapper,renderContent:this.renderContent,arrow:b.items||b.content||b[this.options.dataContentField[0]]?this.templates.arrow:c,subGroup:this.renderGroup},aj))},renderGroup:function(a){return(this.templates||a.menu.templates).group(w({renderItems:function(a){for(var d="",b=0,c=a.items,e=c?c.length:0,f=w({length:e},a.group);b<e;b++)d+=a.menu.renderItem(w(a,{group:f,item:w({index:b},c[b])}));return d}},a,aj))},renderContent:function(a){return a.menu.templates.content(w(a,aj))}}),q=m.extend({init:function(c,d){m.fn.init.call(this,c,d),this._marker=a.guid().substring(0,8),this.target=b(this.options.target),this._popup(),this._wire()},_initOverflow:function(c){var a=this;c.scrollable&&!a._overflowWrapper()&&(a._openedPopups={},a._popupsWrapper=(a.element.parent().is(p)?a.element.parent():a.element).wrap("<div class='k-popups-wrapper "+c.orientation+"'></div>").parent(),"horizontal"==a.options.orientation&&ay(a.element),c.appendTo&&(c.appendTo=b(c.appendTo),c.appendTo.append(a._popupsWrapper)),a._initialHeight=a.element[0].style.height,a._initialWidth=a.element[0].style.width)},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,copyAnchorStyles:!0,target:"body"},events:[f,g,i,j,h],setOptions:function(c){var a=this;m.fn.setOptions.call(a,c),a.target.off(a.showOn+_+a._marker,a._showProxy),a.userEvents&&a.userEvents.destroy(),a.target=b(a.options.target),c.orientation&&a.popup.wrapper[0]&&a.popup.element.unwrap(),a._wire(),m.fn.setOptions.call(this,c)},destroy:function(){this.target.off(this.options.showOn+_+this._marker),V.off(a.support.mousedown+_+this._marker,this._closeProxy),this.userEvents&&this.userEvents.destroy(),m.fn.destroy.call(this)},open:function(d,e){var c=this;if(d=b(d)[0],ak(c.element[0],b(d)[0])||c._itemHasChildren(b(d)))m.fn.open.call(c,d);else if(!1===c._triggerEvent({item:c.element,type:f})){if(c.popup.visible()&&c.options.filter&&(c.popup.close(!0),c.popup.element.kendoStop(!0)),e!==n){var g=c._overflowWrapper();if(g){var h=g.offset();d-=h.left,e-=h.top}c.popup.wrapper.hide(),c._configurePopupScrolling(d,e),c.popup.open(d,e)}else c.popup.options.anchor=d||c.popup.anchor||c.target,c.popup.element.kendoStop(!0),c._configurePopupScrolling(),c.popup.open();V.off(c.popup.downEvent,c.popup._mousedownProxy),V.on(a.support.mousedown+_+c._marker,c._closeProxy)}return c},_configurePopupScrolling:function(b,c){var a=this.popup,d="horizontal"==this.options.orientation;this.options.scrollable&&(this._wrapPopupElement(a),a.element.parent().css({position:"",height:""}),a.element.css({visibility:"hidden",display:"",position:""}),d?this._setPopupWidth(a,isNaN(b)?n:{isFixed:!0,x:b,y:c}):this._setPopupHeight(a,isNaN(b)?n:{isFixed:!0,x:b,y:c}),a.element.css({visibility:"",display:"none",position:"absolute"}),this._initPopupScrollButtons(a,d,!0),a.element.siblings(ag).hide())},_setPopupWidth:function(d,e){var c=d.element,f=c.add(c.parent(p));f.width(this._initialWidth||"");var g=d._location(e),l=b(window).width(),m=g.width,h=Math.max(g.left,0),i=e?0:aw(this._overflowWrapper()[0],"scrollLeft"),j=a.getShadows(c),k=l-j.left-j.right;m+h<k+i||f.css({overflow:"hidden",width:k-h+i+"px"})},close:function(){ak(this.element[0],b(arguments[0])[0])||this._itemHasChildren(arguments[0])?m.fn.close.call(this,arguments[0]):this.popup.visible()&& !1===this._triggerEvent({item:this.element,type:g})&&(this.popup.close(),V.off(a.support.mousedown+_+this._marker,this._closeProxy),this.unbind(h,this._closeTimeoutProxy))},_showHandler:function(e){var g,c=e,d=this,f=d.options,h=a.support.mobileOS?b(c.target):b(c.currentTarget);e.event&&((c=e.event).pageX=e.x.location,c.pageY=e.y.location),ak(d.element[0],e.relatedTarget||e.target)||((d._eventOrigin=c).preventDefault(),c.stopImmediatePropagation(),d.element.find("."+Z).removeClass(Z),(f.filter&&h.is(f.filter)||!f.filter)&&(f.alignToAnchor?(d.popup.options.anchor=c.currentTarget,d.open(c.currentTarget)):(d.popup.options.anchor=c.currentTarget,d._targetChild?(g=d.target.offset(),d.open(c.pageX-g.left,c.pageY-g.top)):d.open(c.pageX,c.pageY))))},_closeHandler:function(d){var a=this,c=b(d.relatedTarget||d.target),f=c.closest(a.target.selector)[0]==a.target[0],i=c.closest(k),j=a._itemHasChildren(i),g=a._overflowWrapper(),e=ak(a.element[0],c[0])||g&&ak(g[0],c[0]),l=3!==(a._eventOrigin=d).which;a.popup.visible()&&(l&&f||!f)&&(a.options.closeOnClick&&!j&&e||!e)&&(e?(this.unbind(h,this._closeTimeoutProxy),a.bind(h,a._closeTimeoutProxy)):a.close())},_wire:function(){var b=this,c=b.options,d=b.target;b._preventProxy=null,b._showProxy=x(b._showHandler,b),b._closeProxy=x(b._closeHandler,b),b._closeTimeoutProxy=x(b.close,b),d[0]&&(a.support.mobileOS&&"contextmenu"==c.showOn&&(b.userEvents=new a.UserEvents(d,{filter:c.filter,allowSelection:!1}),b._preventProxy=function(){return!1},b.userEvents.bind("hold",b._showProxy)),c.filter?d.on(c.showOn+_+b._marker,c.filter,b._preventProxy||b._showProxy):d.on(c.showOn+_+b._marker,b._preventProxy||b._showProxy))},_triggerEvent:function(a){var d=b(this.popup.options.anchor)[0],c=this._eventOrigin;return this._eventOrigin=n,this.trigger(a.type,w({type:a.type,item:a.item||this.element[0],target:d},c?{event:c}:{}))},_popup:function(){var a=this,c=a._overflowWrapper();a._triggerProxy=x(a._triggerEvent,a),a.popup=a.element.addClass("k-context-menu").kendoPopup({autosize:"horizontal"===a.options.orientation,anchor:a.target||"body",copyAnchorStyles:a.options.copyAnchorStyles,collision:a.options.popupCollision||"fit",animation:a.options.animation,activate:a._triggerProxy,deactivate:a._triggerProxy,appendTo:c||a.options.appendTo,close:c?function(a){b(at(a.sender.element,c)).each(function(c,b){var a=b.data(W);a&&a.close(!0)})}:b.noop}).data(W),a._targetChild=ak(a.target[0],a.popup.element[0])}});c.plugin(m),c.plugin(q)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.draganddrop",["kendo.core","kendo.userevents"],function(){return function(d){var y,a=window.kendo,e=a.support,z=window.document,A=d(window),g=a.Class,f=a.ui.Widget,b=a.Observable,B=a.UserEvents,C=d.proxy,h=d.extend,D=a.getOffset,E={},i={},_={},F=a.elementUnderCursor,G="change",j="dragcancel",k="hintDestroyed",l="dragenter",m="dragleave";function H(a,b){return parseInt(a.css(b),10)||0}function I(b,a){return Math.min(Math.max(b,a.min),a.max)}function n(b,c){var d=D(b),g=a._outerWidth,h=a._outerHeight,e=d.left+H(b,"borderLeftWidth")+H(b,"paddingLeft"),f=d.top+H(b,"borderTopWidth")+H(b,"paddingTop");return{x:{min:e,max:e+b.width()-g(c,!0)},y:{min:f,max:f+b.height()-h(c,!0)}}}var o,p=b.extend({init:function(e,f){var c=this,g=e[0];c.capture=!1,g.addEventListener?(d.each(a.eventMap.down.split(" "),function(){g.addEventListener(this,C(c._press,c),!0)}),d.each(a.eventMap.up.split(" "),function(){g.addEventListener(this,C(c._release,c),!0)})):(d.each(a.eventMap.down.split(" "),function(){g.attachEvent(this,C(c._press,c))}),d.each(a.eventMap.up.split(" "),function(){g.attachEvent(this,C(c._release,c))})),b.fn.init.call(c),c.bind(["press","release"],f||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(a){this.trigger("press"),this.capture&&a.preventDefault()},_release:function(a){this.trigger("release"),this.capture&&(a.preventDefault(),this.cancelCapture())}}),J=b.extend({init:function(c){var a=this;b.fn.init.call(a),a.forcedEnabled=!1,d.extend(a,c),a.scale=1,a.horizontal?(a.measure="offsetWidth",a.scrollSize="scrollWidth",a.axis="x"):(a.measure="offsetHeight",a.scrollSize="scrollHeight",a.axis="y")},makeVirtual:function(){d.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(a,b){this._virtualMin===a&&this._virtualMax===b||(this._virtualMin=a,this._virtualMax=b,this.update())},outOfBounds:function(a){return a>this.max||a<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(a){this.scale=a},update:function(e){var a=this,d=a.virtual?a._virtualMax:a.getTotal(),c=d*a.scale,b=a.getSize();0===d&&!a.forcedEnabled||(a.max=a.virtual?-a._virtualMin:0,a.size=b,a.total=c,a.min=Math.min(a.max,b-c),a.minScale=b/d,a.centerOffset=(c-b)/2,a.enabled=a.forcedEnabled||b<c,e||a.trigger(G,a))}}),q=b.extend({init:function(a){b.fn.init.call(this),this.x=new J(h({horizontal:!0},a)),this.y=new J(h({horizontal:!1},a)),this.container=a.container,this.forcedMinScale=a.minScale,this.maxScale=a.maxScale||100,this.bind(G,a)},rescale:function(a){this.x.rescale(a),this.y.rescale(a),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var a=this;a.x.update(),a.y.update(),a.enabled=a.x.enabled||a.y.enabled,a.minScale=a.forcedMinScale||Math.min(a.x.minScale,a.y.minScale),a.fitScale=Math.max(a.x.minScale,a.y.minScale),a.trigger(G)}}),K=b.extend({init:function(a){h(this,a),b.fn.init.call(this)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(a){var b=this.dimension,c=this.axis,d=this.movable,e=d[c]+a;b.enabled&&((e<b.min&&a<0||e>b.max&&0<a)&&(a*=this.resistance),d.translateAxis(c,a),this.trigger(G,this))}}),r=g.extend({init:function(e){var f,g,b,c,a=this;h(a,{elastic:!0},e),b=a.elastic?.5:0,c=a.movable,a.x=f=new K({axis:"x",dimension:a.dimensions.x,resistance:b,movable:c}),a.y=g=new K({axis:"y",dimension:a.dimensions.y,resistance:b,movable:c}),a.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(b){a.gesture=b,a.offset=a.dimensions.container.offset()},press:function(a){d(a.event.target).closest("a").is("[data-navigate-on-press=true]")&&a.sender.cancel()},gesturechange:function(d){var e,h=a.gesture,i=h.center,j=d.center,b=d.distance/h.distance,n=a.dimensions.minScale,k=a.dimensions.maxScale;c.scale<=n&&b<1&&(b+=.8*(1-b)),c.scale*b>=k&&(b=k/c.scale);var l=c.x+a.offset.left,m=c.y+a.offset.top;e={x:(l-i.x)*b+j.x-l,y:(m-i.y)*b+j.y-m},c.scaleWith(b),f.dragMove(e.x),g.dragMove(e.y),a.dimensions.rescale(c.scale),(a.gesture=d).preventDefault()},move:function(a){a.event.target.tagName.match(/textarea|input/i)||(f.dimension.enabled||g.dimension.enabled?(f.dragMove(a.x.delta),g.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end:function(a){a.preventDefault()}})}}),L=e.transitions.prefix+"Transform";o=e.hasHW3D?function(a,b,c){return"translate3d("+a+"px,"+b+"px,0) scale("+c+")"}:function(a,b,c){return"translate("+a+"px,"+b+"px) scale("+c+")"};var s=b.extend({init:function(c){var a=this;b.fn.init.call(a),a.element=d(c),a.element[0].style.webkitTransformOrigin="left top",a.x=0,a.y=0,a.scale=1,a._saveCoordinates(o(a.x,a.y,a.scale))},translateAxis:function(a,b){this[a]+=b,this.refresh()},scaleTo:function(a){this.scale=a,this.refresh()},scaleWith:function(a){this.scale*=a,this.refresh()},translate:function(a){this.x+=a.x,this.y+=a.y,this.refresh()},moveAxis:function(a,b){this[a]=b,this.refresh()},moveTo:function(a){h(this,a),this.refresh()},refresh:function(){var c,b=this,d=b.x,e=b.y;b.round&&(d=Math.round(d),e=Math.round(e)),(c=o(d,e,b.scale))!=b.coordinates&&(a.support.browser.msie&&a.support.browser.version<10?(b.element[0].style.position="absolute",b.element[0].style.left=b.x+"px",b.element[0].style.top=b.y+"px"):b.element[0].style[L]=c,b._saveCoordinates(c),b.trigger(G))},_saveCoordinates:function(a){this.coordinates=a}});function M(d,c){var a,e=c.options.group,b=d[e];if(f.fn.destroy.call(c),1<b.length){for(a=0;a<b.length;a++)if(b[a]==c){b.splice(a,1);break}}else b.length=0,delete d[e]}var c=f.extend({init:function(b,c){f.fn.init.call(this,b,c);var a=this.options.group;a in i?i[a].push(this):i[a]=[this]},events:[l,m,"drop"],options:{name:"DropTarget",group:"default"},destroy:function(){M(i,this)},_trigger:function(c,a){var b=E[this.options.group];if(b)return this.trigger(c,h({},a.event,{draggable:b,dropTarget:a.dropTarget}))},_over:function(a){this._trigger(l,a)},_out:function(a){this._trigger(m,a)},_drop:function(b){var a=E[this.options.group];a&&(a.dropped=!this._trigger("drop",b))}});c.destroyGroup=function(a){var b,c=i[a]||_[a];if(c){for(b=0;b<c.length;b++)f.fn.destroy.call(c[b]);c.length=0,delete i[a],delete _[a]}},c._cache=i;var t=c.extend({init:function(b,c){f.fn.init.call(this,b,c);var a=this.options.group;a in _?_[a].push(this):_[a]=[this]},destroy:function(){M(_,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),u=f.extend({init:function(c,d){var b=this;f.fn.init.call(b,c,d),b._activated=!1,b.userEvents=new B(b.element,{global:!0,allowSelection:!0,filter:b.options.filter,threshold:b.options.distance,start:C(b._start,b),hold:C(b._hold,b),move:C(b._drag,b),end:C(b._end,b),cancel:C(b._cancel,b),select:C(b._select,b)}),a.support.touch&&b.element.find(b.options.filter).css("touch-action","none"),b._afterEndHandler=C(b._afterEnd,b),b._captureEscape=C(b._captureEscape,b)},events:["hold","dragstart","drag","dragend",j,k],options:{name:"Draggable",distance:a.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(b){b.keyCode===a.keys.ESC&&(this._trigger(j,{event:b}),this.userEvents.cancel())},_updateHint:function(b){var a,g=this.options,c=this.boundaries,f=g.axis,e=this.options.cursorOffset;a=e?{left:b.x.location+e.left,top:b.y.location+e.top}:(this.hintOffset.left+=b.x.delta,this.hintOffset.top+=b.y.delta,d.extend({},this.hintOffset)),c&&(a.top=I(a.top,c.y),a.left=I(a.left,c.x)),"x"===f?delete a.top:"y"===f&&delete a.left,this.hint.css(a)},_shouldIgnoreTarget:function(b){var a=this.options.ignore;return a&&d(b).is(a)},_select:function(a){this._shouldIgnoreTarget(a.event.target)||a.preventDefault()},_start:function(f){var b=this,c=b.options,h=c.container?d(c.container):null,e=c.hint;if(this._shouldIgnoreTarget(f.touch.initialTouch)||c.holdToDrag&&!b._activated)b.userEvents.cancel();else{if(b.currentTarget=f.target,b.currentTargetOffset=D(b.currentTarget),e){b.hint&&b.hint.stop(!0,!0).remove(),b.hint=a.isFunction(e)?d(e.call(b,b.currentTarget)):e;var g=D(b.currentTarget);b.hintOffset=g,b.hint.css({position:"absolute",zIndex:2e4,left:g.left,top:g.top}).appendTo(z.body),b.angular("compile",function(){b.hint.removeAttr("ng-repeat");for(var a=d(f.target);!a.data("$$kendoScope")&&a.length;)a=a.parent();return{elements:b.hint.get(),scopeFrom:a.data("$$kendoScope")}})}(E[c.group]=b).dropped=!1,h&&(b.boundaries=n(h,b.hint)),d(z).on("keyup",b._captureEscape),b._trigger("dragstart",f)&&(b.userEvents.cancel(),b._afterEnd()),b.userEvents.capture()}},_hold:function(a){this.currentTarget=a.target,this._trigger("hold",a)?this.userEvents.cancel():this._activated=!0},_drag:function(a){a.preventDefault();var b=this._elementUnderCursor(a);if(this.options.autoScroll&&this._cursorElement!==b&&(this._scrollableParent=w(b),this._cursorElement=b),this._lastEvent=a,this._processMovement(a,b),this.options.autoScroll&&this._scrollableParent[0]){var c=x(a.x.location,a.y.location,v(this._scrollableParent));this._scrollCompenstation=d.extend({},this.hintOffset),0===(this._scrollVelocity=c).y&&0===c.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(d.proxy(this,"_autoScroll"),50))}this.hint&&this._updateHint(a)},_processMovement:function(b,a){this._withDropTarget(a,function(a,c){if(a){if(y){if(c===y.targetElement)return;y._trigger(m,h(b,{dropTarget:d(y.targetElement)}))}a._trigger(l,h(b,{dropTarget:d(c)})),y=h(a,{targetElement:c})}else y&&(y._trigger(m,h(b,{dropTarget:d(y.targetElement)})),y=null)}),this._trigger("drag",h(b,{dropTarget:y,elementUnderCursor:a}))},_autoScroll:function(){var a=this._scrollableParent[0],b=this._scrollVelocity,c=this._scrollCompenstation;if(a){var d,g,k=this._elementUnderCursor(this._lastEvent);this._processMovement(this._lastEvent,k);var h=a===N()[0];g=h?(d=z.body.scrollHeight>A.height(),z.body.scrollWidth>A.width()):(d=a.offsetHeight<=a.scrollHeight,a.offsetWidth<=a.scrollWidth);var i=a.scrollTop+b.y,e=d&&0<i&&i<a.scrollHeight,j=a.scrollLeft+b.x,f=g&&0<j&&j<a.scrollWidth;e&&(a.scrollTop+=b.y),f&&(a.scrollLeft+=b.x),this.hint&&h&&(f||e)&&(e&&(c.top+=b.y),f&&(c.left+=b.x),this.hint.css(c))}},_end:function(a){this._withDropTarget(this._elementUnderCursor(a),function(b,c){b&&(b._drop(h({},a,{dropTarget:d(c)})),y=null)}),this._cancel(this._trigger("dragend",a))},_cancel:function(b){var a=this;a._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),a._activated=!1,a.hint&&!a.dropped?setTimeout(function(){a.hint.stop(!0,!0),b?a._afterEndHandler():a.hint.animate(a.currentTargetOffset,"fast",a._afterEndHandler)},0):a._afterEnd()},_trigger:function(b,a){return this.trigger(b,h({},a.event,{x:a.x,y:a.y,currentTarget:this.currentTarget,initialTarget:a.touch?a.touch.initialTouch:null,dropTarget:a.dropTarget,elementUnderCursor:a.elementUnderCursor}))},_elementUnderCursor:function(c){var a=F(c),b=this.hint;return b&&function(a,b){try{return d.contains(a,b)||a==b}catch(c){return}}(b[0],a)&&(b.hide(),a=(a=F(c))||F(c),b.show()),a},_withDropTarget:function(h,f){var a,g=this.options.group,b=i[g],c=_[g];(b&&b.length||c&&c.length)&&((a=function(a,f,g){for(var h,c,b=0,i=f&&f.length,j=g&&g.length;a&&a.parentNode;){for(b=0;b<i;b++)if((h=f[b]).element[0]===a)return{target:h,targetElement:a};for(b=0;b<j;b++)if(c=g[b],d.contains(c.element[0],a)&&e.matchesSelector.call(a,c.options.filter))return{target:c,targetElement:a};a=a.parentNode}}(h,b,c))?f(a.target,a.targetElement):f())},destroy:function(){f.fn.destroy.call(this),this._afterEnd(),this.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),this.currentTarget=null},_afterEnd:function(){this.hint&&this.hint.remove(),delete E[this.options.group],this.trigger("destroy"),this.trigger(k),d(z).off("keyup",this._captureEscape)}});function v(b){var a,d,e,c=N()[0];return b[0]===c?{top:d=c.scrollTop,left:e=c.scrollLeft,bottom:d+A.height(),right:e+A.width()}:((a=b.offset()).bottom=a.top+b.height(),a.right=a.left+b.width(),a)}function N(){return d(a.support.browser.edge||a.support.browser.safari?z.body:z.documentElement)}function w(c){var e=N();if(!c||c===z.body||c===z.documentElement)return e;for(var b=d(c)[0];b&&!a.isScrollable(b)&&b!==z.body;)b=b.parentNode;return b===z.body?e:d(b)}function x(c,d,a){var b={x:0,y:0};return c-a.left<50?b.x=-(50-(c-a.left)):a.right-c<50&&(b.x=50-(a.right-c)),d-a.top<50?b.y=-(50-(d-a.top)):a.bottom-d<50&&(b.y=50-(a.bottom-d)),b}a.ui.plugin(c),a.ui.plugin(t),a.ui.plugin(u),a.TapCapture=p,a.containerBoundaries=n,h(a.ui,{Pane:r,PaneDimensions:q,Movable:s}),a.ui.Draggable.utils={autoScrollVelocity:x,scrollableViewPort:v,findScrollableParent:w}}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.slider",["kendo.draganddrop"],function(){return function(d){var a=window.kendo,i=a.ui.Widget,n=a.ui.Draggable,o=a._outerWidth,_=a._outerHeight,p=d.extend,q=a.format,r=a.parseFloat,s=d.proxy,t=d.isArray,u=Math,e=a.support,f=e.pointers,g=e.msPointers,j="change",k="slide",b=".slider",l="touchstart.slider mousedown"+b,v=f?"pointerdown"+b:g?"MSPointerDown"+b:l,m="touchend.slider mouseup"+b,w=f?"pointerup":g?"MSPointerUp"+b:m,x="moveSelection",y="keydown"+b,z="click"+b,A="mouseover"+b,B="focus"+b,C="blur"+b,D=".k-draghandle",E=".k-slider-track",F=".k-tick",G="k-state-selected",H="k-state-focused",I="k-state-default",J="k-state-disabled",K="disabled",L="tabindex",M=a.getTouches,h=i.extend({init:function(d,c){var b=this;if(i.fn.init.call(b,d,c),c=b.options,b._isHorizontal="horizontal"==c.orientation,b._isRtl=b._isHorizontal&&a.support.isRtl(d),b._position=b._isHorizontal?"left":"bottom",b._sizeFn=b._isHorizontal?"width":"height",b._outerSize=b._isHorizontal?o:_,c.tooltip.format=c.tooltip.enabled&&c.tooltip.format||"{0}",c.smallStep<=0)throw new Error("Kendo UI Slider smallStep must be a positive number.");b._createHtml(),b.wrapper=b.element.closest(".k-slider"),b._trackDiv=b.wrapper.find(E),b._setTrackDivWidth(),b._maxSelection=b._trackDiv[b._sizeFn](),b._sliderItemsInit(),b._reset(),b._tabindex(b.wrapper.find(D)),b[c.enabled?"enable":"disable"]();var e=a.support.isRtl(b.wrapper)?-1:1;b._keyMap={37:O(-1*e*c.smallStep),40:O(-c.smallStep),39:O(e*c.smallStep),38:O(+c.smallStep),35:P(c.max),36:P(c.min),33:O(+c.largeStep),34:O(-c.largeStep)},a.notify(b)},events:[j,k],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_distance:function(){return R(this.options.max-this.options.min)},_resize:function(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh(),this.options.enabled&&this.enable(!0)},_sliderItemsInit:function(){var e,f,a=this.options,b=this._maxSelection/((a.max-a.min)/a.smallStep),c=this._calculateItemsWidth(u.floor(1e4*(e=this._distance())/(1e4*(f=a.smallStep))));"none"!=a.tickPlacement&&2<=b&&(d(this.element).parent().find(".k-slider-items").remove(),this._trackDiv.before(function(c,d){var a,b="<ul class='k-reset k-slider-items'>",e=u.floor(R(d/c.smallStep))+1;for(a=0;a<e;a++)b+="<li class='k-tick' role='presentation'>&nbsp;</li>";return b+"</ul>"}(a,this._distance())),this._setItemsWidth(c),this._setItemsTitle()),this._calculateSteps(c),"none"!=a.tickPlacement&&2<=b&&a.largeStep>=a.smallStep&&this._setItemsLargeTick()},getSize:function(){return a.dimensions(this.wrapper)},_setTrackDivWidth:function(){var a=2*parseFloat(this._trackDiv.css(this._isRtl?"right":this._position),10);this._trackDiv[this._sizeFn](this.wrapper[this._sizeFn]()-2-a)},_setItemsWidth:function(b){var a,h=this.options,c=b.length-1,e=this.wrapper.find(F),f=0,i=e.length,g=0;for(a=0;a<i-2;a++)d(e[a+1])[this._sizeFn](b[a]);if(this._isHorizontal?(d(e[0]).addClass("k-first")[this._sizeFn](b[c-1]),d(e[c]).addClass("k-last")[this._sizeFn](b[c])):(d(e[c]).addClass("k-first")[this._sizeFn](b[c]),d(e[0]).addClass("k-last")[this._sizeFn](b[c-1])),this._distance()%h.smallStep!=0&&!this._isHorizontal){for(a=0;a<b.length;a++)g+=b[a];f=this._maxSelection-g,f+=parseFloat(this._trackDiv.css(this._position),10)+2,this.wrapper.find(".k-slider-items").css("padding-top",f)}},_setItemsTitle:function(){for(var a=this.options,c=this.wrapper.find(F),e=a.min,f=c.length,b=this._isHorizontal&&!this._isRtl?0:f-1,g=this._isHorizontal&&!this._isRtl?f:-1,h=this._isHorizontal&&!this._isRtl?1:-1;b-g!=0;b+=h)d(c[b]).attr("title",q(a.tooltip.format,R(e))),e+=a.smallStep},_setItemsLargeTick:function(){var b,g,h,c=this.options,e=this.wrapper.find(F),a=0;if(1e4*(g=c.largeStep)%(1e4*(h=c.smallStep))==0||3<=this._distance()/c.largeStep)for(this._isHorizontal||this._isRtl||(e=d.makeArray(e).reverse()),a=0;a<e.length;a++){b=d(e[a]);var i,j,k,f=R(1e4*(i=this._values[a]-this.options.min));f%(1e4*(j=c.smallStep))==0&&f%(1e4*(k=c.largeStep))==0&&(b.addClass("k-tick-large").html("<span class='k-label'>"+b.attr("title")+"</span>"),0!==a&&a!==e.length-1&&b.css("line-height",b[this._sizeFn]()+"px"))}},_calculateItemsWidth:function(a){var h,i,j,d,b,c,k,l,g=this.options,e=parseFloat(this._trackDiv.css(this._sizeFn))+1,f=this._distance(),m=1e4*(h=f)/(1e4*(i=g.smallStep)),n=e/(1e4*(j=f));for(0<m-a&&(e-=1e4*(k=f)%(1e4*(l=g.smallStep))*n),d=e/a,b=[],c=0;c<a-1;c++)b[c]=d;return b[a-1]=b[a]=d/2,this._roundWidths(b)},_roundWidths:function(b){var a,c=0,d=b.length;for(a=0;a<d;a++)c+=b[a]-u.floor(b[a]),b[a]=u.floor(b[a]);return c=u.round(c),this._addAdditionalSize(c,b)},_addAdditionalSize:function(a,b){if(0===a)return b;var c,d=parseFloat(b.length-1)/parseFloat(1==a?a:a-1);for(c=0;c<a;c++)b[parseInt(u.round(d*c),10)]+=1;return b},_calculateSteps:function(c){var j,k,l,m,f,n,o,a=this,d=a.options,g=d.min,h=0,i=a._distance(),b=u.ceil(1e4*(l=i)/(1e4*(m=d.smallStep))),e=1;if(b+=1e4*(n=i)/(1e4*(o=d.smallStep))%1==0?1:0,c.splice(0,0,2*c[b-2]),c.splice(b-1,1,2*c.pop()),a._pixelSteps=[h],a._values=[g],0!==b){for(;e<b;)h+=(c[e-1]+c[e])/2,a._pixelSteps[e]=h,g+=d.smallStep,a._values[e]=R(g),e++;f=1e4*(j=i)%(1e4*(k=d.smallStep))==0?b-1:b,a._pixelSteps[f]=a._maxSelection,a._values[f]=d.max,a._isRtl&&(a._pixelSteps.reverse(),a._values.reverse())}},_getValueFromPosition:function(c,d){var b,e=this.options,f=u.max(e.smallStep*(this._maxSelection/this._distance()),0),a=0,g=f/2;if(this._isHorizontal?(a=c-d.startPoint,this._isRtl&&(a=this._maxSelection-a)):a=d.startPoint-c,this._maxSelection-(parseInt(this._maxSelection%f,10)-3)/2<a)return e.max;for(b=0;b<this._pixelSteps.length;b++)if(u.abs(this._pixelSteps[b]-a)-1<=g)return R(this._values[b])},_getFormattedValue:function(c,b){var d,e,f,g=this.options.tooltip;return t(c)?(e=c[0],f=c[1]):b&&b.type&&(e=b.selectionStart,f=b.selectionEnd),b&&(d=b.tooltipTemplate),!d&&g.template&&(d=a.template(g.template)),t(c)||b&&b.type?d?d({selectionStart:e,selectionEnd:f}):(e=q(g.format,e))+" - "+(f=q(g.format,f)):(b&&(b.val=c),d?d({value:c}):q(g.format,c))},_getDraggableArea:function(){var b=a.getOffset(this._trackDiv);return{startPoint:this._isHorizontal?b.left:b.top+this._maxSelection,endPoint:this._isHorizontal?b.left+this._maxSelection:b.top}},_createHtml:function(){var a,h,d,e,j,f,k,g,c=this.element,b=this.options,i=c.find("input");2==i.length?(i.eq(0).prop("value",Q(b.selectionStart)),i.eq(1).prop("value",Q(b.selectionEnd))):c.prop("value",Q(b.value)),c.wrap((d=b,e=c,j=this._isHorizontal,f=d.style?d.style:e.attr("style"),k=e.attr("class")?" "+e.attr("class"):"",g="","bottomRight"==d.tickPlacement?g=" k-slider-bottomright":"topLeft"==d.tickPlacement&&(g=" k-slider-topleft"),"<div class='k-widget k-slider"+(j?" k-slider-horizontal":" k-slider-vertical")+k+"'"+(f=f?" style='"+f+"'":"")+"><div class='k-slider-wrap"+(d.showButtons?" k-slider-buttons":"")+g+"'></div></div>")).hide(),b.showButtons&&c.before(N(b,"increase",this._isHorizontal,this._isRtl)).before(N(b,"decrease",this._isHorizontal,this._isRtl)),c.before((a=b,"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+(2==(h=c.is("input")?1:2)?a.leftDragHandleTitle:a.dragHandleTitle)+"' role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(1<h?a.selectionStart||a.min:a.value||a.min)+"'></a>"+(1<h?"<a href='#' class='k-draghandle' title='"+a.rightDragHandleTitle+"'role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(a.selectionEnd||a.max)+"'></a>":"")+"</div>"))},_focus:function(f){var a=this,e=f.target,c=a.value(),b=a._drag;b||(e==a.wrapper.find(D).eq(0)[0]?(b=a._firstHandleDrag,a._activeHandle=0):(b=a._lastHandleDrag,a._activeHandle=1),c=c[a._activeHandle]),d(e).addClass(H+" "+G),b&&((a._activeHandleDrag=b).selectionStart=a.options.selectionStart,b.selectionEnd=a.options.selectionEnd,b._updateTooltip(c))},_focusWithMouse:function(a){a=d(a);var b=this,c=a.is(D)?a.index():0;window.setTimeout(function(){b.wrapper.find(D)[2==c?1:0].focus()},1),b._setTooltipTimeout()},_blur:function(b){var a=this._activeHandleDrag;d(b.target).removeClass(H+" "+G),a&&(a._removeTooltip(),delete this._activeHandleDrag,delete this._activeHandle)},_setTooltipTimeout:function(){var a=this;a._tooltipTimeout=window.setTimeout(function(){var b=a._drag||a._activeHandleDrag;b&&b._removeTooltip()},300)},_clearTooltipTimeout:function(){window.clearTimeout(this._tooltipTimeout);var a=this._drag||this._activeHandleDrag;a&&a.tooltipDiv&&a.tooltipDiv.stop(!0,!1).css("opacity",1)},_reset:function(){var a=this.element,b=a.attr("form"),c=b?d("#"+b):a.closest("form");c[0]&&(this._form=c.on("reset",s(this._formResetHandler,this)))},min:function(a){if(!a)return this.options.min;this.setOptions({min:a})},max:function(a){if(!a)return this.options.max;this.setOptions({max:a})},setOptions:function(a){i.fn.setOptions.call(this,a),this._sliderItemsInit(),this._refresh()},destroy:function(){this._form&&this._form.off("reset",this._formResetHandler),i.fn.destroy.call(this)}});function N(b,a,e,c){var d="";return d=e?!c&&"increase"==a||c&&"increase"!=a?"k-i-arrow-60-right":"k-i-arrow-60-left":"increase"==a?"k-i-arrow-60-up":"k-i-arrow-60-down","<a class='k-button k-button-"+a+"' title='"+b[a+"ButtonTitle"]+"' aria-label='"+b[a+"ButtonTitle"]+"'><span class='k-icon "+d+"'></span></a>"}function O(a){return function(b){return b+a}}function P(a){return function(){return a}}function Q(b){return(b+"").replace(".",a.cultures.current.numberFormat["."])}function R(c){var e,d,b,a;return b=(c=parseFloat(c,10)).toString(),a=0,(b=b.split("."))[1]&&(a=b[1].length),e=a=10<a?10:a,d=u.pow(10,e||0),u.round(c*d)/d}function S(b,c){var a=r(b.getAttribute(c));return null===a&&(a=void 0),a}function T(a){return void 0!==a}var c=h.extend({init:function(b,a){var e;b.type="text",a=p({},{value:S(b,"value"),min:S(b,"min"),max:S(b,"max"),smallStep:S(b,"step")},a),b=d(b),a&& void 0===a.enabled&&(a.enabled=!b.is("[disabled]")),h.fn.init.call(this,b,a),T((a=this.options).value)&&null!==a.value||(a.value=a.min,b.prop("value",Q(a.min))),a.value=u.max(u.min(a.value,a.max),a.min),e=this.wrapper.find(D),this._selection=new c.Selection(e,this,a),this._drag=new c.Drag(e,"",this,a)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(h){var f,i,c=this,g=c.options;if(c.disable(),!1!==h){if(c.wrapper.removeClass(J).addClass(I),c.wrapper.find("input").removeAttr(K),f=function(a){var b=M(a)[0];if(b){var f=c._isHorizontal?b.location.pageX:b.location.pageY,g=c._getDraggableArea(),e=d(a.target);e.hasClass("k-draghandle")?e.addClass(H+" "+G):(c._update(c._getValueFromPosition(f,g)),c._focusWithMouse(a.target),c._drag.dragstart(a),a.preventDefault())}},c.wrapper.find(F+", "+E).on(v,f).end().on(v,function(){d(document.documentElement).one("selectstart",a.preventDefault)}).on(w,function(){c._drag._end()}),c.wrapper.find(D).attr(L,0).on(m,function(){c._setTooltipTimeout()}).on(z,function(a){c._focusWithMouse(a.target),a.preventDefault()}).on(B,s(c._focus,c)).on(C,s(c._blur,c)),i=s(function(b){var a=c._nextValueByIndex(c._valueIndex+ +b);c._setValueInRange(a),c._drag._updateTooltip(a)},c),g.showButtons){var j=s(function(a,b){this._clearTooltipTimeout(),(1===a.which||e.touch&&0===a.which)&&(i(b),this.timeout=setTimeout(s(function(){this.timer=setInterval(function(){i(b)},60)},this),200))},c);c.wrapper.find(".k-button").on(m,s(function(a){this._clearTimer(),c._focusWithMouse(a.target)},c)).on(A,function(a){d(a.currentTarget).addClass("k-state-hover")}).on("mouseout"+b,s(function(a){d(a.currentTarget).removeClass("k-state-hover"),this._clearTimer()},c)).eq(0).on(l,s(function(a){j(a,1)},c)).click(!1).end().eq(1).on(l,s(function(a){j(a,-1)},c)).click(a.preventDefault)}c.wrapper.find(D).off(y,!1).on(y,s(this._keydown,c)),g.enabled=!0}},disable:function(){this.wrapper.removeClass(I).addClass(J),d(this.element).prop(K,K),this.wrapper.find(".k-button").off(l).on(l,function(a){a.preventDefault(),d(this).addClass("k-state-active")}).off(m).on(m,function(a){a.preventDefault(),d(this).removeClass("k-state-active")}).off("mouseleave"+b).on("mouseleave"+b,a.preventDefault).off(A).on(A,a.preventDefault),this.wrapper.find(F+", "+E).off(v).off(w),this.wrapper.find(D).attr(L,-1).off(m).off(y).off(z).off(B).off(C),this.options.enabled=!1},_update:function(a){var b=this.value()!=a;this.value(a),b&&this.trigger(j,{value:this.options.value})},value:function(a){var b=this.options;if(a=R(a),isNaN(a))return b.value;a>=b.min&&a<=b.max&&b.value!=a&&(this.element.prop("value",Q(a)),b.value=a,this._refreshAriaAttr(a),this._refresh())},_refresh:function(){this.trigger(x,{value:this.options.value})},_refreshAriaAttr:function(b){var c,a=this._drag;c=a&&a._tooltipDiv?a._tooltipDiv.text():this._getFormattedValue(b,null),this.wrapper.find(D).attr("aria-valuenow",b).attr("aria-valuetext",c)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(a){a.keyCode in this._keyMap&&(this._clearTooltipTimeout(),this._setValueInRange(this._keyMap[a.keyCode](this.options.value)),this._drag._updateTooltip(this.value()),a.preventDefault())},_setValueInRange:function(a){var b=this.options;a=R(a),isNaN(a)?this._update(b.min):(a=u.max(u.min(a,b.max),b.min),this._update(a))},_nextValueByIndex:function(a){var b=this._values.length;return this._isRtl&&(a=b-1-a),this._values[u.max(0,u.min(a,b-1))]},_formResetHandler:function(){var a=this,b=a.options.min;setTimeout(function(){var c=a.element[0].value;a.value(""===c||isNaN(c)?b:c)})},destroy:function(){h.fn.destroy.call(this),this.wrapper.off(b).find(".k-button").off(b).end().find(D).off(b).end().find(F+", "+E).off(b).end(),this._drag.draggable.destroy(),this._drag._removeTooltip(!0)}});c.Selection=function(d,a,b){function c(e){var f=e-b.min,g=a._valueIndex=u.ceil(R(f/b.smallStep)),c=parseInt(a._pixelSteps[g],10),h=a._trackDiv.find(".k-slider-selection"),i=parseInt(a._outerSize(d)/2,10),j=a._isRtl?2:0;h[a._sizeFn](a._isRtl?a._maxSelection-c:c),d.css(a._position,c-i-j)}c(b.value),a.bind([k,x],function(a){c(parseFloat(a.value,10))}),a.bind(j,function(a){c(parseFloat(a.sender.value(),10))})},c.Drag=function(b,c,d,e){var a=this;a.owner=d,a.options=e,a.element=b,a.type=c,a.draggable=new n(b,{distance:0,dragstart:s(a._dragstart,a),drag:s(a.drag,a),dragend:s(a.dragend,a),dragcancel:s(a.dragcancel,a)}),b.click(!1),b.on("dragstart",function(a){a.preventDefault()})},c.Drag.prototype={dragstart:function(a){(this.owner._activeDragHandle=this).draggable.userEvents.cancel(),this._dragstart(a),this.dragend()},_dragstart:function(e){var a=this,b=a.owner,c=a.options;c.enabled?(this.owner._activeDragHandle=this,b.element.off(A),b.wrapper.find("."+H).removeClass(H+" "+G),a.element.addClass(H+" "+G),d(document.documentElement).css("cursor","pointer"),a.dragableArea=b._getDraggableArea(),a.step=u.max(c.smallStep*(b._maxSelection/b._distance()),0),a.type?(a.selectionStart=c.selectionStart,a.selectionEnd=c.selectionEnd,b._setZIndex(a.type)):a.oldVal=a.val=c.value,a._removeTooltip(!0),a._createTooltip()):e.preventDefault()},_createTooltip:function(){var g,b=this,c=b.owner,e=b.options.tooltip,f="",h=d(window);e.enabled&&(e.template&&(b.tooltipTemplate=a.template(e.template)),d(".k-slider-tooltip").remove(),b.tooltipDiv=d("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),f=c._getFormattedValue(b.val||c.value(),b),b.type||(g="k-callout-"+(c._isHorizontal?"s":"e"),b.tooltipInnerDiv="<div class='k-callout "+g+"'><!-- --></div>",f+=b.tooltipInnerDiv),b.tooltipDiv.html(f),b._scrollOffset={top:h.scrollTop(),left:h.scrollLeft()},b.moveTooltip())},drag:function(d){var g,a=this,e=a.owner,c=d.x.location,h=d.y.location,f=a.dragableArea.startPoint,b=a.dragableArea.endPoint;d.preventDefault(),e._isHorizontal?e._isRtl?a.val=a.constrainValue(c,f,b,c<b):a.val=a.constrainValue(c,f,b,b<=c):a.val=a.constrainValue(h,b,f,h<=b),a.oldVal!=a.val&&(a.oldVal=a.val,g=a.type?("firstHandle"==a.type?a.val<a.selectionEnd?a.selectionStart=a.val:a.selectionStart=a.selectionEnd=a.val:a.val>a.selectionStart?a.selectionEnd=a.val:a.selectionStart=a.selectionEnd=a.val,{values:[a.selectionStart,a.selectionEnd],value:[a.selectionStart,a.selectionEnd]}):{value:a.val},e.trigger(k,g)),a._updateTooltip(a.val)},_updateTooltip:function(b){var a="";this.options.tooltip.enabled&&(this.tooltipDiv||this._createTooltip(),a=this.owner._getFormattedValue(R(b),this),this.type||(a+=this.tooltipInnerDiv),this.tooltipDiv.html(a),this.moveTooltip())},dragcancel:function(){return this.owner._refresh(),d(document.documentElement).css("cursor",""),this._end()},dragend:function(){var a=this.owner;return d(document.documentElement).css("cursor",""),this.type?a._update(this.selectionStart,this.selectionEnd):(a._update(this.val),this.draggable.userEvents._disposeAll()),this.draggable.userEvents.cancel(),this._end()},_end:function(){var a=this.owner;return a._focusWithMouse(this.element),a.element.on(A),!1},_removeTooltip:function(c){var a=this,b=a.owner;a.tooltipDiv&&b.options.tooltip.enabled&&b.options.enabled&&(c?(a.tooltipDiv.remove(),a.tooltipDiv=null):a.tooltipDiv.fadeOut("slow",function(){d(this).remove(),a.tooltipDiv=null}))},moveTooltip:function(){var j,i,k,q,b=this,f=b.owner,c=0,e=0,l=b.element,g=a.getOffset(l),m=d(window),h=b.tooltipDiv.find(".k-callout"),n=o(b.tooltipDiv),p=_(b.tooltipDiv);q=b.type?(j=f.wrapper.find(D),g=a.getOffset(j.eq(0)),i=a.getOffset(j.eq(1)),e=f._isHorizontal?(c=i.top,g.left+(i.left-g.left)/2):(c=g.top+(i.top-g.top)/2,i.left),o(j.eq(0))+16):(c=g.top,e=g.left,o(l)+16),f._isHorizontal?(e-=parseInt((n-f._outerSize(l))/2,10),c-=p+8+(h.length?h.height():0)):(c-=parseInt((p-f._outerSize(l))/2,10),e-=n+8+(h.length?h.width():0)),f._isHorizontal?(c+=k=b._flip(c,p,q,_(m)+b._scrollOffset.top),e+=b._fit(e,n,o(m)+b._scrollOffset.left)):(k=b._flip(e,n,q,o(m)+b._scrollOffset.left),c+=b._fit(c,p,_(m)+b._scrollOffset.top),e+=k),0<k&&h&&(h.removeClass(),h.addClass("k-callout k-callout-"+(f._isHorizontal?"n":"w"))),b.tooltipDiv.css({top:c,left:e})},_fit:function(a,c,d){var b=0;return d<a+c&&(b=d-(a+c)),a<0&&(b=-a),b},_flip:function(c,b,d,e){var a=0;return e<c+b&&(a+=-(d+b)),c+a<0&&(a+=d+b),a},constrainValue:function(a,b,c,d){return b<a&&a<c?this.owner._getValueFromPosition(a,this.dragableArea):d?this.options.max:this.options.min}},a.ui.plugin(c);var $=h.extend({init:function(i,a){var b=d(i).find("input"),e=b.eq(0)[0],f=b.eq(1)[0];e.type="text",f.type="text",a&&a.showButtons&&(window.console&&window.console.warn("showbuttons option is not supported for the range slider, ignoring"),a.showButtons=!1),(a=p({},{selectionStart:S(e,"value"),min:S(e,"min"),max:S(e,"max"),smallStep:S(e,"step")},{selectionEnd:S(f,"value"),min:S(f,"min"),max:S(f,"max"),smallStep:S(f,"step")},a))&& void 0===a.enabled&&(a.enabled=!b.is("[disabled]")),h.fn.init.call(this,i,a),T((a=this.options).selectionStart)&&null!==a.selectionStart||(a.selectionStart=a.min,b.eq(0).prop("value",Q(a.min))),T(a.selectionEnd)&&null!==a.selectionEnd||(a.selectionEnd=a.max,b.eq(1).prop("value",Q(a.max)));var g=this.wrapper.find(D);this._selection=new $.Selection(g,this,a),this._firstHandleDrag=new c.Drag(g.eq(0),"firstHandle",this,a),this._lastHandleDrag=new c.Drag(g.eq(1),"lastHandle",this,a)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(e){var c,b=this,f=b.options;b.disable(),!1!==e&&(b.wrapper.removeClass(J).addClass(I),b.wrapper.find("input").removeAttr(K),c=function(c){var e=M(c)[0];if(e){var g,h,i,k=b._isHorizontal?e.location.pageX:e.location.pageY,l=b._getDraggableArea(),a=b._getValueFromPosition(k,l),j=d(c.target);if(j.hasClass("k-draghandle"))return b.wrapper.find("."+H).removeClass(H+" "+G),void j.addClass(H+" "+G);(i=a<f.selectionStart|| !(a>b.selectionEnd)&&a-f.selectionStart<=f.selectionEnd-a?(g=a,h=f.selectionEnd,b._firstHandleDrag):(g=f.selectionStart,h=a,b._lastHandleDrag)).dragstart(c),b._setValueInRange(g,h),b._focusWithMouse(i.element)}},b.wrapper.find(F+", "+E).on(v,c).end().on(v,function(){d(document.documentElement).one("selectstart",a.preventDefault)}).on(w,function(){b._activeDragHandle&&b._activeDragHandle._end()}),b.wrapper.find(D).attr(L,0).on(m,function(){b._setTooltipTimeout()}).on(z,function(a){b._focusWithMouse(a.target),a.preventDefault()}).on(B,s(b._focus,b)).on(C,s(b._blur,b)),b.wrapper.find(D).off(y,a.preventDefault).eq(0).on(y,s(function(a){this._keydown(a,"firstHandle")},b)).end().eq(1).on(y,s(function(a){this._keydown(a,"lastHandle")},b)),b.options.enabled=!0)},disable:function(){this.wrapper.removeClass(I).addClass(J),this.wrapper.find("input").prop(K,K),this.wrapper.find(F+", "+E).off(v).off(w),this.wrapper.find(D).attr(L,-1).off(m).off(y).off(z).off(B).off(C),this.options.enabled=!1},_keydown:function(e,h){var f,g,d,a=this,b=a.options.selectionStart,c=a.options.selectionEnd;e.keyCode in a._keyMap&&(a._clearTooltipTimeout(),"firstHandle"==h?(d=a._activeHandleDrag=a._firstHandleDrag,c<(b=a._keyMap[e.keyCode](b))&&(c=b)):(d=a._activeHandleDrag=a._lastHandleDrag,(c=a._keyMap[e.keyCode](c))<b&&(b=c)),a._setValueInRange(R(b),R(c)),f=Math.max(b,a.options.selectionStart),g=Math.min(c,a.options.selectionEnd),d.selectionEnd=Math.max(g,a.options.selectionStart),d.selectionStart=Math.min(f,a.options.selectionEnd),d._updateTooltip(a.value()[a._activeHandle]),e.preventDefault())},_update:function(a,b){var c=this.value(),d=c[0]!=a||c[1]!=b;this.value([a,b]),d&&this.trigger(j,{values:[a,b],value:[a,b]})},value:function(a){return a&&a.length?this._value(a[0],a[1]):this._value()},_value:function(a,b){var c=this.options,d=c.selectionStart,e=c.selectionEnd;if(isNaN(a)&&isNaN(b))return[d,e];a=R(a),b=R(b),a>=c.min&&a<=c.max&&b>=c.min&&b<=c.max&&a<=b&&(d==a&&e==b||(this.element.find("input").eq(0).prop("value",Q(a)).end().eq(1).prop("value",Q(b)),c.selectionStart=a,c.selectionEnd=b,this._refresh(),this._refreshAriaAttr(a,b)))},values:function(a,b){return t(a)?this._value(a[0],a[1]):this._value(a,b)},_refresh:function(){var a=this.options;this.trigger(x,{values:[a.selectionStart,a.selectionEnd],value:[a.selectionStart,a.selectionEnd]}),a.selectionStart==a.max&&a.selectionEnd==a.max&&this._setZIndex("firstHandle")},_refreshAriaAttr:function(b,c){var d,a=this.wrapper.find(D),e=this._activeHandleDrag;d=this._getFormattedValue([b,c],e),a.eq(0).attr("aria-valuenow",b),a.eq(1).attr("aria-valuenow",c),a.attr("aria-valuetext",d)},_setValueInRange:function(b,c){var a=this.options;b=u.max(u.min(b,a.max),a.min),c=u.max(u.min(c,a.max),a.min),b==a.max&&c==a.max&&this._setZIndex("firstHandle"),this._update(u.min(b,c),u.max(b,c))},_setZIndex:function(a){this.wrapper.find(D).each(function(b){d(this).css("z-index","firstHandle"==a?1-b:b)})},_formResetHandler:function(){var a=this,b=a.options;setTimeout(function(){var e=a.element.find("input"),c=e[0].value,d=e[1].value;a.values(""===c||isNaN(c)?b.min:c,""===d||isNaN(d)?b.max:d)})},destroy:function(){h.fn.destroy.call(this),this.wrapper.off(b).find(F+", "+E).off(b).end().find(D).off(b),this._firstHandleDrag.draggable.destroy(),this._lastHandleDrag.draggable.destroy()}});$.Selection=function(c,a,d){function b(h){var b,e,i,f,g,n=(h=h||[])[0]-d.min,o=h[1]-d.min,p=u.ceil(R(n/d.smallStep)),q=u.ceil(R(o/d.smallStep)),j=a._pixelSteps[p],k=a._pixelSteps[q],l=parseInt(a._outerSize(c.eq(0))/2,10),m=a._isRtl?2:0;c.eq(0).css(a._position,j-l-m).end().eq(1).css(a._position,k-l-m),b=j,e=k,g=a._trackDiv.find(".k-slider-selection"),i=u.abs(b-e),g[a._sizeFn](i),a._isRtl?(f=u.max(b,e),g.css("right",a._maxSelection-f-1)):(f=u.min(b,e),g.css(a._position,f-1))}b(a.value()),a.bind([j,k,x],function(a){b(a.values)})},a.ui.plugin($)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.mobile.scroller",["kendo.fx","kendo.draganddrop"],function(){var c,a,f,d,e,j,k,g,h,_,l,m,n,b,o,p,q,r,s,t,u,v,i;return c=window.kendo.jQuery,a=window.kendo,f=a.mobile,d=a.effects,e=f.ui,j=c.proxy,k=c.extend,g=e.Widget,h=a.Class,_=a.ui.Movable,l=a.ui.Pane,m=a.ui.PaneDimensions,n=d.Transition,b=d.Animation,o=Math.abs,p="km-scroller-release",q="km-scroller-refresh",r="change",s=b.extend({init:function(a){b.fn.init.call(this),k(this,a),this.userEvents.bind("gestureend",j(this.start,this)),this.tapCapture.bind("press",j(this.cancel,this))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var a=this.movable;a.scaleWith(1.1),this.dimensions.rescale(a.scale)},onEnd:function(){var a=this.movable;a.scaleTo(this.dimensions.minScale),this.dimensions.rescale(a.scale)}}),t=b.extend({init:function(c){var a=this;b.fn.init.call(a),k(a,c,{transition:new n({axis:c.axis,movable:c.movable,onEnd:function(){a._end()}})}),a.tapCapture.bind("press",function(){a.cancel()}),a.userEvents.bind("end",j(a.start,a)),a.userEvents.bind("gestureend",j(a.start,a)),a.userEvents.bind("tap",j(a.onEnd,a))},onCancel:function(){this.transition.cancel()},freeze:function(a){this.cancel(),this._moveTo(a)},onEnd:function(){this.paneAxis.outOfBounds()?this._snapBack():this._end()},done:function(){return 1>o(this.velocity)},start:function(c){var d,a=this;a.dimension.enabled&&(a.paneAxis.outOfBounds()?a.transition._started?(a.transition.cancel(),a.velocity=Math.min(c.touch[a.axis].velocity*a.velocityMultiplier,55),b.fn.start.call(a)):a._snapBack():(d=2===c.touch.id?0:c.touch[a.axis].velocity,a.velocity=Math.max(Math.min(d*a.velocityMultiplier,55),-55),a.tapCapture.captureNext(),b.fn.start.call(a)))},tick:function(){var a=this,c=a.dimension,d=a.paneAxis.outOfBounds()?.5:a.friction,e=a.velocity*=d,b=a.movable[a.axis]+e;!a.elastic&&c.outOfBounds(b)&&(b=Math.max(Math.min(b,c.max),c.min),a.velocity=0),a.movable.moveAxis(a.axis,b)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var a=this.dimension,b=this.movable[this.axis]>a.max?a.max:a.min;this._moveTo(b)},_moveTo:function(a){this.transition.moveTo({location:a,duration:500,ease:n.easeOutExpo})}}),u=b.extend({init:function(b){a.effects.Animation.fn.init.call(this),k(this,b,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return 5>o(this.offset.y)&&5>o(this.offset.x)},onEnd:function(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinates:function(a,b){this.offset={},this.origin=a,this.destination=b},setCallback:function(b){b&&a.isFunction(b)?this.callback=b:b=void 0},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),v=h.extend({init:function(a){var d="x"===a.axis,b=c('<div class="km-touch-scrollbar km-'+(d?"horizontal":"vertical")+'-scrollbar" />');k(this,a,{element:b,elementSize:0,movable:new _(b),scrollMovable:a.movable,alwaysVisible:a.alwaysVisible,size:d?"width":"height"}),this.scrollMovable.bind(r,j(this.refresh,this)),this.container.append(b),a.alwaysVisible&&this.show()},refresh:function(){var e=this.axis,f=this.dimension,c=f.size,g=this.scrollMovable,d=c/f.total,a=Math.round(-g[e]*d),b=Math.round(c*d);1<=d?this.element.css("display","none"):this.element.css("display",""),c<a+b?b=c-a:a<0&&(b+=a,a=0),this.elementSize!=b&&(this.element.css(this.size,b+"px"),this.elementSize=b),this.movable.moveAxis(e,a)},show:function(){this.element.css({opacity:.7,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),i=g.extend({init:function(d,p){var b=this;if(g.fn.init.call(b,d,p),d=b.element,b._native=b.options.useNative&&a.support.hasNativeScrolling,b._native)return d.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),void k(b,{scrollElement:d,fixedContainer:d.children().first()});d.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var h=d.children().eq(1),n=new a.TapCapture(d),e=new _(h),f=new m({element:h,container:d,forcedEnabled:b.options.zoom}),w=this.options.avoidScrolling,i=new a.UserEvents(d,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:b.options.zoom,supportDoubleTap:b.options.supportDoubleTap,start:function(a){f.refresh();var d=o(a.x.velocity),e=o(a.y.velocity),g=e<=2*d,h=d<=2*e;!c.contains(b.fixedContainer[0],a.event.target)&&!w(a)&&b.enabled&&(f.x.enabled&&g||f.y.enabled&&h)?i.capture():i.cancel()}}),q=new l({movable:e,dimensions:f,userEvents:i,elastic:b.options.elastic}),t=new s({movable:e,dimensions:f,userEvents:i,tapCapture:n}),v=new u({moveTo:function(a){b.scrollTo(a.x,a.y)}});e.bind(r,function(){b.scrollTop=-e.y,b.scrollLeft=-e.x,b.trigger("scroll",{scrollTop:b.scrollTop,scrollLeft:b.scrollLeft})}),b.options.mousewheelScrolling&&d.on("DOMMouseScroll mousewheel",j(this,"_wheelScroll")),k(b,{movable:e,dimensions:f,zoomSnapBack:t,animatedScroller:v,userEvents:i,pane:q,tapCapture:n,pulled:!1,enabled:!0,scrollElement:h,scrollTop:0,scrollLeft:0,fixedContainer:d.children().first()}),b._initAxis("x"),b._initAxis("y"),b._wheelEnd=function(){b._wheel=!1,b.userEvents.end(0,b._wheelY)},f.refresh(),b.options.pullToRefresh&&b._initPullToRefresh()},_wheelScroll:function(b){if(!b.ctrlKey){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var c=a.wheelDeltaY(b);c&&(this._wheelY+=c,this.userEvents.move(0,this._wheelY)),b.preventDefault()}},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(a,b){this.dimensions.y.virtualSize(a,b)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:["pull","scroll","resize"],_resize:function(){this._native||this.contentResized()},setOptions:function(a){g.fn.setOptions.call(this,a),a.pullToRefresh&&this._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var a=this.dimensions;a.refresh(),this._scale(a.fitScale),this.movable.moveTo(a.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(a,b){this._native?(this.scrollElement.scrollLeft(o(a)),this.scrollElement.scrollTop(o(b))):(this.dimensions.refresh(),this.movable.moveTo({x:a,y:b}))},animatedScrollTo:function(a,b,e){var c,d;this._native?this.scrollTo(a,b):(c={x:this.movable.x,y:this.movable.y},d={x:a,y:b},this.animatedScroller.setCoordinates(c,d),this.animatedScroller.setCallback(e),this.animatedScroller.start())},pullHandled:function(){this.refreshHint.removeClass(q),this.hintContainer.html(this.pullTemplate({})),this.yinertia.onEnd(),this.xinertia.onEnd(),this.userEvents.cancel()},destroy:function(){g.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(a){this.dimensions.rescale(a),this.movable.scaleTo(a)},_initPullToRefresh:function(){var b=this;b.dimensions.y.forceEnabled(),b.pullTemplate=a.template(b.options.messages.pullTemplate),b.releaseTemplate=a.template(b.options.messages.releaseTemplate),b.refreshTemplate=a.template(b.options.messages.refreshTemplate),b.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+b.pullTemplate({})+"</span></span>"),b.refreshHint=b.scrollElement.children().first(),b.hintContainer=b.refreshHint.children(".km-template"),b.pane.y.bind("change",j(b._paneChange,b)),b.userEvents.bind("end",j(b._dragEnd,b))},_dragEnd:function(){this.pulled&&(this.pulled=!1,this.refreshHint.removeClass(p).addClass(q),this.hintContainer.html(this.refreshTemplate({})),this.yinertia.freeze(this.options.pullOffset/2),this.trigger("pull"))},_paneChange:function(){var a=this;a.movable.y/.5>a.options.pullOffset?a.pulled||(a.pulled=!0,a.refreshHint.removeClass(q).addClass(p),a.hintContainer.html(a.releaseTemplate({}))):a.pulled&&(a.pulled=!1,a.refreshHint.removeClass(p),a.hintContainer.html(a.pullTemplate({})))},_initAxis:function(b){var a=this,d=a.movable,c=a.dimensions[b],f=a.tapCapture,e=a.pane[b],g=new v({axis:b,movable:d,dimension:c,container:a.element,alwaysVisible:a.options.visibleScrollHints});c.bind(r,function(){g.refresh()}),e.bind(r,function(){g.show()}),a[b+"inertia"]=new t({axis:b,paneAxis:e,movable:d,tapCapture:f,userEvents:a.userEvents,dimension:c,elastic:a.options.elastic,friction:a.options.friction||.96,velocityMultiplier:a.options.velocityMultiplier||10,end:function(){g.hide(),a.trigger("scrollEnd",{axis:b,scrollTop:a.scrollTop,scrollLeft:a.scrollLeft})}})}}),e.plugin(i),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.autocomplete",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){return function(b,h){var a=window.kendo,d=a.support,i=a.caret,j=a._activeElement,k=d.placeholder,c=a.ui,e=c.List,l=a.keys,m=a.data.DataSource,n="aria-disabled",o="aria-readonly",f="change",p="k-state-default",q="k-state-focused",_="k-state-disabled",r=".kendoAutoComplete",s=b.proxy;function t(b,c,a){return a?c.substring(0,b).split(a).length-1:0}var g=e.extend({init:function(d,f){var g,c=this;c.ns=r,f=b.isArray(f)?{dataSource:f}:f,e.fn.init.call(c,d,f),d=c.element,(f=c.options).placeholder=f.placeholder||d.attr("placeholder"),k&&d.attr("placeholder",f.placeholder),c._wrapper(),c._loader(),c._clearButton(),c._dataSource(),c._ignoreCase(),d[0].type="text",g=c.wrapper,c._popup(),d.addClass("k-input").on("keydown"+r,s(c._keydown,c)).on("keypress"+r,s(c._keypress,c)).on("input"+r,s(c._search,c)).on("paste"+r,s(c._search,c)).on("focus"+r,function(){c._prev=c._accessor(),c._oldText=c._prev,c._placeholder(!1),g.addClass(q)}).on("focusout"+r,function(){c._change(),c._placeholder(),c.close(),g.removeClass(q)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),c._clear.on("click"+r+" touchend"+r,s(c._clearValue,c)),c._enable(),c._old=c._accessor(),d[0].id&&d.attr("aria-owns",c.ul[0].id),c._aria(),c._placeholder(),c._initList(),b(c.element).parents("fieldset").is(":disabled")&&c.enable(!1),c.listView.bind("click",function(a){a.preventDefault()}),c._resetFocusItemHandler=b.proxy(c._resetFocusItem,c),a.notify(c),c._toggleCloseVisibility()},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,enforceMinLength:!1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},virtual:!1,value:null,clearButton:!0,autoWidth:!1,popup:null},_dataSource:function(){var a=this;a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._progressHandler=s(a._showBusy,a),a._errorHandler=s(a._hideBusy,a)),a.dataSource=m.create(a.options.dataSource).bind("progress",a._progressHandler).bind("error",a._errorHandler)},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.listView.setDataSource(this.dataSource)},events:["open","close",f,"select","filtering","dataBinding","dataBound"],setOptions:function(a){var b=this._listOptions(a);e.fn.setOptions.call(this,a),this.listView.setOptions(b),this._accessors(),this._aria(),this._clearButton()},_listOptions:function(c){var a=e.fn._listOptions.call(this,b.extend(c,{skipUpdateOnBind:!0}));return a.dataValueField=a.dataTextField,a.selectedItemChange=null,a},_editable:function(c){var d=this.element,e=this.wrapper.off(r),b=c.readonly,a=c.disable;b||a?(e.addClass(a?_:p).removeClass(a?p:_),d.attr("disabled",a).attr("readonly",b).attr(n,a).attr(o,b)):(e.addClass(p).removeClass(_).on("mouseenter.kendoAutoComplete mouseleave.kendoAutoComplete",this._toggleHover),d.removeAttr("disabled").removeAttr("readonly").attr(n,!1).attr(o,!1))},close:function(){var a=this.listView.focus();a&&a.removeClass("k-state-selected"),this.popup.close()},destroy:function(){this.element.off(r),this._clear.off(r),this.wrapper.off(r),e.fn.destroy.call(this)},refresh:function(){this.listView.refresh()},select:function(a){this._select(a)},search:function(c){var e,g,h,f,a=this,d=a.options,j=d.ignoreCase,k=a._separator(),l=a.dataSource.options.accentFoldingFiltering;c=c||a._accessor(),clearTimeout(a._typingTimeout),k&&(g=i(a.element)[0],f=k,c=(h=c).split(f)[t(g,h,f)]),e=c.length,(d.enforceMinLength||e)&&!(e>=d.minLength)||(a._open=!0,a._mute(function(){this.listView.value([])}),a._filterSource({value:j?l?c.toLocaleLowerCase(l):c.toLowerCase():c,operator:d.filter,field:d.dataTextField,ignoreCase:j}),a.one("close",b.proxy(a._unifySeparators,a))),a._toggleCloseVisibility()},suggest:function(a){var g,c=this,o=c._last,b=c._accessor(),n=c.element[0],d=i(n)[0],k=c._separator(),m=b.split(k),p=t(d,b,k),q=d,f=c.dataSource.options.accentFoldingFiltering;o!=l.BACKSPACE&&o!=l.DELETE?("string"!=typeof(a=a||"")&&(a[0]&&(a=c.dataSource.view()[e.inArray(a[0],c.ul[0])]),a=a?c._text(a):""),d<=0&&(d=(f?b.toLocaleLowerCase(f):b.toLowerCase()).indexOf(f?a.toLocaleLowerCase(f):a.toLowerCase())+1),g=-1<(g=b.substring(0,d).lastIndexOf(k))?d-(g+k.length):d,b=m[p].substring(0,g),a&&(a=a.toString(),-1<(g=(f?a.toLocaleLowerCase(f):a.toLowerCase()).indexOf(f?b.toLocaleLowerCase(f):b.toLowerCase()))&&(q=d+(a=a.substring(g+b.length)).length,b+=a),k&&""!==m[m.length-1]&&m.push("")),m[p]=b,c._accessor(m.join(k||"")),n===j()&&i(n,d,q)):c._last=h},value:function(a){if(a===h)return this._accessor();this.listView.value(a),this._accessor(a),this._old=this._accessor(),this._oldText=this._accessor(),this._toggleCloseVisibility()},_click:function(c){var b=c.item,a=this,d=a.element,e=a.listView.dataItemByIndex(a.listView.getElementIndex(b));c.preventDefault(),a._active=!0,a.trigger("select",{dataItem:e,item:b})?a.close():(a._oldText=d.val(),a._select(b).done(function(){a._blur(),i(d,d.val().length)}))},_clearText:b.noop,_resetFocusItem:function(){var a=this.options.highlightFirst?0:-1;this.options.virtual&&this.listView.scrollTo(0),this.listView.focus(a)},_listBound:function(){var c,a=this,d=a.popup,e=a.options,f=a.dataSource.flatView(),b=f.length,i=a.dataSource._group.length,g=a.element[0]===j();a._renderFooter(),a._renderNoData(),a._toggleNoData(!b),a._toggleHeader(!!i&&!!b),a._resizePopup(),d.position(),b&&e.suggest&&g&&a._inputValue()&&a.suggest(f[0]),a._open&&(a._open=!1,c=a._allowOpening()?"open":"close",a._typingTimeout&&!g&&(c="close"),b&&(a._resetFocusItem(),e.virtual&&a.popup.unbind("activate",a._resetFocusItemHandler).one("activate",a._resetFocusItemHandler)),d[c](),a._typingTimeout=h),a._touchScroller&&a._touchScroller.reset(),a._hideBusy(),a._makeUnselectable(),a.trigger("dataBound")},_mute:function(a){this._muted=!0,a.call(this),this._muted=!1},_listChange:function(){!this._active&&this.element[0]!==j()||this._muted||this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(e){var f,d,g,c,h,b,j=this._separator(),a="";e&&(a=this._text(e)),null===a&&(a=""),j&&(f=i(this.element)[0],d=this._accessor(),g=a,c=j,h=this._defaultSeparator(),(b=d.split(c)).splice(t(f,d,c),1,g),c&&""!==b[b.length-1]&&b.push(""),a=b.join(h)),this._prev=a,this._accessor(a),this._placeholder()},_unifySeparators:function(){return this._accessor(this.value().split(this._separator()).join(this._defaultSeparator())),this},_preselect:function(a,b){this._inputValue(b),this._accessor(a),this._old=this.oldText=this._accessor(),this.listView.setValue(a),this._placeholder()},_change:function(){var a=this,b=a._unifySeparators().value(),c=b!==e.unifyType(a._old,typeof b),d=c&&!a._typing,g=a._oldText!==b;a._old=b,a._oldText=b,(d||g)&&a.element.trigger(f),c&&a.trigger(f),a.typing=!1,a._toggleCloseVisibility()},_accessor:function(a){var b=this.element[0];if(a===h)return a=b.value,-1<b.className.indexOf("k-readonly")&&a===this.options.placeholder?"":a;b.value=null===a?"":a,this._placeholder()},_keydown:function(c){var a=this,b=c.keyCode,e=a.listView,f=a.popup.visible(),d=e.focus();if((a._last=b)===l.DOWN)f?this._move(d?"focusNext":"focusFirst"):a.value()&&a._filterSource({value:a.ignoreCase?a.value().toLowerCase():a.value(),operator:a.options.filter,field:a.options.dataTextField,ignoreCase:a.ignoreCase}).done(function(){a._allowOpening()&&(a._resetFocusItem(),a.popup.open())}),c.preventDefault();else if(b===l.UP)f&&this._move(d?"focusPrev":"focusLast"),c.preventDefault();else if(b===l.HOME)this._move("focusFirst");else if(b===l.END)this._move("focusLast");else if(b===l.ENTER||b===l.TAB){if(b===l.ENTER&&f&&c.preventDefault(),f&&d){var g=e.dataItemByIndex(e.getElementIndex(d));if(a.trigger("select",{dataItem:g,item:d}))return;this._select(d)}this._blur()}else if(b===l.ESC)f?c.preventDefault():a._clearValue(),a.close();else if(a.popup.visible()&&(b===l.PAGEDOWN||b===l.PAGEUP)){c.preventDefault();var h=b===l.PAGEDOWN?1:-1;e.scrollWith(h*e.screenHeight())}else a.popup._hovered=!0,a._search()},_keypress:function(){this._oldText=this.element.val(),this._typing=!0},_move:function(a){this.listView[a](),this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){clearTimeout(this._busy),this._loading.hide(),this.element.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(){var a=this;a._busy||(a._busy=setTimeout(function(){a.element.attr("aria-busy",!0),a._loading.show(),a._hideClear()},100))},_placeholder:function(a){if(!k){var b,d=this.element,c=this.options.placeholder;if(c){if(b=d.val(),a===h&&(a=!b),a||(c=b!==c?b:""),b===this._old&&!a)return;d.toggleClass("k-readonly",a).val(c),c||d[0]!==document.activeElement||i(d[0],0,0)}}},_separator:function(){var a=this.options.separator;return a instanceof Array?new RegExp(a.join("|"),"gi"):a},_defaultSeparator:function(){var a=this.options.separator;return a instanceof Array?a[0]:a},_inputValue:function(){return this.element.val()},_search:function(){var a=this;clearTimeout(a._typingTimeout),a._typingTimeout=setTimeout(function(){a._prev!==a._accessor()&&(a._prev=a._accessor(),a.search())},a.options.delay)},_select:function(b){var a=this;return a._active=!0,a.listView.select(b).done(function(){a._active=!1})},_loader:function(){this._loading=b('<span class="k-icon k-i-loading" style="display:none"></span>').insertAfter(this.element)},_clearButton:function(){e.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.element),this.wrapper.addClass("k-autocomplete-clearable"))},_toggleHover:function(a){b(a.currentTarget).toggleClass("k-state-hover","mouseenter"===a.type)},_toggleCloseVisibility:function(){this.value()?this._showClear():this._hideClear()},_wrapper:function(){var a,c=this.element,d=c[0];(a=c.parent()).is("span.k-widget")||(a=c.wrap("<span />").parent()),a.attr("tabindex",-1),a.attr("role","presentation"),a[0].style.cssText=d.style.cssText,c.css({width:"",height:d.style.height}),this._focused=this.element,this.wrapper=a.addClass("k-widget k-autocomplete").addClass(d.className).removeClass("input-validation-error"),this._inputWrapper=b(a[0])},_clearValue:function(){e.fn._clearValue.call(this),this.element.focus()}});c.plugin(g)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.combobox",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){var d,x,a,b,h,e,i,f,j,k,l,c,m,n,o,_,p,q,r,s,t,u,v,w,g;return d=window.kendo.jQuery,a=window.kendo,b=a.ui,h=b.List,e=b.Select,i=a.caret,f=a.support,j=f.placeholder,k=a._activeElement,l=a.keys,c=".kendoComboBox",m=c+"FocusEvent",n="click"+c,o="mousedown"+c,_="change",p="k-state-default",q="k-state-focused",r="k-state-disabled",s="aria-disabled",t="filter",u="accept",v=d.proxy,w=/(\r\n|\n|\r)/gm,g=e.extend({init:function(h,f){var g,b=this;b.ns=c,f=d.isArray(f)?{dataSource:f}:f,e.fn.init.call(b,h,f),f=b.options,h=b.element.on("focus"+c,v(b._focusHandler,b)),f.placeholder=f.placeholder||h.attr("placeholder"),b._reset(),b._wrapper(),b._input(),b._clearButton(),b._tabindex(b.input),b._popup(),b._dataSource(),b._ignoreCase(),b._enable(),b._attachFocusEvents(),b._oldIndex=b.selectedIndex=-1,b._aria(),b._initialIndex=f.index,b.requireValueMapper(b.options),b._initList(),b._cascade(),f.autoBind?b._filterSource():((g=f.text)||!b._isSelect||(g=h.children(":selected").text()),g&&b._setText(g)),g||b._placeholder(),d(b.element).parents("fieldset").is(":disabled")&&b.enable(!1),a.notify(b),b._toggleCloseVisibility()},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:1,enforceMinLength:!1,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:!0,animation:{},virtual:!1,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,syncValueAndText:!0,autoWidth:!1,popup:null},events:["open","close",_,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(a){var b=this._listOptions(a);e.fn.setOptions.call(this,a),this.listView.setOptions(b),this._accessors(),this._aria(),this._clearButton()},destroy:function(){this.input.off(c),this.input.off(m),this.element.off(c),this.wrapper.off(c),this._inputWrapper.off(c),clearTimeout(this._pasteTimeout),this._arrow.off(n+" "+o),this._clear.off(n+" "+o),e.fn.destroy.call(this)},_change:function(){var a=this,b=a.text(),d=b&&b!==a._oldText&&b!==a.options.placeholder,c=a.selectedIndex;if(!a.options.syncValueAndText&&!a.value()&& -1===c&&d)return a._old="",a._oldIndex=c,a._oldText=b,a._typing||a.element.trigger(_),a.trigger(_),void(a._typing=!1);e.fn._change.call(a),a._toggleCloseVisibility()},_attachFocusEvents:function(){this.input.on("focus"+m,v(this._inputFocus,this)).on("focusout"+m,v(this._inputFocusout,this))},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(q),this._placeholder(!1)},_inputFocusout:function(){var a=this,b=a.value();a._userTriggered=!0,a._inputWrapper.removeClass(q),clearTimeout(a._typingTimeout),a._typingTimeout=null,a.text(a.text());var c=a._focus(),d=this.listView.dataItemByIndex(this.listView.getElementIndex(c));b!==a.value()&&a.trigger("select",{dataItem:d,item:c})?a.value(b):(a._placeholder(),a._blur(),a.element.blur())},_inputPaste:function(){var a=this;clearTimeout(a._pasteTimeout),a._pasteTimeout=null,a._pasteTimeout=setTimeout(function(){a.search()})},_editable:function(b){var a=b.disable,d=b.readonly,e=this._inputWrapper.off(c),f=this.element.add(this.input.off(c)),g=this._arrow.off(n+" "+o),h=this._clear;d||a?(e.addClass(a?r:p).removeClass(a?p:r),f.attr("disabled",a).attr("readonly",d).attr(s,a)):(e.addClass(p).removeClass(r).on("mouseenter.kendoComboBox mouseleave.kendoComboBox",this._toggleHover),f.removeAttr("disabled").removeAttr("readonly").attr(s,!1),g.on(n,v(this._arrowClick,this)).on(o,function(a){a.preventDefault()}),h.on(n+" touchend"+c,v(this._clearValue,this)),this.input.on("keydown"+c,v(this._keydown,this)).on("input"+c,v(this._search,this)).on("paste"+c,v(this._inputPaste,this)),this.wrapper.on(n+c,v(this._focusHandler,this))),this._toggleCloseVisibility()},open:function(){var a=this,b=a._state,c=!!a.dataSource.filter()&&0<a.dataSource.filter().filters.length,d=!a.ul.find(a.listView.focus()).length;a.popup.visible()||((a.listView.bound()||b===t)&&b!==u?a._allowOpening()&&(a.popup._hovered=!0,a._openPopup(),a.options.virtual?a._focusItem():d&&a.options.highlightFirst&&a.listView.focus(0)):(a._open=!0,a._state="rebind",1!==a.options.minLength&&!c||c&&a.value()&& -1===a.selectedIndex?(a.refresh(),a._openPopup(),this.options.virtual||a.listView.bound(!1)):a._filterSource()))},_scrollToFocusedItem:function(){var a=this.listView;a.scrollToIndex(a.getElementIndex(a.focus()))},_openPopup:function(){this.popup.one("activate",v(this._scrollToFocusedItem,this)),this.popup.open()},_updateSelectionState:function(){var a=this,b=a.options.text,c=a.options.value;a.listView.isFiltered()||(-1===a.selectedIndex?(b!==x&&null!==b||(b=c),a._accessor(c),a.input.val(b||a.input.val()),a._placeholder()):-1===a._oldIndex&&(a._oldIndex=a.selectedIndex))},_buildOptions:function(b){if(this._isSelect){var a=this._customOption;"rebind"===this._state&&(this._state=""),this._customOption=x,this._options(b,"",this.value()),a&&a[0].selected&&!this.listView._emptySearch&&this._custom(a.val())}},_updateSelection:function(){var a=this,c=a.listView,e=a._initialIndex;if(a._state===t)d(c.focus()).removeClass("k-state-selected");else if(!a._fetch){c.value().length||(null!==e&& -1<e?a.select(e):a._accessor()&&c.value(a._accessor())),a._initialIndex=null;var b=c.selectedDataItems()[0];b&&(a._value(b)!==a.value()?a._custom(a._value(b)):a._value(b)!==a.element[0].value&&a._accessor(a._value(b)),a.text()&&a.text()!==a._text(b)&&a._selectValue(b))}},_updateItemFocus:function(){var a=this.listView;this.options.highlightFirst?a.focus()||a.focusIndex()||a.focus(0):a.focus(-1)},_listBound:function(){var a=this,c=a.input[0]===k(),b=a.dataSource.flatView(),d=a.listView.skip(),e=b.length,f=a.dataSource._group?a.dataSource._group.length:0;a._presetValue=!1,a._renderFooter(),a._renderNoData(),a._toggleNoData(!e),a._toggleHeader(!!f&&!!e),a._resizePopup(),a.popup.position(),a._buildOptions(b),a._makeUnselectable(),a._updateSelection(),b.length&&(d===x||0===d)&&(a._updateItemFocus(),a.options.suggest&&c&&a.input.val()&&a.suggest(b[0])),a._open&&(a._open=!1,a._typingTimeout&&!c?a.popup.close():a.toggle(a._allowOpening()),a._typingTimeout=null),a._hideBusy(),a.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex)},_get:function(a){var c,d,b;if("function"==typeof a){for(c=this.dataSource.flatView(),b=0;b<c.length;b++)if(a(c[b])){a=b,d=!0;break}d||(a=-1)}return a},_select:function(b,c){var a=this;return -1===(b=a._get(b))&&(a.input[0].value="",a._accessor("")),a.listView.select(b).done(function(){c||a._state!==t||(a._state=u),a._toggleCloseVisibility()})},_selectValue:function(c){var a=this.listView.select(),b="",d="";(a=a[a.length-1])===x&&(a=-1),this.selectedIndex=a,this.listView.isFiltered()&& -1!==a&&(this._valueBeforeCascade=this._old),-1!==a||c?((c||0===c)&&(b=this._dataValue(c),d=this._text(c)),null===b&&(b="")):(this.options.syncValueAndText?b=d=this.options.dataTextField===this.options.dataValueField?this._accessor():this.input[0].value:d=this.text(),this.listView.focus(-1)),this._setDomInputValue(d),this._accessor(b!==x?b:d,a),this._placeholder(),this._triggerCascade()},_setDomInputValue:function(d){var a,e=this,b=i(this.input);if(b&&b.length&&(a=b[0]),this._prev=this.input[0].value=d,a&& -1===this.selectedIndex){var c=f.mobileOS;c.wp||c.android?setTimeout(function(){e.input[0].setSelectionRange(a,a)},0):this.input[0].setSelectionRange(a,a)}},refresh:function(){this.listView.refresh()},_toggleCloseVisibility:function(){var a=this.element.is(":disabled")||this.element.is("[readonly]");this.text()&&!a?this._showClear():this._hideClear()},suggest:function(a){var f,e=this.input[0],b=this.text(),d=i(e)[0],g=this._last,c=this.dataSource.options.accentFoldingFiltering;g!=l.BACKSPACE&&g!=l.DELETE?("string"!=typeof(a=a||"")&&(a[0]&&(a=this.dataSource.view()[h.inArray(a[0],this.ul[0])]),a=a?this._text(a):""),d<=0&&(d=(c?b.toLocaleLowerCase(c):b.toLowerCase()).indexOf(c?a.toLocaleLowerCase(c):a.toLowerCase())+1),a?(a=a.toString(),-1<(f=(c?a.toLocaleLowerCase(c):a.toLowerCase()).indexOf(c?b.toLocaleLowerCase(c):b.toLowerCase()))&&(b+=a.substring(f+b.length))):b=b.substring(0,d),b.length===d&&a||(e.value=b,e===k()&&i(e,d,b.length))):this._last=x},text:function(b){b=null===b?"":b;var c,d,a=this,f=a.input[0],g=a.options.ignoreCase,e=b;if(b===x)return f.value;!1!==a.options.autoBind||a.listView.bound()?(c=a.dataItem())&&a._text(c).replace&&a._text(c).replace(w,"")===b&&(d=a._value(c))===h.unifyType(a._old,typeof d)?a._triggerCascade():(g&&(e=e.toLowerCase()),a.dataItem()&&a._text(a.dataItem())===b||(a._select(function(b){return b=a._text(b),g&&(b=(b+"").toLowerCase()),b===e}).done(function(){a.selectedIndex<0&&(f.value=b,a.options.syncValueAndText&&a._accessor(b),a._cascadeTriggered=!0,a._triggerCascade()),a._prev=f.value}),a._toggleCloseVisibility())):a._setText(b)},toggle:function(a){this._toggle(a,!0)},value:function(b){var a=this,d=a.options,c=a.listView;if(b===x)return(b=a._accessor()||a.listView.value()[0])===x||null===b?"":b;a.requireValueMapper(a.options,b),a.trigger("set",{value:b}),b===d.value&&a.input.val()===d.text||(a._accessor(b),a._isFilterEnabled()&&c.bound()&&c.isFiltered()?a._clearFilter():a._fetchData(),c.value(b).done(function(){-1!==a.selectedIndex||c._selectedDataItems&&c._selectedDataItems.length||(a._accessor(b),a.input.val(b),a._placeholder(!0)),a._old=a._valueBeforeCascade=a._accessor(),a._oldIndex=a.selectedIndex,a._prev=a.input.val(),a._state===t&&(a._state=u),a._toggleCloseVisibility()}))},_hideBusy:function(){clearTimeout(this._busy),this._arrowIcon.removeClass("k-i-loading"),this._focused.attr("aria-busy",!1),this._busy=null,this._toggleCloseVisibility()},_click:function(d){var a=this,c=d.item,b=a.listView.dataItemByIndex(a.listView.getElementIndex(c)),e=!0;d.preventDefault(),b&&((e=a._value(b)!==h.unifyType(a.value(),typeof a._value(b)))||a.input.val(a._text(b))),e&&a.trigger("select",{dataItem:b,item:c})?a.close():(a._userTriggered=!0,a._select(c).done(function(){a._blur()}))},_syncValueAndText:function(){return this.options.syncValueAndText},_inputValue:function(){return this.text()},_searchByWord:function(b){var a=this,c=a.options,e=a.dataSource,f=c.ignoreCase;if(f&&(b=b.toLowerCase()),a.ul[0].firstChild){this.listView.focus(this._get(function(d){var c=a._text(d);if(c!==x)return(""==(c+="")||""!==b)&&(f&&(c=c.toLowerCase()),0===c.indexOf(b))}));var d=this.listView.focus();d&&(c.suggest&&a.suggest(d),this.open()),this.options.highlightFirst&&!b&&this.listView.focusFirst()}else e.one(_,function(){e.view()[0]&&a.search(b)}).fetch()},_input:function(){var b,g,a=this,c=a.element.removeClass("k-input")[0],h=c.accessKey,e=a.wrapper,i="input.k-input",f=c.name||"";f=f&&'name="'+f+'_input" ',(b=e.find(i))[0]||(e.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+f+'class="k-input" type="text" autocomplete="off"/><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(a.element),b=e.find(i)),b[0].style.cssText=c.style.cssText,b[0].title=c.title,-1<(g=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10))&&(b[0].maxLength=g),b.addClass(c.className).css({width:"",height:c.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),j&&b.attr("placeholder",a.options.placeholder),h&&(c.accessKey="",b[0].accessKey=h),a._focused=a.input=b,a._inputWrapper=d(e[0].firstChild),a._arrow=e.find(".k-select").attr({role:"button",tabIndex:-1}),a._arrowIcon=a._arrow.find(".k-icon"),c.id&&a._arrow.attr("aria-controls",a.ul[0].id)},_clearButton:function(){h.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-combobox-clearable"))},_keydown:function(e){var a=this,b=e.keyCode;if(a._last=b,clearTimeout(a._typingTimeout),a._typingTimeout=null,b===l.HOME)a._firstItem();else if(b===l.END)a._lastItem();else if(b===l.ENTER||b===l.TAB&&a.popup.visible()){var d=a.listView.focus(),c=a.dataItem(),f=!0;if(a.popup.visible()||c&&a.text()===a._text(c)||(d=null),d){if(a.popup.visible()&&e.preventDefault(),(c=a.listView.dataItemByIndex(a.listView.getElementIndex(d)))&&(f=a._value(c)!==h.unifyType(a.value(),typeof a._value(c))),f&&a.trigger("select",{dataItem:c,item:d}))return;a._userTriggered=!0,a._select(d).done(function(){a._blur(),a._valueBeforeCascade=a._old=a.value()})}else(a._syncValueAndText()||a._isSelect)&&a._accessor(a.input.val()),a.options.highlightFirst?(a.listView.value(a.input.val()),a._blur()):a._oldText=a.text()}else b==l.TAB||a._move(e)?b===l.ESC&&!a.popup.visible()&&a.text()&&a._clearValue():a._search()},_placeholder:function(a){if(!j){var d,b=this.input,c=this.options.placeholder;if(c){if(d=this.value(),a===x&&(a=!d),b.toggleClass("k-readonly",a),!a){if(d)return;c=""}b.val(c),c||b[0]!==k()||i(b[0],0,0)}}},_search:function(){var a=this;clearTimeout(a._typingTimeout),a._typingTimeout=setTimeout(function(){var b=a.text();""!==b&&a._prev!==b?(a._prev=b,"none"===a.options.filter&&a.options.virtual&&a.listView.select(-1),a.search(b),a._toggleCloseVisibility()):""===b&&""!==a._prev&&(a._clearValue(),a.search("")),a._typingTimeout=null},a.options.delay)},_setText:function(a){this.input.val(a),this._prev=a},_wrapper:function(){var a=this.element,b=a.parent();b.is("span.k-widget")||((b=a.hide().wrap("<span />").parent())[0].style.cssText=a[0].style.cssText),this.wrapper=b.addClass("k-widget k-combobox").addClass(a[0].className).removeClass("input-validation-error").css("display","")},_clearSelection:function(a,c){var b=a.value(),d=b&& -1===a.selectedIndex;-1==this.selectedIndex&&this.value()|| !c&&b&&!d||(this.options.value="",this.value(""))},_preselect:function(a,b){this.input.val(b),this._accessor(a),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(a),this._placeholder(),this._initialIndex=null,this._presetValue=!0,this._toggleCloseVisibility()},_clearText:function(){this._old=this.value(),this.text("")},_clearValue:function(){e.fn._clearValue.call(this),this.input.focus()}}),b.plugin(g),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.dropdownlist",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){return function(d,h){var a=window.kendo,b=a.ui,i=b.List,e=b.Select,j=a.support,k=a._activeElement,l=a.data.ObservableObject,m=a.keys,c=".kendoDropDownList",n=c+"FocusEvent",f="change",o="k-state-focused",p="k-state-default",q="k-state-disabled",_="aria-disabled",r="mouseenter"+c+" mouseleave"+c,s="tabindex",t="filter",u="accept",v=d.proxy,g=e.extend({init:function(i,f){var j,g,b=this,k=f&&f.index;b.ns=c,f=d.isArray(f)?{dataSource:f}:f,e.fn.init.call(b,i,f),f=b.options,i=b.element.on("focus"+c,v(b._focusHandler,b)),b._focusInputHandler=d.proxy(b._focusInput,b),b.optionLabel=d(),b._optionLabel(),b._inputTemplate(),b._reset(),b._prev="",b._word="",b._wrapper(),b._tabindex(),b.wrapper.data(s,b.wrapper.attr(s)),b._span(),b._popup(),b._mobile(),b._dataSource(),b._ignoreCase(),b._filterHeader(),b._aria(),b.wrapper.attr("aria-live","polite"),b._enable(),b._attachFocusHandlers(),b._oldIndex=b.selectedIndex=-1,k!==h&&(f.index=k),b._initialIndex=f.index,b.requireValueMapper(b.options),b._initList(),b._cascade(),b.one("set",function(a){!a.sender.listView.bound()&&b.hasOptionLabel()&&b._textAccessor(b._optionLabelText())}),f.autoBind?b.dataSource.fetch():-1===b.selectedIndex&&((g=f.text||"")||((j=f.optionLabel)&&0===f.index?g=j:b._isSelect&&(g=i.children(":selected").text())),b._textAccessor(g)),d(b.element).parents("fieldset").is(":disabled")&&b.enable(!1),b.listView.bind("click",function(a){a.preventDefault()}),a.notify(b)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,enforceMinLength:!1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:!1,popup:null},events:["open","close",f,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(a){e.fn.setOptions.call(this,a),this.listView.setOptions(this._listOptions(a)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.hasOptionLabel()&&this.select(0)},destroy:function(){var a=this;e.fn.destroy.call(a),a.wrapper.off(c),a.wrapper.off(n),a.element.off(c),a._inputWrapper.off(c),a._arrow.off(),a._arrow=null,a._arrowIcon=null,a.optionLabel.off(),a.filterInput&&a.filterInput.off(n)},open:function(){var a=this,b=!!a.dataSource.filter()&&0<a.dataSource.filter().filters.length;a.popup.visible()||(a.listView.bound()&&a._state!==u?a._allowOpening()&&(a._focusFilter=!0,a.popup.one("activate",a._focusInputHandler),a.popup._hovered=!0,a.popup.open(),a._resizeFilterInput(),a._focusItem()):(a._open=!0,a._state="rebind",a.filterInput&&(a.filterInput.val(""),a._prev=""),a.filterInput&&1!==a.options.minLength&&!b?(a.refresh(),a.popup.one("activate",a._focusInputHandler),a.popup.open(),a._resizeFilterInput()):a._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var b=this.filterInput,c=this._prevent;if(b){var d=this.filterInput[0]===k(),e=a.caret(this.filterInput[0])[0];this._prevent=!0,b.css("display","none").css("width",this.popup.element.css("width")).css("display","inline-block"),d&&(b.focus(),a.caret(b[0],e)),this._prevent=c}},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||e.fn._allowOpening.call(this)},toggle:function(a){this._toggle(a,!0)},current:function(a){var b;if(a===h)return!(b=this.listView.focus())&&0===this.selectedIndex&&this.hasOptionLabel()?this.optionLabel:b;this._focus(a)},dataItem:function(a){var b=null;if(null===a)return a;if(a===h)b=this.listView.selectedDataItems()[0];else{if("number"!=typeof a){if(this.options.virtual)return this.dataSource.getByUid(d(a).data("uid"));a=a.hasClass("k-list-optionlabel")?-1:d(this.items()).index(a)}else this.hasOptionLabel()&& --a;b=this.dataSource.flatView()[a]}return b||this._optionLabelDataItem()},refresh:function(){this.listView.refresh()},text:function(a){var c,b=this,d=b.options.ignoreCase;if((a=null===a?"":a)===h)return b._textAccessor();"string"==typeof a?(c=d?a.toLowerCase():a,b._select(function(a){return a=b._text(a),d&&(a=(a+"").toLowerCase()),a===c}).done(function(){b._textAccessor(b.dataItem()||a)})):b._textAccessor(a)},_clearFilter:function(){d(this.filterInput).val(""),e.fn._clearFilter.call(this)},value:function(b){var a=this,c=a.listView,d=a.dataSource;return b===h?(b=a._accessor()||a.listView.value()[0])===h||null===b?"":b:(a.requireValueMapper(a.options,b),!b&&a.hasOptionLabel()||(a._initialIndex=null),this.trigger("set",{value:b}),a._request&&a.options.cascadeFrom&&a.listView.bound()?(a._valueSetter&&d.unbind(f,a._valueSetter),a._valueSetter=v(function(){a.value(b)},a),void d.one(f,a._valueSetter)):(a._isFilterEnabled()&&c.bound()&&c.isFiltered()?a._clearFilter():a._fetchData(),void c.value(b).done(function(){a._old=a._valueBeforeCascade=a._accessor(),a._oldIndex=a.selectedIndex})))},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var b=this,e=b.options,f=e.optionLabel,c=e.optionLabelTemplate;if(!f)return b.optionLabel.off().remove(),void(b.optionLabel=d());c||(c="#:",c+="string"==typeof f?"data":a.expr(e.dataTextField,"data"),c+="#"),"function"!=typeof c&&(c=a.template(c)),b.optionLabelTemplate=c,b.hasOptionLabel()||(b.optionLabel=d('<div class="k-list-optionlabel"></div>').prependTo(b.list)),b.optionLabel.html(c(f)).off().on("click.kendoDropDownList touchend.kendoDropDownList",v(b._click,b)).on(r,b._toggleHover),b.angular("compile",function(){return{elements:b.optionLabel,data:[{dataItem:b._optionLabelDataItem()}]}})},_optionLabelText:function(){var a=this.options.optionLabel;return"string"==typeof a?a:this._text(a)},_optionLabelDataItem:function(){var a=this.options.optionLabel;return this.hasOptionLabel()?d.isPlainObject(a)?new l(a):this._assignInstance(this._optionLabelText(),""):h},_buildOptions:function(d){if(this._isSelect){var a=this.listView.value()[0],b=this._optionLabelDataItem(),c=b&&this._value(b);a!==h&&null!==a||(a=""),b&&(c!==h&&null!==c||(c=""),b='<option value="'+c+'">'+this._text(b)+"</option>"),this._options(d,b,a),a!==i.unifyType(this._accessor(),typeof a)&&(this._customOption=null,this._custom(a))}},_listBound:function(){var b,a=this,c=a._initialIndex,e=a._state===t,d=a.dataSource.flatView();a._presetValue=!1,a._renderFooter(),a._renderNoData(),a._toggleNoData(!d.length),a._resizePopup(!0),a.popup.position(),a._buildOptions(d),a._makeUnselectable(),e||(a._open&&a.toggle(a._allowOpening()),a._open=!1,a._fetch||(d.length?(!a.listView.value().length&& -1<c&&null!==c&&a.select(c),a._initialIndex=null,(b=a.listView.selectedDataItems()[0])&&a.text()!==a._text(b)&&a._selectValue(b)):a._textAccessor()!==a._optionLabelText()&&(a.listView.value(""),a._selectValue(null),a._oldIndex=a.selectedIndex))),a._hideBusy(),a.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&& -1===this._oldIndex)&&(this._oldIndex=this.selectedIndex)},_filterPaste:function(){this._search()},_attachFocusHandlers:function(){this.wrapper.on("focusin"+n,v(this._focusinHandler,this)).on("focusout"+n,v(this._focusoutHandler,this)),this.filterInput&&this.filterInput.on("focusin"+n,v(this._focusinHandler,this)).on("focusout"+n,v(this._focusoutHandler,this))},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(o),this._prevent=!1},_focusoutHandler:function(){var a=window.self!==window.top;this._prevent||(clearTimeout(this._typingTimeout),j.mobileOS.ios&&a?this._change():this._blur(),this._inputWrapper.removeClass(o),this._prevent=!0,this._open=!1,this.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(a){a.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._prevent=!1,this._toggle()},_editable:function(f){var g=this.element,d=f.disable,h=f.readonly,b=this.wrapper.add(this.filterInput).off(c),e=this._inputWrapper.off(r);h||d?d?(b.removeAttr(s),e.addClass(q).removeClass(p)):e.addClass(p).removeClass(q):(g.removeAttr("disabled").removeAttr("readonly"),e.addClass(p).removeClass(q).on(r,this._toggleHover),b.attr(s,b.data(s)).attr(_,!1).on("keydown"+c,v(this._keydown,this)).on(a.support.mousedown+c,v(this._wrapperMousedown,this)).on("paste"+c,v(this._filterPaste,this)),this.wrapper.on("click"+c,v(this._wrapperClick,this)),this.filterInput?b.on("input"+c,v(this._search,this)):b.on("keypress"+c,v(this._keypress,this))),g.attr("disabled",d).attr("readonly",h),b.attr(_,d)},_keydown:function(d){var e,c,a=this,b=d.keyCode,g=d.altKey,f=a.popup.visible();if(a.filterInput&&(e=a.filterInput[0]===k()),b===m.LEFT?(b=m.UP,c=!0):b===m.RIGHT&&(b=m.DOWN,c=!0),!c||!e){if(d.keyCode=b,(g&&b===m.UP||b===m.ESC)&&a._focusElement(a.wrapper),a._state===t&&b===m.ESC&&(a._clearFilter(),a._open=!1,a._state=u),b===m.ENTER&&a._typingTimeout&&a.filterInput&&f)d.preventDefault();else if(b!==m.SPACEBAR||e||(a.toggle(!f),d.preventDefault()),!(c=a._move(d))){if(!f||!a.filterInput){var h=a._focus();if(b===m.HOME?(c=!0,a._firstItem()):b===m.END&&(c=!0,a._lastItem()),c){if(a.trigger("select",{dataItem:a._getElementDataItem(a._focus()),item:a._focus()}))return void a._focus(h);a._select(a._focus(),!0).done(function(){f||a._blur()}),d.preventDefault()}}g||c||!a.filterInput||a._search()}}},_matchText:function(a,b){var c=this.options.ignoreCase;return a!==h&&null!==a&&(a+="",c&&(a=a.toLowerCase()),0===a.indexOf(b))},_shuffleData:function(a,b){var c=this._optionLabelDataItem();return c&&(a=[c].concat(a)),a.slice(b).concat(a.slice(0,b))},_selectNext:function(){var h,f,a=this,b=a.dataSource.flatView(),e=b.length+(a.hasOptionLabel()?1:0),g=function(b,c){for(var a=0;a<b.length;a++)if(b.charAt(a)!==c)return!1;return!0}(a._word,a._last),c=a.selectedIndex;c=-1===c?0:x(c+=g?1:0,e),b=b.toJSON?b.toJSON():b.slice(),b=a._shuffleData(b,c);for(var d=0;d<e&&(f=a._text(b[d]),!g||!a._matchText(f,a._last))&&!a._matchText(f,a._word);d++);d!==e&&(h=a._focus(),a._select(x(c+d,e)).done(function(){function b(){a.popup.visible()||a._change()}a.trigger("select",{dataItem:a._getElementDataItem(a._focus()),item:a._focus()})?a._select(h).done(b):b()}))},_keypress:function(b){if(0!==b.which&&b.keyCode!==a.keys.ENTER){var c=String.fromCharCode(b.charCode||b.keyCode);this.options.ignoreCase&&(c=c.toLowerCase())," "===c&&b.preventDefault(),this._word+=c,this._last=c,this._search()}},_popupOpen:function(){var b=this.popup;b.wrapper=a.wrap(b.element),b.element.closest(".km-root")[0]&&(b.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){e.fn._popup.call(this),this.popup.one("open",v(this._popupOpen,this))},_getElementDataItem:function(a){return a&&a[0]?a[0]===this.optionLabel[0]?this._optionLabelDataItem():this.listView.dataItemByIndex(this.listView.getElementIndex(a)):null},_click:function(b){var a=this,c=b.item||d(b.currentTarget);b.preventDefault(),a.trigger("select",{dataItem:a._getElementDataItem(c),item:c})?a.close():(a._userTriggered=!0,a._select(c).done(function(){a._blur(),a._focusElement(a.wrapper)}))},_focusElement:function(b){var c=k(),d=this.wrapper,a=this.filterInput,e=j.mobileOS&&(j.touch||j.MSPointers||j.pointers);a&&a[0]===b[0]&&e||a&&((b===a?d:a)[0]===c||this._focusFilter)&&(this._focusFilter=!1,this._prevent=!0,this._focused=b.focus())},_searchByWord:function(a){if(a){var b=this;b.options.ignoreCase&&(a=a.toLowerCase()),b._select(function(c){return b._matchText(b._text(c),a)})}},_inputValue:function(){return this.text()},_search:function(){var a=this,b=a.dataSource;if(clearTimeout(a._typingTimeout),a._isFilterEnabled())a._typingTimeout=setTimeout(function(){var b=a.filterInput.val();a._prev!==b&&(a._prev=b,a.search(b),a._resizeFilterInput()),a._typingTimeout=null},a.options.delay);else{if(a._typingTimeout=setTimeout(function(){a._word=""},a.options.delay),!a.listView.bound())return void b.fetch().done(function(){a._selectNext()});a._selectNext()}},_get:function(a){var c,e,b,f="function"==typeof a,g=f?d():d(a);if(this.hasOptionLabel()&&("number"==typeof a?-1<a&& --a:g.hasClass("k-list-optionlabel")&&(a=-1)),f){for(c=this.dataSource.flatView(),b=0;b<c.length;b++)if(a(c[b])){a=b,e=!0;break}e||(a=-1)}return a},_firstItem:function(){this.hasOptionLabel()?this._focus(this.optionLabel):this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel(),this.listView.focusLast()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this._resetOptionLabel(),this.listView.focusFirst()):this.listView.focusNext()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.focusPrev(),this.listView.focus()||this._focus(this.optionLabel))},_focusItem:function(){var b=this.options,c=this.listView,d=c.focus(),a=c.select();(a=a[a.length-1])===h&&b.highlightFirst&&!d&&(a=0),a!==h?c.focus(a):!b.optionLabel||b.virtual&&"dataItem"===b.virtual.mapValueTo?c.scrollToIndex(0):(this._focus(this.optionLabel),this._select(this.optionLabel),this.listView.content.scrollTop(0))},_resetOptionLabel:function(a){this.optionLabel.removeClass("k-state-focused"+(a||"")).removeAttr("id")},_focus:function(a){var b=this.listView,c=this.optionLabel;if(a===h)return!(a=b.focus())&&c.hasClass("k-state-focused")&&(a=c),a;this._resetOptionLabel(),a=this._get(a),b.focus(a),-1===a&&(c.addClass("k-state-focused").attr("id",b._optionID),this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",b._optionID))},_select:function(a,c){var b=this;return a=b._get(a),b.listView.select(a).done(function(){c||b._state!==t||(b._state=u),-1===a&&b._selectValue(null)})},_selectValue:function(d){var a=this,e=a.options.optionLabel,b=a.listView.select(),c="",f="";(b=b[b.length-1])===h&&(b=-1),this._resetOptionLabel(" k-state-selected"),d||0===d?(f=d,c=a._dataValue(d),e&&(b+=1)):e&&(a._focus(a.optionLabel.addClass("k-state-selected")),f=a._optionLabelText(),c="string"==typeof e?"":a._value(e),b=0),a.selectedIndex=b,null===c&&(c=""),a._textAccessor(f),a._accessor(c,b),a._triggerCascade()},_mobile:function(){var b=this.popup,a=j.mobileOS;b.element.parents(".km-root").eq(0).length&&a&&(b.options.animation.open.effects=a.android||a.meego?"fadeIn":a.ios||a.wp?"slideIn:up":b.options.animation.open.effects)},_filterHeader:function(){this.filterInput&&(this.filterInput.off(c).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(this.filterInput=d('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(d('<span class="k-list-filter" />').append(this.filterInput.add('<span class="k-icon k-i-zoom"></span>'))))},_span:function(){var b,a=this.wrapper,c="span.k-input";(b=a.find(c))[0]||(a.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(this.element),b=a.find(c)),this.span=b,this._inputWrapper=d(a[0].firstChild),this._arrow=a.find(".k-select"),this._arrowIcon=this._arrow.find(".k-icon")},_wrapper:function(){var b,a=this.element,c=a[0];(b=a.parent()).is("span.k-widget")||((b=a.wrap("<span />").parent())[0].style.cssText=c.style.cssText,b[0].title=c.title),this._focused=this.wrapper=b.addClass("k-widget k-dropdown").addClass(c.className).removeClass("input-validation-error").css("display","").attr({accesskey:a.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),a.hide().removeAttr("accesskey")},_clearSelection:function(a){this.select(a.value()?0:-1)},_inputTemplate:function(){var b=this.options.valueTemplate;if(b=b?a.template(b):d.proxy(a.template("#:this._text(data)#",{useWithBlock:!1}),this),this.valueTemplate=b,this.hasOptionLabel()&&!this.options.optionLabelTemplate)try{this.valueTemplate(this._optionLabelDataItem())}catch(c){throw new Error("The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel")}},_textAccessor:function(b){var a=null,f=this.valueTemplate,c=this._optionLabelText(),e=this.span;if(b===h)return e.text();function g(){return{elements:e.get(),data:[{dataItem:a}]}}d.isPlainObject(b)||b instanceof l?a=b:c&&c===b&&(a=this.options.optionLabel),a=a||this._assignInstance(b,this._accessor()),this.hasOptionLabel()&&(a!==c&&this._text(a)!==c||(f=this.optionLabelTemplate,"string"!=typeof this.options.optionLabel||this.options.optionLabelTemplate||(a=c))),this.angular("cleanup",g);try{e.html(f(a))}catch(i){e.html("")}this.angular("compile",g)},_preselect:function(a,b){a||b||(b=this._optionLabelText()),this._accessor(a),this._textAccessor(b),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(a),this._initialIndex=null,this._presetValue=!0},_assignInstance:function(b,d){var c=this.options.dataTextField,a={};return c?(w(a,c.split("."),b),w(a,this.options.dataValueField.split("."),d),new l(a)):b}});function w(a,b,f){for(var c,d=0,e=b.length-1;d<e;++d)(c=b[d])in a||(a[c]={}),a=a[c];a[b[e]]=f}function x(a,b){return b<=a&&(a-=b),a}b.plugin(g)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.colorpicker",["kendo.core","kendo.color","kendo.popup","kendo.slider","kendo.userevents","kendo.button"],function(){return function(h){var a=window.kendo,c=a.ui,d=c.Widget,l=a.parseColor,m=a.Color,n=a.keys,o="background-color",i="k-state-selected",e={apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:"Color Hexadecimal Code"},f=".kendoColorTools",p="click"+f,q="keydown"+f,g=a.support.browser,r=g.msie&&g.version<9,b=d.extend({init:function(b,a){var c;d.fn.init.call(this,b,a),b=this.element,a=this.options,this._value=a.value=l(a.value),this._tabIndex=b.attr("tabIndex")||0,(c=this._ariaId=a.ariaId)&&b.attr("aria-labelledby",c),a._standalone&&(this._triggerSelect=this._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(a){return void 0!==a&&(this._value=l(a),this._updateUI(this._value)),this._value},value:function(a){return(a=(a=this.color(a))&&(this.options.opacity?a.toCssRgba():a.toCss()))||null},enable:function(a){0===arguments.length&&(a=!0),this.wrapper.toggleClass("k-state-disabled",!a),this._onEnable(a)},_select:function(a,b){var c=this._value;a=this.color(a),b||(this.element.trigger("change"),a.equals(c)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(a){s(this,"select",a)},_triggerChange:function(a){s(this,"change",a)},destroy:function(){this.element&&this.element.off(f),this.wrapper&&this.wrapper.off(f).find("*").off(f),this.wrapper=null,d.fn.destroy.call(this)},_updateUI:h.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function s(b,c,a){(a=l(a))&&!a.equals(b.color())&&("change"==c&&(b._value=a),a=1!=a.a?a.toCssRgba():a.toCss(),b.trigger(c,{value:a}))}var _=b.extend({init:function(g,e){var d=this;b.fn.init.call(d,g,e),g=d.wrapper=d.element;var c=(e=d.options).palette;"websafe"==c?(c="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",e.columns=18):"basic"==c&&(c="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7"),"string"==typeof c&&(c=c.split(",")),h.isArray(c)&&(c=h.map(c,function(a){return l(a)})),d._selectedID=(e.ariaId||a.guid())+"_selected",g.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(h(d._template({colors:c,columns:e.columns,tileSize:e.tileSize,value:d._value,id:e.ariaId}))).on(p,".k-item",function(a){d._select(h(a.currentTarget).css(o))}).attr("tabIndex",d._tabIndex).on(q,v(d._keydown,d));var i,j,f=e.tileSize;if(f){if(/number|string/.test(typeof f))i=j=parseFloat(f);else{if("object"!=typeof f)throw new Error("Unsupported value for the 'tileSize' argument");i=parseFloat(f.width),j=parseFloat(f.height)}g.find(".k-item").css({width:i,height:j})}},focus:function(){this.wrapper&&!this.wrapper.is("[unselectable='on']")&&this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(a){a?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex")},_keydown:function(e){var a,d=this.wrapper.find(".k-item"),b=d.filter("."+i).get(0),c=e.keyCode;if(c==n.LEFT?a=t(d,b,-1):c==n.RIGHT?a=t(d,b,1):c==n.DOWN?a=t(d,b,this.options.columns):c==n.UP?a=t(d,b,-this.options.columns):c==n.ENTER?(u(e),b&&this._select(h(b).css(o))):c==n.ESC&&this._cancel(),a){u(e),this._current(a);try{var f=l(a.css(o));this._triggerSelect(f)}catch(g){}}},_current:function(a){this.wrapper.find("."+i).removeClass(i).attr("aria-selected",!1).removeAttr("id"),h(a).addClass(i).attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(b){var a=null;this.wrapper.find(".k-item").each(function(){var c=l(h(this).css(o));if(c&&c.equals(b))return a=this,!1}),this._current(a)},_template:a.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+i+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')}),j=b.extend({init:function(c,d){var a=this;b.fn.init.call(a,c,d),(d=a.options).messages=d.options?h.extend(a.options.messages,d.options.messages):a.options.messages,c=a.element,a.wrapper=c.addClass("k-widget k-flatcolorpicker").append(a._template(d)),a._hueElements=h(".k-hsv-rectangle, .k-alpha-slider .k-slider-track",c),a._selectedColor=h(".k-selected-color-display",c),a._colorAsText=h("input.k-color-value",c),a._sliders(),a._hsvArea(),a._updateUI(a._value||l("#f00")),c.find("input.k-color-value").on(q,function(d){var b=this;if(d.keyCode==n.ENTER)try{var c=l(b.value),e=a.color();a._select(c,c.equals(e))}catch(f){h(b).addClass("k-state-error")}else a.options.autoupdate&&setTimeout(function(){var c=l(b.value,!0);c&&a._updateUI(c,!0)},10)}).end().on(p,".k-controls button.apply",function(){a.options._clearedColor?a.trigger("change"):a._select(a._getHSV())}).on(p,".k-controls button.cancel",function(){a._updateUI(a.color()),a._cancel()}),r&&a._applyIEFilter()},destroy:function(){this._hsvEvents.destroy(),this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,b.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,clearButton:!1,autoupdate:!0,messages:e},_applyIEFilter:function(){var b=this.element.find(".k-hue-slider .k-slider-track")[0],a=b.currentStyle.backgroundImage;a=a.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),b.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+a+"', sizingMethod='scale')"},_sliders:function(){var a=this,b=a.element,c=b.find(".k-hue-slider"),d=b.find(".k-alpha-slider");function e(b){a._updateUI(a._getHSV(b.value,null,null,null))}function f(b){a._updateUI(a._getHSV(null,null,null,b.value/100))}c.attr("aria-label","hue saturation"),a._hueSlider=c.kendoSlider({min:0,max:360,tickPlacement:"none",showButtons:!1,slide:e,change:e}).data("kendoSlider"),d.attr("aria-label","opacity"),a._opacitySlider=d.kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:f,change:f}).data("kendoSlider")},_hsvArea:function(){var b=this,c=b.element.find(".k-hsv-rectangle"),d=c.find(".k-draghandle").attr("tabIndex",0).on(q,v(b._keydown,b));function e(g,h){var f=this.offset,a=g-f.left,c=h-f.top,d=this.width,e=this.height;a=a<0?0:d<a?d:a,c=c<0?0:e<c?e:c,b._svChange(a/d,1-c/e)}b._hsvEvents=new a.UserEvents(c,{global:!0,press:function(b){this.offset=a.getOffset(c),this.width=c.width(),this.height=c.height(),d.focus(),e.call(this,b.x.location,b.y.location)},start:function(){c.addClass("k-dragging"),d.focus()},move:function(a){a.preventDefault(),e.call(this,a.x.location,a.y.location)},end:function(){c.removeClass("k-dragging")}}),b._hsvRect=c,b._hsvHandle=d},_onEnable:function(a){this._hueSlider.enable(a),this._opacitySlider&&this._opacitySlider.enable(a),this.wrapper.find("input").attr("disabled",!a);var b=this._hsvRect.find(".k-draghandle");a?b.attr("tabIndex",this._tabIndex):b.removeAttr("tabIndex")},_keydown:function(b){var a=this;function c(d,e){var c=a._getHSV();c[d]+=e*(b.shiftKey?.01:.05),c[d]<0&&(c[d]=0),1<c[d]&&(c[d]=1),a._updateUI(c),u(b)}function d(d){var c=a._getHSV();c.h+=d*(b.shiftKey?1:5),c.h<0&&(c.h=0),359<c.h&&(c.h=359),a._updateUI(c),u(b)}switch(b.keyCode){case n.LEFT:b.ctrlKey?d(-1):c("s",-1);break;case n.RIGHT:b.ctrlKey?d(1):c("s",1);break;case n.UP:c(b.ctrlKey&&a._opacitySlider?"a":"v",1);break;case n.DOWN:c(b.ctrlKey&&a._opacitySlider?"a":"v",-1);break;case n.ENTER:a._select(a._getHSV());break;case n.F2:a.wrapper.find("input.k-color-value").focus().select();break;case n.ESC:a._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(a,b,c,d){var e=this._hsvRect,g=e.width(),h=e.height(),f=this._hsvHandle.position();return null==a&&(a=this._hueSlider.value()),null==b&&(b=f.left/g),null==c&&(c=1-f.top/h),null==d&&(d=this._opacitySlider?this._opacitySlider.value()/100:1),m.fromHSV(a,b,c,d)},_svChange:function(a,b){var c=this._getHSV(null,a,b,null);this._updateUI(c)},_updateUI:function(a,c){var b=this._hsvRect;a&&(this._colorAsText.attr("title",this.options.messages.previewInput),this._colorAsText.removeClass("k-state-error"),this._selectedColor.css(o,a.toDisplay()),c||this._colorAsText.val(this._opacitySlider?a.toCssRgba():a.toCss()),this._triggerSelect(a),a=a.toHSV(),this._hsvHandle.css({left:a.s*b.width()+"px",top:(1-a.v)*b.height()+"px"}),this._hueElements.css(o,m.fromHSV(a.h,1,1,1).toCss()),this._hueSlider.value(a.h),this._opacitySlider&&this._opacitySlider.value(100*a.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:a.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><div class="k-color-input"><input class="k-color-value" # if (clearButton && !_standalone) { #placeholder="#: messages.noColor #" # } ##= !data.input ? \'style="visibility: hidden;"\' : "" #># if (clearButton && !_standalone) { #<span class="k-clear-color k-button k-bare" title="#: messages.clearColor #"></span># } #</div></div></div># } ## if (clearButton && !_standalone && !preview) { #<div class="k-clear-color-container"><span class="k-clear-color k-button k-bare">#: messages.clearColor #</span></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><div class="k-sliders-wrap k-vbox"><input class="k-hue-slider" /># if (opacity) { #<input class="k-alpha-slider k-transparency-slider" /># } #</div># if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function t(a,e,d){var c=(a=Array.prototype.slice.call(a)).length,b=a.indexOf(e);return b<0?d<0?a[c-1]:a[0]:((b+=d)<0?b+=c:b%=c,a[b])}var k=d.extend({init:function(a,c){var b=this;d.fn.init.call(b,a,c),c=b.options;var e=(a=b.element).attr("value")||a.val();e=l(e||c.value,!0),b._value=c.value=e;var f=b.wrapper=h(b._template(c));if(a.hide().after(f),a.is("input")){a.appendTo(f);var g=a.closest("label"),i=a.attr("id");i&&(g=g.add('label[for="'+i+'"]')),g.click(function(a){b.open(),a.preventDefault()})}b._tabIndex=a.attr("tabIndex")||0,b.enable(!a.attr("disabled"));var j=a.attr("accesskey");j&&(a.attr("accesskey",null),f.attr("accesskey",j)),b.bind("activate",function(a){a.isDefaultPrevented()||b.toggle()}),b._updateUI(e)},destroy:function(){this.wrapper.off(f).find("*").off(f),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,d.fn.destroy.call(this)},enable:function(c){var a=this,b=a.wrapper,d=b.children(".k-picker-wrap"),e=d.find(".k-select");0===arguments.length&&(c=!0),a.element.attr("disabled",!c),b.attr("aria-disabled",!c),e.off(f).on("mousedown"+f,u),b.addClass("k-state-disabled").removeAttr("tabIndex").add("*",b).off(f),c?b.removeClass("k-state-disabled").attr("tabIndex",a._tabIndex).on("mouseenter"+f,function(){d.addClass("k-state-hover")}).on("mouseleave"+f,function(){d.removeClass("k-state-hover")}).on("focus"+f,function(){d.addClass("k-state-focused")}).on("blur"+f,function(){d.removeClass("k-state-focused")}).on(q,v(a._keydown,a)).on(p,".k-select",v(a.toggle,a)).on(p,a.options.toolIcon?".k-tool-icon":".k-selected-color",function(){a.trigger("activate")}):a.close()},_template:a.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-icon k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"><span class="k-icon k-i-line" style="display: none;"></span></span># } #<span class="k-select" unselectable="on" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:e,opacity:!1,buttons:!0,preview:!0,clearButton:!1,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this.element.prop("disabled")||this._getPopup().open()},close:function(){var a=this._selector&&this._selector.options||{};a._closing=!0,this._getPopup().close(),delete a._closing},toggle:function(){this.element.prop("disabled")||this._getPopup().toggle()},_noColorIcon:function(){return this.wrapper.find(".k-picker-wrap > .k-selected-color > .k-icon.k-i-line")},color:b.fn.color,value:b.fn.value,_select:b.fn._select,_triggerSelect:b.fn._triggerSelect,_isInputTypeColor:function(){var a=this.element[0];return/^input$/i.test(a.tagName)&&/^color$/i.test(a.type)},_updateUI:function(b){var c="";b&&(c=this._isInputTypeColor()||1==b.a?b.toCss():b.toCssRgba(),this.element.val(c)),this._ariaTemplate||(this._ariaTemplate=a.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(c)),this._triggerSelect(b),this.wrapper.find(".k-selected-color").css(o,b?b.toDisplay():"#ffffff"),this._noColorIcon()[c?"hide":"show"]()},_keydown:function(a){var b=a.keyCode;this._getPopup().visible()?(b==n.ESC?this._selector._cancel():this._selector._keydown(a),u(a)):b!=n.ENTER&&b!=n.DOWN||(this.open(),u(a))},_getPopup:function(){var b=this,d=b._popup;if(!d){var f,c=b.options;f=c.palette?_:j,c._standalone=!1,delete c.select,delete c.change,delete c.cancel;var g=a.guid(),e=b._selector=new f(h('<div id="'+g+'"/>').appendTo(document.body),c);b.wrapper.attr("aria-owns",g),b._popup=d=e.wrapper.kendoPopup({anchor:b.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup"),e.element.find(".k-clear-color").kendoButton({icon:"reset-color",click:function(a){e.options._clearedColor=!0,b.value(null),b.element.val(null),b._updateUI(null),e._colorAsText.val(""),e._hsvHandle.css({top:"0px",left:"0px"}),e._selectedColor.css(o,"#ffffff"),b.trigger("change",{value:b.value()}),a.preventDefault()}}),e.bind({select:function(a){b._updateUI(l(a.value)),delete e.options._clearedColor},change:function(){e.options._clearedColor||b._select(e.color()),b.close()},cancel:function(){e.options._clearedColor&&!b.value()&&e.value()&&b._select(e.color(),!0),b.close()}}),d.bind({close:function(g){if(b.trigger("close"))g.preventDefault();else{b.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var c=e._selectOnHide(),d=e.value(),f=b.value(),a=e.options;c?a._clearedColor&&!f||b._select(c):(setTimeout(function(){b.wrapper&&!b.wrapper.is("[unselectable='on']")&&b.wrapper.focus()}),!a._closing&&a._clearedColor&&!f&&d?b._select(d,!0):b._updateUI(b.color()))}},open:function(a){b.trigger("open")?a.preventDefault():b.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){e._select(b.color(),!0),e.focus(),b.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return d}});function u(a){a.preventDefault()}function v(a,b){return function(){return a.apply(b,arguments)}}c.plugin(_),c.plugin(j),c.plugin(k)}(jQuery,parseInt),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.maskedtextbox",["kendo.core"],function(){return function(d,i){var j,b=window,k=b.Math.min,a=b.kendo,l=a.caret,m=a.keys,c=a.ui,e=c.Widget,f=".kendoMaskedTextBox",n=d.proxy,o=window.setTimeout,p="k-state-disabled",q="k-state-invalid",g="change",r="keydown",_=(a.support.propertyChangeEvent?"propertychange":"input")+f,h=e.extend({init:function(c,g){var h,b=this;e.fn.init.call(b,c,g),b._rules=d.extend({},b.rules,b.options.rules),h=(c=b.element)[0],b._wrapper(),b._tokenize(),b._form(),b.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+f,function(){var a=h.value;a?b._togglePrompt(!0):h.value=b._old=b._emptyMask,b._oldValue=a,b._timeoutId=o(function(){l(c,0,a?b._maskLength:0)})}).on("focusout"+f,function(){var a=c.val();clearTimeout(b._timeoutId),h.value=b._old="",a!==b._emptyMask&&(h.value=b._old=a),b._change(),b._togglePrompt()}),c.is("[disabled]")||d(b.element).parents("fieldset").is(":disabled")?b.enable(!1):b.readonly(c.is("[readonly]")),b.value(b.options.value||c.val()),b._validationIcon=d("<span class='k-icon k-i-warning'></span>").insertAfter(c),a.notify(b)},options:{name:"MaskedTextBox",clearPromptChar:!1,unmaskOnPost:!1,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[g],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(a){e.fn.setOptions.call(this,a),this._rules=d.extend({},this.rules,this.options.rules),this._tokenize(),this._unbindInput(),this._bindInput(),this.value(this.element.val())},destroy:function(){this.element.off(f),this._formElement&&(this._formElement.off("reset",this._resetHandler),this._formElement.off("submit",this._submitHandler)),e.fn.destroy.call(this)},raw:function(){return this._unmask(this.element.val(),0).replace(new RegExp(s(this.options.promptChar),"g"),"")},value:function(b){var c=this.element,d=this._emptyMask;return b===i?this.element.val():(null===b&&(b=""),d?(b=this._unmask(b+""),c.val(b?d:""),this._mask(0,this._maskLength,b),this._unmaskedValue=null,b=c.val(),this._oldValue=b,void(a._activeElement()!==c&&(b===d?c.val(""):this._togglePrompt()))):(this._oldValue=b,void c.val(b)))},_togglePrompt:function(c){var b=this.element[0],a=b.value;this.options.clearPromptChar&&(a=c?this._oldValue:a.replace(new RegExp(s(this.options.promptChar),"g")," "),b.value=this._old=a)},readonly:function(a){this._editable({readonly:a===i||a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===i||a)})},_bindInput:function(){var d,e;if(this._maskLength&&(this.options.$angular&&this.element.off("input"),this.element.on(r+f,n(this._keydown,this)).on("drop"+f,n(this._drop,this)).on(g+f,n(this._trackChange,this)).on(_,n(this._inputHandler,this)),a.support.browser.msie)){var b=a.support.browser.version;if(8<b&&b<11){var h,c=["mouseup"+f,"drop"+f,r+f,"paste"+f].join(" ");this.element.on(c,n(this._legacyIEInputHandler,this))}}},_unbindInput:function(){var b,a=[_,r+f,"mouseup"+f,"drop"+f,"paste"+f].join(" ");this.element.off(a)},_editable:function(b){var c=this.element,d=this.wrapper,a=b.disable,e=b.readonly;this._unbindInput(),e||a?(c.attr("disabled",a).attr("readonly",e),d.toggleClass(p,a)):(c.removeAttr("disabled").removeAttr("readonly"),d.removeClass(p),this._bindInput())},_change:function(){var a=this.value();a!==this._oldValue?(this._oldValue=a,this.trigger(g),this.element.trigger(g)):""===a&&this.__changing&&this.element.trigger(g)},inputChange:function(j){var b=this,h=b._old,f=b.element[0],d=f.value,g=l(f)[1],i=d.length-h.length,m=a.support.mobileOS;if(!(b.__dropping&&i<0)){-1==i&&m.android&&"chrome"===m.browser&&(j=!0);var c=k(g,function(c,b){for(var a=0;a<b.length&&c[a]===b[a];)a++;return a}(d,h)),o=d.substring(c,g);f.value=d.substring(0,c)+b._emptyMask.substring(c);var e=b._mask(c,g,o),n=b._trimStartPromptChars(d.substring(g),k(i,e-c)),p=b._unmask(n,h.length-n.length);b._mask(e,e,p),j&&(e=b._findCaretPosBackwards(c)),l(f,e),b.__dropping=!1}},_trimStartPromptChars:function(a,b){for(var c=this.options.promptChar;0<b--&&0===a.indexOf(c);)a=a.substring(1);return a},_findCaretPosBackwards:function(b){var a=this._find(b,!0);return a<b&&(a+=1),a},_inputHandler:function(){a._activeElement()===this.element[0]&&this.inputChange(this.__backward)},_legacyIEInputHandler:function(b){var a=this,c=a.element[0],e=c.value,d=b.type;a.__pasting="paste"===d,o(function(){"mouseup"===d&&a.__pasting||c.value&&c.value!==e&&a.inputChange(a.__backward)})},_trackChange:function(){var a=this;a.__changing=!0,o(function(){a.__changing=!1})},_form:function(){var a=this,c=a.element,e=c.attr("form"),b=e?d("#"+e):c.closest("form");b[0]&&(a._resetHandler=function(){o(function(){a.value(c[0].value)})},a._submitHandler=function(){a.element[0].value=a._old=a.raw()},a.options.unmaskOnPost&&b.on("submit",a._submitHandler),a._formElement=b.on("reset",a._resetHandler))},_keydown:function(b){var a=b.keyCode;this.__backward=a===m.BACKSPACE,a===m.ENTER&&this._change()},_drop:function(){this.__dropping=!0},_find:function(a,c){var d=this.element.val()||this._emptyMask,b=1;for(!0===c&&(b=-1);-1<a||a<=this._maskLength;){if(d.charAt(a)!==this.tokens[a])return a;a+=b}return -1},_mask:function(b,f,c,n){var j,g,k,d,h=this.element[0],e=h.value||this._emptyMask,o=this.options.promptChar,m=0;for(f<(b=this._find(b,n))&&(f=b),g=this._unmask(e.substring(f),f),j=(c=this._unmask(c,b)).length,c&&(g=g.replace(new RegExp("^_{0,"+j+"}"),"")),c+=g,e=e.split(""),k=c.charAt(m);b<this._maskLength;)e[b]=k||o,k=c.charAt(++m),d===i&&j<m&&(d=b),b=this._find(b+1);return h.value=this._old=e.join(""),a._activeElement()===h&&(d===i&&(d=this._maskLength),l(h,d)),d},_unmask:function(b,j){if(!b)return"";if(this._unmaskedValue===b)return this._unmaskedValue;b=(b+"").split("");for(var c,a,f=0,e=j||0,g=this.options.promptChar,i=b.length,k=this.tokens.length,h="";e<k&&((c=b[f])===(a=this.tokens[e])||c===g?(h+=c===g?g:"",f+=1,e+=1):"string"!=typeof a?(a&&a.test&&a.test(c)||d.isFunction(a)&&a(c)?(h+=c,e+=1):1===i&&this._blinkInvalidState(),f+=1):e+=1,!(i<=f)););return this._unmaskedValue=h},_wrapper:function(){var b=this.element,a=b[0],c=b.wrap("<span class='k-widget k-maskedtextbox'></span>").parent();c[0].style.cssText=a.style.cssText,a.style.width="100%",this.wrapper=c.addClass(a.className).removeClass("input-validation-error")},_blinkInvalidState:function(){this.wrapper.addClass(q),clearTimeout(this._invalidStateTimeout),this._invalidStateTimeout=o(n(this._removeInvalidState,this),100)},_removeInvalidState:function(){this.wrapper.removeClass(q),this._invalidStateTimeout=null},_tokenize:function(){for(var b,i,g=[],c=0,h=(this.options.mask||"").split(""),k=h.length,d=0,e="",l=this.options.promptChar,j=a.getCulture(this.options.culture).numberFormat,m=this._rules;d<k;d++)if(i=m[b=h[d]])g[c]=i,e+=l,c+=1;else{"."===b||","===b?b=j[b]:"$"===b?b=j.currency.symbol:"\\"===b&&(b=h[d+=1]);for(var f=0,n=(b=b.split("")).length;f<n;f++)g[c]=b[f],e+=b[f],c+=1}this.tokens=g,this._emptyMask=e,this._maskLength=e.length}});function s(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}c.plugin(h)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.multiselect",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){var b,C,a,d,e,j,k,l,m,_,n,o,f,g,h,p,q,r,s,t,u,v,c,w,x,y,z,A,B,i;return b=window.kendo.jQuery,a=window.kendo,d=a.ui,e=d.List,j=b.extend({A:65},a.keys),k=a._activeElement,l=a.data.ObservableArray,m=b.proxy,_="accept",n="filter",o="rebind",f="change",g="select",h="deselect",p="aria-disabled",q="k-state-focused",r="k-state-selected",s="k-hidden",t="k-state-hover",u="k-state-disabled",v="k-no-click",c=".kendoMultiSelect",w="click"+c,x="mouseenter"+c,y="mouseleave"+c,z=/"/g,A=b.isArray,B=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],i=e.extend({init:function(h,f){var g,d=this;d.ns=c,e.fn.init.call(d,h,f),d._optionsMap={},d._customOptions={},d._wrapper(),d._tagList(),d._input(),d._textContainer(),d._loader(),d._clearButton(),d._tabindex(d.input),h=d.element.attr("multiple","multiple").hide(),(f=d.options).placeholder||(f.placeholder=h.data("placeholder")),(g=h.attr("id"))&&(d._tagID=g+"_tag_active",g+="_taglist",d.tagList.attr("id",g),d.input.attr("aria-describedby",g)),d._initialOpen=!0,d._ariaLabel(),d._ariaSetLive(),d._dataSource(),d._ignoreCase(),d._popup(),d._tagTemplate(),d.requireValueMapper(d.options),d._initList(),d._reset(),d._enable(),d._placeholder(),f.autoBind?d.dataSource.fetch():f.value&&d._preselect(f.value),b(d.element).parents("fieldset").is(":disabled")&&d.enable(!1),d._ariaSetSize(d.value().length),a.notify(d),d._toggleCloseVisibility()},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:1,messages:{singleTag:"item(s) selected",clear:"clear",deleteTag:"delete",noData:"No data found."},enforceMinLength:!1,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,autoWidth:!1,popup:null},events:["open","close",f,g,h,"filtering","dataBinding","dataBound"],setDataSource:function(a){this.options.dataSource=a,this._state="",this._dataSource(),this.persistTagList=!1,this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(a){var b=this._listOptions(a);e.fn.setOptions.call(this,a),this.listView.setOptions(b),this._accessors(),this._aria(this.tagList.attr("id")),this._tagTemplate(),this._placeholder(),this._clearButton()},currentTag:function(a){if(a===C)return this._currentTag;this._currentTag&&(this._currentTag.removeClass(q).removeAttr("id"),this._currentTag.find(".k-select").attr("aria-hidden",!0),this.input.removeAttr("aria-activedescendant")),a&&(a.addClass(q).attr("id",this._tagID),a.find(".k-select").removeAttr("aria-hidden"),this.input.attr("aria-activedescendant",this._tagID)),this._currentTag=a},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var a=this.ns;clearTimeout(this._busy),clearTimeout(this._typingTimeout),this.wrapper.off(a),this.tagList.off(a),this.input.off(a),this._clear.off(a),e.fn.destroy.call(this)},_activateItem:function(){this.popup.visible()&&e.fn._activateItem.call(this),this.currentTag(null)},_listOptions:function(f){var c=e.fn._listOptions.call(this,b.extend(f,{selectedItemChange:m(this._selectedItemChange,this),selectable:"multiple"})),g=this.options.itemTemplate||this.options.template,d=c.itemTemplate||g||c.template;return d=d||"#:"+a.expr(c.dataTextField,"data")+"#",c.template=d,c},_setListValue:function(){e.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(a){var c=this.dataSource.flatView(),d=this._optionsMap,e=this._value;this._state===o&&(this._state="");for(var b=0;b<a.added.length;b++)if(d[e(a.added[b].dataItem)]===C){this._render(c);break}this._selectValue(a.added,a.removed)},_selectedItemChange:function(d){var b,a,c=d.items;for(a=0;a<c.length;a++)b=c[a],this.tagList.children().eq(b.index).children("span:first").html(this.tagTextTemplate(b.item))},_wrapperMousedown:function(c){var f="input"!==c.target.nodeName.toLowerCase(),e=b(c.target),d=e.hasClass("k-select")||e.hasClass("k-icon");d=d&&!e.closest(".k-select").children(".k-i-arrow-60-down").length,!f||d&&a.support.mobileOS||!c.cancelable||c.preventDefault(),d||(this.input[0]!==k()&&f&&this.input.focus(),1===this.options.minLength&&this.open())},_inputFocus:function(){this._placeholder(!1),this.wrapper.addClass(q)},_inputFocusout:function(){var a=this;clearTimeout(a._typingTimeout),a.wrapper.removeClass(q),a._placeholder(!a.listView.selectedDataItems()[0],!0),a.close(),a._state===n&&(a._state=_,a.listView.skipUpdate(!0)),a.listView.bound()&&a.listView.isFiltered()&&(a.persistTagList=!0,a._clearFilter()),a.element.blur()},_removeTag:function(e,m){var f,a=this,g=a._state,d=e.index(),b=a.listView,i=b.value()[d],l=a.listView.selectedDataItems()[d],c=a._customOptions[i],j=b.element[0].children;if(a.trigger(h,{dataItem:l,item:e}))a._close();else{function k(){a.currentTag(null),m&&a._change(),a._close()}c!==C||g!==_&&g!==n||(c=a._optionsMap[i]),c===C&&b.select().length?(a.persistTagList=!1,b.select(b.select()[d]).done(k)):((f=a.element[0].children[c])&&(f.selected=!1),b.removeAt(d),j[c]&&j[c].classList.remove("k-state-selected"),"single"!==a.options.tagMode?e.remove():a._updateTagListHTML(),k())}},_tagListClick:function(a){a.preventDefault(),a.stopPropagation();var c=b(a.currentTarget);c.children(".k-i-arrow-60-down").length||this._removeTag(c.closest("li"),!0)},_clearValue:function(){var a=this;"single"===a.options.tagMode?a._clearSingleTagValue():a.tagList.children().each(function(d,c){a._removeTag(b(c),!1)}),a.input.val(""),a._search(),a._change(),a.focus(),a._hideClear(),a._state===n&&(a._state=_)},_clearSingleTagValue:function(){for(var b=this.dataItems(),d=this.tagList.children(),c=this.persistTagList,a=0;a<b.length;a+=1)if(this.trigger(h,{dataItem:b[a],item:d.first()}))return void this._close();c&&(this.persistTagList=!1),this.listView.value([]),this.persistTagList=c},_focusHandler:function(){this.input.focus()},_editable:function(e){var a=e.disable,d=e.readonly,f=this.wrapper.off(c),h=this.tagList.off(c),g=this.element.add(this.input.off(c));d||a?(f.toggleClass(u,a).toggleClass(v,d),g.attr("disabled",a).attr("readonly",d).attr(p,a)):(f.removeClass(u).removeClass(v).on("mouseenter.kendoMultiSelect mouseleave.kendoMultiSelect",this._toggleHover).on("mousedown"+c+" touchend"+c,m(this._wrapperMousedown,this)).on(w,m(this._focusHandler,this)),this.input.on("keydown.kendoMultiSelect",m(this._keydown,this)).on("paste"+c,m(this._search,this)).on("input"+c,m(this._search,this)).on("focus"+c,m(this._inputFocus,this)).on("focusout"+c,m(this._inputFocusout,this)),this._clear.on(w+" touchend"+c,m(this._clearValue,this)),g.removeAttr("disabled").removeAttr("readonly").attr(p,!1),h.on(x,"li",function(){b(this).addClass(t)}).on(y,"li",function(){b(this).removeClass(t)}).on(w+" touchend"+c,"li.k-button .k-select",m(this._tagListClick,this)))},_close:function(){this.options.autoClose?this.close():this.popup.position()},_filterSource:function(b,a){a=a||this._retrieveData,this._retrieveData=!1,e.fn._filterSource.call(this,b,a)},close:function(){this._activeItem=null,this.input.removeAttr("aria-activedescendant"),this.popup.close()},open:function(){var a=this;a._request&&(a._retrieveData=!1),a._retrieveData||!a.listView.bound()||a._state===_?(a._open=!0,a._state=o,a.listView.skipUpdate(!0),a.persistTagList=!(a._initialOpen&&!a.listView.bound()),a._filterSource(),a._focusItem()):a._allowOpening()&&(!a._initialOpen||a.options.autoBind||a.options.virtual||!a.options.value||b.isPlainObject(a.options.value[0])||a.value(a.value()||a._initialValues),a.popup._hovered=!0,a._initialOpen=!1,a.popup.open(),a._focusItem())},toggle:function(a){this[(a=a!==C?a:!this.popup.visible())?"open":"close"]()},refresh:function(){this.listView.refresh()},_listBound:function(){var a=this,b=a.dataSource.flatView(),c=a.listView.skip();a._render(b),a._renderFooter(),a._renderNoData(),a._toggleNoData(!b.length),a._resizePopup(),a._open&&(a._open=!1,a.toggle(a._allowOpening())),a.popup.position(),a.options.highlightFirst&&(c===C||0===c)&&a.listView.focusFirst(),a._touchScroller&&a._touchScroller.reset(),a._hideBusy(),a._makeUnselectable(),a.trigger("dataBound")},_inputValue:function(){var a=this.input.val();return this.options.placeholder===a&&(a=""),a},value:function(b){var a=this,c=a.listView,f=c.value().slice(),d=a.options.maxSelectedItems,e=c.bound()&&c.isFiltered();if(b===C)return f;a.persistTagList=!1,a.requireValueMapper(a.options,b),b=a._normalizeValues(b),null!==d&&b.length>d&&(b=b.slice(0,d)),e&&a._clearFilter(),c.value(b),a._old=a._valueBeforeCascade=b.slice(),e||a._fetchData(),a._ariaSetSize(a.value().length),a._toggleCloseVisibility()},_preselect:function(c,d){A(c)||c instanceof a.data.ObservableArray||(c=[c]),(b.isPlainObject(c[0])||c[0]instanceof a.data.ObservableObject||!this.options.dataValueField)&&(this.dataSource.data(c),this.value(d||this._initialValues),this._retrieveData=!0)},_setOption:function(b,c){var a=this.element[0].children[this._optionsMap[b]];a&&(a.selected=c)},_fetchData:function(){var a=this,b=!!a.dataSource.view().length;0===a.listView.value().length||a._request|| !a._retrieveData&&(a._fetch||b)||(a._fetch=!0,a._retrieveData=!1,a.dataSource.read().done(function(){a._fetch=!1}))},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var b=this,e=b.element,d=b.options,c=d.dataSource||{};(c=A(c)?{data:c}:c).select=e,c.fields=[{field:d.dataTextField},{field:d.dataValueField}],b.dataSource&&b._refreshHandler?b._unbindDataSource():(b._progressHandler=m(b._showBusy,b),b._errorHandler=m(b._hideBusy,b)),b.dataSource=a.data.DataSource.create(c).bind("progress",b._progressHandler).bind("error",b._errorHandler)},_reset:function(){var a=this,c=a.element,d=c.attr("form"),e=d?b("#"+d):c.closest("form");e[0]&&(a._resetHandler=function(){setTimeout(function(){a.value(a._initialValues),a._placeholder()})},a._form=e.on("reset",a._resetHandler))},_initValue:function(){var a=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(a)},_normalizeValues:function(a){var c=this;return null===a?a=[]:a&&b.isPlainObject(a)?a=[c._value(a)]:a&&b.isPlainObject(a[0])?a=b.map(a,function(a){return c._value(a)}):A(a)||a instanceof l?A(a)&&(a=a.slice()):a=[a],a},_change:function(){var a=this.value();!function(a,b){var c;if((null!==a||null===b)&&(null===a||null!==b)&&(c=a.length)===b.length){for(;c--;)if(a[c]!==b[c])return;return 1}}(a,this._old)&&(this._old=a.slice(),this.trigger(f),this.element.trigger(f)),this.popup.position(),this._ariaSetSize(a.length),this._toggleCloseVisibility()},_click:function(a){var b=this,c=a.item;a.preventDefault(),b._select(c).done(function(){b._activeItem=c,b._change(),b._close()})},_getActiveItem:function(){return this._activeItem||b(this.listView.items()[this._getSelectedIndices().length-1])||this.listView.focus()},_getSelectedIndices:function(){return this.listView._selectedIndices||this.listView._selectedIndexes},_keydown:function(e){var k,c=this,f=e.keyCode,g=c._currentTag,d=c.listView,i=c.input.val(),l=a.support.isRtl(c.wrapper),h=c.popup.visible(),m=0;if(f!==j.ENTER&&(this._multipleSelection=!1),f===j.DOWN){if(e.preventDefault(),!h)return c.open(),void(d.focus()||d.focusFirst());d.focus()?(!c._activeItem&&e.shiftKey&&(c._activeItem=d.focus(),m=-1),k=d.getElementIndex(c._getActiveItem().first()),d.focusNext(),d.focus()?e.shiftKey&&(this._multipleSelection=!0,c._selectRange(k,d.getElementIndex(d.focus().first())+m)):d.focusLast()):d.focusFirst()}else if(f===j.UP)h&&(!c._activeItem&&e.shiftKey&&(c._activeItem=d.focus(),m=1),k=d.getElementIndex(c._getActiveItem().first()),d.focusPrev(),d.focus()?e.shiftKey&&(this._multipleSelection=!0,c._selectRange(k,d.getElementIndex(d.focus().first())+m)):c.close()),e.preventDefault();else if(f===j.LEFT&&!l||f===j.RIGHT&&l)i||(g=g?g.prev():b(c.tagList[0].lastChild))[0]&&c.currentTag(g);else if(f===j.RIGHT&&!l||f===j.LEFT&&l)!i&&g&&(g=g.next(),c.currentTag(g[0]?g:null));else if(e.ctrlKey&&!e.altKey&&f===j.A&&h&&!c.options.virtual)this._multipleSelection=!0,this._getSelectedIndices().length===d.items().length&&(c._activeItem=null),d.items().length&&c._selectRange(0,d.items().length-1);else if(f===j.ENTER&&h){if(!d.focus())return;if(e.preventDefault(),this._multipleSelection&&(this._multipleSelection=!1,d.focus().hasClass(r)))return void c._close();c._select(d.focus()).done(function(){c._change(),c._close()})}else if(f===j.SPACEBAR&&e.ctrlKey&&h)c._activeItem&&d.focus()&&d.focus()[0]===c._activeItem[0]&&(c._activeItem=null),b(d.focus()).hasClass(r)||(c._activeItem=d.focus()),c._select(d.focus()).done(function(){c._change()}),e.preventDefault();else if(f===j.SPACEBAR&&e.shiftKey&&h){var n=d.getElementIndex(c._getActiveItem()),o=d.getElementIndex(d.focus());n!==C&&o!==C&&c._selectRange(n,o),e.preventDefault()}else if(f===j.ESC)h?e.preventDefault():(c.tagList.children().each(function(d,a){c._removeTag(b(a),!1)}),c._change()),c.close();else if(f===j.HOME)h?d.focus()?(e.ctrlKey&&e.shiftKey&&!c.options.virtual&&c._selectRange(d.getElementIndex(d.focus()[0]),0),d.focusFirst()):c.close():i||(g=c.tagList[0].firstChild)&&c.currentTag(b(g));else if(f===j.END)h?d.focus()?(e.ctrlKey&&e.shiftKey&&!c.options.virtual&&c._selectRange(d.getElementIndex(d.focus()[0]),d.element.children().length-1),d.focusLast()):c.close():i||(g=c.tagList[0].lastChild)&&c.currentTag(b(g));else if(f!==j.DELETE&&f!==j.BACKSPACE||i){if(c.popup.visible()&&(f===j.PAGEDOWN||f===j.PAGEUP)){e.preventDefault();var p=f===j.PAGEDOWN?1:-1;d.scrollWith(p*d.screenHeight())}else clearTimeout(c._typingTimeout),setTimeout(function(){c._scale()}),c._search()}else{if(c._state=_,"single"===c.options.tagMode)return c._clearSingleTagValue(),c._change(),void c._close();f!==j.BACKSPACE||g||(g=b(c.tagList[0].lastChild)),g&&g[0]&&c._removeTag(g,!0)}},_hideBusy:function(){clearTimeout(this._busy),this.input.attr("aria-busy",!1),this._loading.addClass(s),this._request=!1,this._busy=null,this._toggleCloseVisibility()},_showBusyHandler:function(){this.input.attr("aria-busy",!0),this._loading.removeClass(s),this._hideClear()},_showBusy:function(){this._request=!0,this._busy||(this._busy=setTimeout(m(this._showBusyHandler,this),100))},_placeholder:function(b,i){var c=this.input,f=k(),g=this.options.placeholder,d=c.val(),h=c[0]===f,e=d.length;h&&!this.options.autoClose&&d!==g||(e=0,d=""),b===C&&(b=!1,c[0]!==f&&(b=!this.listView.selectedDataItems()[0])),this._prev=d,c.toggleClass("k-readonly",b).val(b?g:d),h&&!i&&a.caret(c[0],e,e),this._scale()},_scale:function(){var a,c=this.wrapper.find(".k-multiselect-wrap"),d=c.width(),b=this._span.text(this.input.val());c.is(":visible")?a=b.width()+25:(b.appendTo(document.documentElement),d=a=b.width()+25,b.appendTo(c)),this.input.width(d<a?d:a)},_option:function(b,d,e){var c="<option";return b!==C&&(-1!==(b+="").indexOf('"')&&(b=b.replace(z,"&quot;")),c+=' value="'+b+'"'),e&&(c+=" selected"),c+=">",d!==C&&(c+=a.htmlEncode(d)),c+"</option>"},_render:function(i){var f,d,b,a,c=this.listView.selectedDataItems(),j=this.listView.value(),e=i.length,g="";j.length!==c.length&&(c=this._buildSelectedItems(j));var k={},h={};for(a=0;a<e;a++)d=i[a],b=this._value(d),-1!==(f=this._selectedItemIndex(b,c))&&c.splice(f,1),h[b]=a,g+=this._option(b,this._text(d),-1!==f);if(c.length)for(a=0;a<c.length;a++)d=c[a],k[b=this._value(d)]=e,h[b]=e,e+=1,g+=this._option(b,this._text(d),!0);this._customOptions=k,this._optionsMap=h,this.element.html(g)},_buildSelectedItems:function(b){for(var c,e=this.options.dataValueField,f=this.options.dataTextField,d=[],a=0;a<b.length;a++)(c={})[e]=b[a],c[f]=b[a],d.push(c);return d},_selectedItemIndex:function(c,b){for(var d=this._value,a=0;a<b.length;a++)if(c===d(b[a]))return a;return -1},_search:function(){var a=this;clearTimeout(a._typingTimeout),a._typingTimeout=setTimeout(function(){var b=a._inputValue();a._prev!==b&&(a._prev=b,a.search(b),a._toggleCloseVisibility())},a.options.delay)},_toggleCloseVisibility:function(){this.value().length||this.input.val()&&this.input.val()!==this.options.placeholder?this._showClear():this._hideClear()},_allowOpening:function(){return this._allowSelection()&&e.fn._allowOpening.call(this)},_allowSelection:function(){var a=this.options.maxSelectedItems;return null===a||a>this.listView.value().length},_angularTagItems:function(a){var c=this;c.angular(a,function(){return{elements:c.tagList[0].children,data:b.map(c.dataItems(),function(a){return{dataItem:a}})}})},updatePersistTagList:function(a,b){this.persistTagList.added&&this.persistTagList.added.length===b.length&&this.persistTagList.removed&&this.persistTagList.removed.length===a.length?this.persistTagList=!1:(this.listView._removedAddedIndexes=this._old.slice(),this.persistTagList={added:a,removed:b})},_selectValue:function(c,d){var g,h,a,b=this,i=b.dataSource.total(),e=b.tagList,f=b._value;if(this.persistTagList)this.updatePersistTagList(c,d);else{if(b._angularTagItems("cleanup"),"multiple"===b.options.tagMode){for(a=d.length-1;-1<a;a--)g=d[a],e.children().length&&(e[0].removeChild(e[0].children[g.position]),b._setOption(f(g.dataItem),!1));for(a=0;a<c.length;a++)h=c[a],e.append(b.tagTemplate(h.dataItem)),b._setOption(f(h.dataItem),!0)}else{for((!b._maxTotal||b._maxTotal<i)&&(b._maxTotal=i),this._updateTagListHTML(),a=d.length-1;-1<a;a--)b._setOption(f(d[a].dataItem),!1);for(a=0;a<c.length;a++)b._setOption(f(c[a].dataItem),!0)}b._angularTagItems("compile"),b._placeholder()}},_updateTagListHTML:function(){var a=this.value(),c=this.dataSource.total(),b=this.tagList;b.html(""),a.length&&b.append(this.tagTemplate({values:a,dataItems:this.dataItems(),maxTotal:this._maxTotal,currentTotal:c}))},_select:function(c){var d=b.Deferred().resolve();if(!c)return d;var a=this,e=a.listView,i=e.dataItemByIndex(e.getElementIndex(c)),f=c.hasClass("k-state-selected");return a._state===o&&(a._state=""),a._allowSelection()||f?a.trigger(f?h:g,{dataItem:i,item:c})?(a._close(),d):(a.persistTagList=!1,e.select(c).done(function(){a._placeholder(),a._state===n&&(a._state=_,e.skipUpdate(!0))})):d},_selectRange:function(e,f){function k(a){m.select(a).done(function(){a.forEach(function(a){var d=m.dataItemByIndex(a),c=m.element.children()[a],e=b(c).hasClass("k-state-selected");l.trigger(e?g:h,{dataItem:d,item:b(c)})}),l._change()})}var a,l=this,m=this.listView,i=this.options.maxSelectedItems,c=this._getSelectedIndices().slice(),d=[];if(c.length-1==f-e)return k(c);if(e<f)for(a=e;a<=f;a++)d.push(a);else for(a=e;f<=a;a--)d.push(a);for(null!==i&&d.length>i&&(d=d.slice(0,i)),a=0;a<d.length;a++){var j=d[a];-1==this._getSelectedIndices().indexOf(j)?c.push(j):c.splice(c.indexOf(j),1)}return c.length?(l.persistTagList=!1,k(c)):void 0},_input:function(){var a=this.element,d=a[0].accessKey,c=this._innerWrapper.children("input.k-input");c[0]||(c=b('<input class="k-input" style="width: 25px" />').appendTo(this._innerWrapper)),a.removeAttr("accesskey"),this._focused=this.input=c.attr({accesskey:d,autocomplete:"off",role:"listbox",title:a[0].title,"aria-expanded":!1,"aria-haspopup":"listbox","aria-autocomplete":"list"})},_tagList:function(){var a=this._innerWrapper.children("ul");a[0]||(a=b('<ul unselectable="on" class="k-reset"/>').appendTo(this._innerWrapper)),this.tagList=a},_tagTemplate:function(){var e,c=this,b=c.options,d=b.tagTemplate,f=b.dataSource,g="multiple"===b.tagMode,h=b.messages.singleTag;c.element[0].length&&!f&&(b.dataTextField=b.dataTextField||"text",b.dataValueField=b.dataValueField||"value"),e=g?a.template("#:"+a.expr(b.dataTextField,"data")+"#",{useWithBlock:!1}):a.template("#:values.length# "+h),c.tagTextTemplate=d=d?a.template(d):e,c.tagTemplate=function(a){return'<li role="option" aria-selected="true" class="k-button" unselectable="on"><span unselectable="on">'+d(a)+'</span><span aria-hidden="true" unselectable="on" aria-label="'+(g?'delete" title="'+c.options.messages.deleteTag+'" aria-label="'+c.options.messages.deleteTag:"open")+'" class="k-select"><span class="k-icon '+(g?"k-i-close":"k-i-arrow-60-down")+'"></span></span></li>'}},_loader:function(){this._loading=b('<span class="k-icon k-i-loading '+s+'"></span>').insertAfter(this.input)},_clearButton:function(){e.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-multiselect-clearable"))},_textContainer:function(){var c=a.getComputedStyles(this.input[0],B);c.position="absolute",c.visibility="hidden",c.top=-3333,c.left=-3333,this._span=b("<span/>").css(c).appendTo(this.wrapper)},_wrapper:function(){var a=this.element,c=a.parent("span.k-multiselect");c[0]||((c=a.wrap('<div class="k-widget k-multiselect" unselectable="on" />').parent())[0].style.cssText=a[0].style.cssText,c[0].title=a[0].title,b('<div class="k-multiselect-wrap k-floatwrap" role="listbox" unselectable="on" />').insertBefore(a)),this.wrapper=c.addClass(a[0].className).removeClass("input-validation-error").css("display",""),this._innerWrapper=b(c[0].firstChild)},_ariaSetSize:function(a){var b=this.tagList.children();a&&b.length&&b.attr("aria-setsize",a)},_ariaSetLive:function(){this.ul.attr("aria-live",this._isFilterEnabled()?"polite":"off")}}),d.plugin(i),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.numerictextbox",["kendo.core","kendo.userevents"],function(){return function(b,h){var a=window.kendo,i=a.caret,j=a.keys,c=a.ui,d=c.Widget,k=a._activeElement,l=a._extractFormat,m=a.parseFloat,n=a.support.placeholder,o=a.getCulture,e="change",f=".kendoNumericTextBox",p="mouseenter"+f+" mouseleave.kendoNumericTextBox",q="k-state-default",r="k-state-focused",_="k-state-hover",s="k-icon",t="k-state-selected",u="k-state-disabled",v="k-state-invalid",w="aria-disabled",x=/^(-)?(\d*)$/,y=b.proxy,z=b.extend,g=d.extend({init:function(g,e){var i,j,k,m,n,c=this,o=e&&e.step!==h;d.fn.init.call(c,g,e),e=c.options,g=c.element.on("focusout"+f,y(c._focusout,c)).attr("role","spinbutton"),e.placeholder=e.placeholder||g.attr("placeholder"),i=c.min(g.attr("min")),j=c.max(g.attr("max")),k=c._parse(g.attr("step")),null===e.min&&null!==i&&(e.min=i),null===e.max&&null!==j&&(e.max=j),o||null===k||(e.step=k),c._initialOptions=z({},e),n=g.attr("type"),c._reset(),c._wrapper(),c._arrows(),c._validation(),c._input(),a.support.mobileOS?c._text.on("touchend"+f+" focus"+f,function(){a.support.browser.edge?c._text.one("focus"+f,function(){c._toggleText(!1),g.focus()}):(c._toggleText(!1),g.focus())}):c._text.on("focus"+f,y(c._click,c)),g.attr("aria-valuemin",null!==e.min?e.min*e.factor:e.min).attr("aria-valuemax",null!==e.max?e.max*e.factor:e.max),e.format=l(e.format),null==(m=e.value)&&(m="number"==n?parseFloat(g.val()):g.val()),c.value(m),g.is("[disabled]")||b(c.element).parents("fieldset").is(":disabled")?c.enable(!1):c.readonly(g.is("[readonly]")),c.angular("compile",function(){return{elements:c._text.get()}}),a.notify(c)},options:{name:"NumericTextBox",decimals:null,restrictDecimals:!1,min:null,max:null,value:null,step:1,round:!0,culture:"",format:"n",spinners:!0,placeholder:"",factor:1,upArrowText:"Increase value",downArrowText:"Decrease value"},events:[e,"spin"],_editable:function(c){var a=this,d=a.element,b=c.disable,e=c.readonly,g=a._text.add(d),h=a._inputWrapper.off(p);a._toggleText(!0),a._upArrowEventHandler.unbind("press"),a._downArrowEventHandler.unbind("press"),d.off("keydown"+f).off("keyup"+f).off("input"+f).off("paste"+f),e||b?(h.addClass(b?u:q).removeClass(b?q:u),g.attr("disabled",b).attr("readonly",e).attr(w,b)):(h.addClass(q).removeClass(u).on(p,a._toggleHover),g.removeAttr("disabled").removeAttr("readonly").attr(w,!1),a._upArrowEventHandler.bind("press",function(b){b.preventDefault(),a._spin(1),a._upArrow.addClass(t)}),a._downArrowEventHandler.bind("press",function(b){b.preventDefault(),a._spin(-1),a._downArrow.addClass(t)}),a.element.on("keydown"+f,y(a._keydown,a)).on("keyup"+f,y(a._keyup,a)).on("paste"+f,y(a._paste,a)).on("input"+f,y(a._inputHandler,a)))},readonly:function(a){this._editable({readonly:a===h||a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===h||a)})},setOptions:function(b){var a=this;d.fn.setOptions.call(a,b),a._arrowsWrap.toggle(a.options.spinners),a._inputWrapper.toggleClass("k-expand-padding",!a.options.spinners),a._text.prop("placeholder",a.options.placeholder),a._placeholder(a.options.placeholder),a.element.attr({"aria-valuemin":null!==a.options.min?a.options.min*a.options.factor:a.options.min,"aria-valuemax":null!==a.options.max?a.options.max*a.options.factor:a.options.max}),a.options.format=l(a.options.format),b.value!==h&&a.value(b.value)},destroy:function(){this.element.add(this._text).add(this._upArrow).add(this._downArrow).add(this._inputWrapper).off(f),this._upArrowEventHandler.destroy(),this._downArrowEventHandler.destroy(),this._form&&this._form.off("reset",this._resetHandler),d.fn.destroy.call(this)},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},step:function(a){return this._option("step",a)},value:function(a){if(a===h)return this._value;(a=this._parse(a))===this._adjust(a)&&(this._update(a),this._old=this._value)},focus:function(){this._focusin()},_adjust:function(a){var d=this.options,b=d.min,c=d.max;return null===a||(null!==b&&a<b?a=b:null!==c&&c<a&&(a=c)),a},_arrows:function(){function f(){clearTimeout(c._spinning),d.removeClass(t)}var d,c=this,e=c.options,g=e.spinners,h=c.element;(d=h.siblings("."+s))[0]||(d=b(A("increase",e.upArrowText)+A("decrease",e.downArrowText)).insertAfter(h),c._arrowsWrap=d.wrapAll('<span class="k-select"/>').parent()),g||(d.parent().toggle(g),c._inputWrapper.addClass("k-expand-padding")),c._upArrow=d.eq(0),c._upArrowEventHandler=new a.UserEvents(c._upArrow,{release:f}),c._downArrow=d.eq(1),c._downArrowEventHandler=new a.UserEvents(c._downArrow,{release:f})},_validation:function(){var a=this.element;this._validationIcon=b("<span class='k-icon k-i-warning'></span>").hide().insertAfter(a)},_blur:function(){this._toggleText(!0),this._change(this.element.val())},_click:function(b){var a=this;clearTimeout(a._focusing),a._focusing=setTimeout(function(){var c,g,d,h=b.target,l=i(h)[0],j=h.value.substring(0,l),k=a._format(a.options.format),e=k[","],f=0;e&&(g=new RegExp("\\"+e,"g"),d=new RegExp("(^(-)$)|(^(-)?([\\d\\"+e+"]+)(\\"+k["."]+")?(\\d+)?)")),d&&(c=d.exec(j)),c&&(f=c[0].replace(g,"").length,-1!=j.indexOf("(")&&a._value<0&&f++),a._focusin(),i(a.element[0],f)})},_change:function(b){var c=this.options.factor;c&&1!==c&&null!==(b=a.parseFloat(b))&&(b/=c),this._update(b),b=this._value,this._old!=b&&(this._old=b,this._typing||this.element.trigger(e),this.trigger(e)),this._typing=!1},_culture:function(a){return a||o(this.options.culture)},_focusin:function(){this._inputWrapper.addClass(r),this._toggleText(!1),this.element[0].focus()},_focusout:function(){clearTimeout(this._focusing),this._inputWrapper.removeClass(r).removeClass(_),this._blur(),this._removeInvalidState()},_format:function(b,c){var a=this._culture(c).numberFormat;return -1<(b=b.toLowerCase()).indexOf("c")?a=a.currency:-1<b.indexOf("p")&&(a=a.percent),a},_input:function(){var d,a=this.options,e="k-formatted-value",c=this.element.addClass("k-input").show()[0],f=c.accessKey;(d=this.wrapper.find("."+e))[0]||(d=b('<input type="text"/>').insertBefore(c).addClass(e));try{c.setAttribute("type","text")}catch(g){c.type="text"}d[0].title=c.title,d[0].tabIndex=c.tabIndex,d[0].style.cssText=c.style.cssText,d.prop("placeholder",a.placeholder),f&&(d.attr("accesskey",f),c.accessKey=""),this._text=d.addClass(c.className).attr({role:"spinbutton","aria-valuemin":null!==a.min?a.min*a.factor:a.min,"aria-valuemax":null!==a.max?a.max*a.factor:a.max,autocomplete:"off"})},_keydown:function(b){var a=b.keyCode;a!=j.DOWN?a!=j.UP?a!=j.ENTER?(a!=j.TAB&&(this._typing=!0),this._cachedCaret=i(this.element)):this._change(this.element.val()):this._step(1):this._step(-1)},_keyup:function(){this._removeInvalidState()},_inputHandler:function(){var a=this.element,b=a.val(),c=this._format(this.options.format);this._numericRegex(c).test(b)?this._oldText=b:(this._blinkInvalidState(),this.element.val(this._oldText),this._cachedCaret&&(i(a,this._cachedCaret[0]),this._cachedCaret=null))},_blinkInvalidState:function(){this._addInvalidState(),clearTimeout(this._invalidStateTimeout),this._invalidStateTimeout=setTimeout(y(this._removeInvalidState,this),100)},_addInvalidState:function(){this._inputWrapper.addClass(v),this._validationIcon.show()},_removeInvalidState:function(){this._inputWrapper.removeClass(v),this._validationIcon.hide(),this._invalidStateTimeout=null},_numericRegex:function(d){var a=d["."],b=this.options.decimals,c="*";return"."===a&&(a="\\"+a),null===b&&(b=d.decimals),0===b&&this.options.restrictDecimals?x:(this.options.restrictDecimals&&(c="{0,"+b+"}"),this._separator!==a&&(this._separator=a,this._floatRegExp=new RegExp("^(-)?(((\\d+("+a+"\\d"+c+")?)|("+a+"\\d"+c+")))?$")),this._floatRegExp)},_paste:function(b){var a=this,c=b.target,d=c.value,e=a._format(a.options.format);setTimeout(function(){var b=a._parse(c.value);null===b?a._update(d):(c.value=b.toString().replace(".",e["."]),a._adjust(b)===b&&a._numericRegex(e).test(c.value)||a._update(d))})},_option:function(b,a){var c=this.element,d=this.options;if(a===h)return d[b];((a=this._parse(a))||"step"!==b)&&(d[b]=a,c.add(this._text).attr("aria-value"+b,a),c.attr(b,a))},_spin:function(c,a){var b=this;a=a||500,clearTimeout(b._spinning),b._spinning=setTimeout(function(){b._spin(c,50)},a),b._step(c)},_step:function(d){var a=this,c=a.element,e=a._value,b=a._parse(c.val())||0,f=a.options.decimals||2;k()!=c[0]&&a._focusin(),a.options.factor&&b&&(b/=a.options.factor),b=+(b+a.options.step*d).toFixed(f),b=a._adjust(b),a._update(b),a._typing=!1,e!==b&&a.trigger("spin")},_toggleHover:function(a){b(a.currentTarget).toggleClass(_,"mouseenter"===a.type)},_toggleText:function(a){this._text.toggle(a),this.element.toggle(!a)},_parse:function(a,b){return m(a,this._culture(b),this.options.format)},_round:function(b,c){return(this.options.round?a._round:B)(b,c)},_update:function(b){var g,c=this,e=c.options,h=e.factor,i=e.format,d=e.decimals,f=c._culture(),j=c._format(i,f);null===d&&(d=j.decimals),(g=null!==(b=c._parse(b,f)))&&(b=parseFloat(c._round(b,d),10)),c._value=b=c._adjust(b),c._placeholder(a.toString(b,i,f)),b=g?(h&&(b=parseFloat(c._round(b*h,d),10)),-1!==(b=b.toString()).indexOf("e")&&(b=c._round(+b,d)),b.replace(".",j["."])):null,c.element.val(b),c._oldText=b,c.element.add(c._text).attr("aria-valuenow",b)},_placeholder:function(b){var a=this._text;a.val(b),n||b||a.val(this.options.placeholder),a.attr("title",this.element.attr("title")||a.val())},_wrapper:function(){var a,c=this.element,d=c[0];(a=c.parents(".k-numerictextbox")).is("span.k-numerictextbox")||(a=(a=c.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent()).wrap("<span/>").parent()),a[0].style.cssText=d.style.cssText,d.style.width="",this.wrapper=a.addClass("k-widget k-numerictextbox").addClass(d.className).removeClass("input-validation-error").css("display",""),this._inputWrapper=b(a[0].firstChild)},_reset:function(){var a=this,c=a.element,d=c.attr("form"),e=d?b("#"+d):c.closest("form");e[0]&&(a._resetHandler=function(){setTimeout(function(){a.value(c[0].value),a.max(a._initialOptions.max),a.min(a._initialOptions.min)})},a._form=e.on("reset",a._resetHandler))}});function A(a,b){return'<span unselectable="on" class="k-link k-link-'+a+'" aria-label="'+b+'" title="'+b+'"><span unselectable="on" class="'+s+" "+("k-i-arrow-"+("increase"===a?"60-up":"60-down"))+'"></span></span>'}function B(b,c){var a=parseFloat(b,10).toString().split(".");return a[1]&&(a[1]=a[1].substring(0,c)),a.join(".")}c.plugin(g)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.toolbar",["kendo.core","kendo.userevents","kendo.popup"],function(){return function(k,x){var a=window.kendo,l=a.Class,m=a.ui.Widget,y=k.proxy,z=a.isFunction,A=a.keys,B=a._outerWidth,C=".kendoToolBar",D="k-button",E="k-overflow-button",F="k-toggle-button",G="k-button-group",_="k-split-button",H="k-separator",n="spacer",I="k-state-active",J="k-state-disabled",K="k-state-hidden",L="k-icon",M="k-i-",N="k-split-button-arrow",O="k-overflow-anchor",P="k-overflow-container",Q="k-toolbar-first-visible",R="k-toolbar-last-visible",o="click",p="overflowOpen",q="overflowClose",S="k-overflow-hidden",T="_optionlist",U=a.attr("uid");a.toolbar={};var V={overflowAnchor:'<div tabindex="0" class="k-overflow-anchor k-button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};a.toolbar.registerComponent=function(a,b,c){V[a]={toolbar:b,overflow:c}};var b=a.Class.extend({addOverflowAttr:function(){this.element.attr(a.attr("overflow"),this.options.overflow||"auto")},addUidAttr:function(){this.element.attr(U,this.options.uid)},addIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id)},addOverflowIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id+"_overflow")},attributes:function(){this.options.attributes&&this.element.attr(this.options.attributes)},show:function(){this.element.removeClass(K).show(),this.options.hidden=!1},hide:function(){this.element.addClass(K).hide(),this.overflow&&this.overflowHidden&&this.overflowHidden(),this.options.hidden=!0},remove:function(){this.element.remove()},enable:function(a){a===x&&(a=!0),this.element.toggleClass(J,!a),this.options.enable=a},twin:function(){var a=this.element.attr(U);return this.overflow&&this.options.splitContainerId?k("#"+this.options.splitContainerId).find("["+U+"='"+a+"']").data(this.options.type):this.overflow?this.toolbar.element.find("["+U+"='"+a+"']").data(this.options.type):this.toolbar.options.resizable?this.toolbar.popup.element.find("["+U+"='"+a+"']").data(this.options.type):void 0}}),c=(a.toolbar.Item=b).extend({init:function(b,d){var c=b.useButtonTag?k('<button tabindex="0"></button>'):k('<a role="button" href tabindex="0"></a>');this.element=c,this.options=b,this.toolbar=d,this.attributes(),b.primary&&c.addClass("k-primary"),b.togglable&&(c.addClass(F),this.toggle(b.selected)),b.url===x||b.useButtonTag||(c.attr("href",b.url),b.mobile&&c.attr(a.attr("role"),"button")),b.group&&(c.attr(a.attr("group"),b.group),this.group=this.toolbar.addToGroup(this,b.group)),!b.togglable&&b.click&&z(b.click)&&(this.clickHandler=b.click),b.togglable&&b.toggle&&z(b.toggle)&&(this.toggleHandler=b.toggle)},toggle:function(a,b){a=!!a,this.group&&a?this.group.select(this):this.group||this.select(a),b&&this.twin()&&this.twin().toggle(a)},getParentGroup:function(){if(this.options.isChild)return this.element.closest("."+G).data("buttonGroup")},_addGraphics:function(){var g,b,c,a=this.element,d=this.options.icon,e=this.options.spriteCssClass,f=this.options.imageUrl;(e||f||d)&&(g=!0,a.contents().filter(function(){return!k(this).hasClass("k-sprite")&&!k(this).hasClass(L)&&!k(this).hasClass("k-image")}).each(function(b,a){(1==a.nodeType||3==a.nodeType&&0<k.trim(a.nodeValue).length)&&(g=!1)}),g?a.addClass("k-button-icon"):a.addClass("k-button-icontext")),d?((b=a.children("span."+L).first())[0]||(b=k('<span class="'+L+'"></span>').prependTo(a)),b.addClass(M+d)):e?((b=a.children("span.k-sprite").first())[0]||(b=k('<span class="k-sprite '+L+'"></span>').prependTo(a)),b.addClass(e)):f&&((c=a.children("img.k-image").first())[0]||(c=k('<img alt="icon" class="k-image" />').prependTo(a)),c.attr("src",f))}}),d=(a.toolbar.Button=c).extend({init:function(a,d){c.fn.init.call(this,a,d);var b=this.element;b.addClass(D),this.addIdAttr(),a.align&&b.addClass("k-align-"+a.align),"overflow"!=a.showText&&a.text&&(a.mobile?b.html('<span class="km-text">'+a.text+"</span>"):b.html(a.text)),a.hasIcon="overflow"!=a.showIcon&&(a.icon||a.spriteCssClass||a.imageUrl),a.hasIcon&&this._addGraphics(),this.addUidAttr(),this.addOverflowAttr(),this.enable(a.enable),a.hidden&&this.hide(),this.element.data({type:"button",button:this})},select:function(a){a===x&&(a=!1),this.element.toggleClass(I,a),this.options.selected=a}});a.toolbar.ToolBarButton=d;var e=c.extend({init:function(a,d){this.overflow=!0,c.fn.init.call(this,k.extend({},a),d);var b=this.element;"toolbar"!=a.showText&&a.text&&(a.mobile?b.html('<span class="km-text">'+a.text+"</span>"):b.html('<span class="k-text">'+a.text+"</span>")),a.hasIcon="toolbar"!=a.showIcon&&(a.icon||a.spriteCssClass||a.imageUrl),a.hasIcon&&this._addGraphics(),a.isChild||this._wrap(),this.addOverflowIdAttr(),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.enable(a.enable),b.addClass(E+" "+D),a.hidden&&this.hide(),a.togglable&&this.toggle(a.selected),this.element.data({type:"button",button:this})},_wrap:function(){this.element=this.element.wrap("<li></li>").parent()},overflowHidden:function(){this.element.addClass(S)},select:function(a){a===x&&(a=!1),this.options.isChild?this.element.toggleClass(I,a):this.element.find(".k-button").toggleClass(I,a),this.options.selected=a}});a.toolbar.OverflowButton=e,a.toolbar.registerComponent("button",d,e);var f=b.extend({createButtons:function(e){for(var d=this.options,c=d.buttons||[],b=0;b<c.length;b++)c[b].uid||(c[b].uid=a.guid()),new e(k.extend({mobile:d.mobile,isChild:!0,type:"button"},c[b]),this.toolbar).element.appendTo(this.element)},refresh:function(){this.element.children().filter(":not('."+K+"'):first").addClass("k-group-start"),this.element.children().filter(":not('."+K+"'):last").addClass("k-group-end")}}),g=(a.toolbar.ButtonGroup=f).extend({init:function(a,c){var b=this.element=k("<div></div>");this.options=a,this.toolbar=c,this.addIdAttr(),a.align&&b.addClass("k-align-"+a.align),this.createButtons(d),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),b.addClass(G),this.element.data({type:"buttonGroup",buttonGroup:this})}});a.toolbar.ToolBarButtonGroup=g;var h=f.extend({init:function(a,b){var c=this.element=k("<li></li>");this.options=a,this.toolbar=b,this.overflow=!0,this.addOverflowIdAttr(),this.createButtons(e),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),c.addClass((a.mobile?"":G)+" k-overflow-group"),this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(S)}});a.toolbar.OverflowButtonGroup=h,a.toolbar.registerComponent("buttonGroup",g,h);var i=b.extend({init:function(a,c){var b=this.element=k('<div class="'+_+'" tabindex="0"></div>');this.options=a,this.toolbar=c,this.mainButton=new d(k.extend({},a,{hidden:!1}),c),this.arrowButton=k('<a class="'+D+" "+N+'"><span class="'+(a.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-60-down")+'"></span></a>'),this.popupElement=k('<ul class="k-list-container k-split-container"></ul>'),this.mainButton.element.removeAttr("href tabindex").appendTo(b),this.arrowButton.appendTo(b),this.popupElement.appendTo(b),a.align&&b.addClass("k-align-"+a.align),a.id||(a.id=a.uid),b.attr("id",a.id+"_wrapper"),this.addOverflowAttr(),this.addUidAttr(),this.createMenuButtons(),this.createPopup(),this._navigatable(),this.mainButton.main=!0,this.enable(a.enable),a.hidden&&this.hide(),b.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},_navigatable:function(){var a=this;a.popupElement.on("keydown"+C,"."+D,function(b){var c=k(b.target).parent();b.preventDefault(),b.keyCode===A.ESC||b.keyCode===A.TAB||b.altKey&&b.keyCode===A.UP?(a.toggle(),a.focus()):b.keyCode===A.DOWN?Y(c,"next").focus():b.keyCode===A.UP?Y(c,"prev").focus():b.keyCode===A.SPACEBAR||b.keyCode===A.ENTER?a.toolbar.userEvents.trigger("tap",{target:k(b.target)}):b.keyCode===A.HOME?c.parent().find(":kendoFocusable").first().focus():b.keyCode===A.END&&c.parent().find(":kendoFocusable").last().focus()})},createMenuButtons:function(){for(var a=this.options,c=a.menuButtons,b=0;b<c.length;b++)new d(k.extend({mobile:a.mobile,type:"button",click:a.click},c[b]),this.toolbar).element.wrap("<li></li>").parent().appendTo(this.popupElement)},createPopup:function(){var c=this,a=this.options,b=this.element;this.popupElement.attr("id",a.id+T).attr(U,a.rootUid),a.mobile&&(this.popupElement=W(this.popupElement)),this.popup=this.popupElement.kendoPopup({appendTo:a.mobile?k(a.mobile).children(".km-pane"):null,anchor:b,isRtl:this.toolbar._isRtl,copyAnchorStyles:!1,animation:a.animation,open:function(a){c.toolbar.trigger("open",{target:b})?a.preventDefault():c.adjustPopupWidth(a.sender)},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(a){c.toolbar.trigger("close",{target:b})&&a.preventDefault(),b.focus()}}).data("kendoPopup"),this.popup.element.on(o+C,"a.k-button",X)},adjustPopupWidth:function(b){var c,d=b.options.anchor,e=B(d);a.wrap(b.element).addClass("k-split-wrapper"),c="border-box"!==b.element.css("box-sizing")?e-(B(b.element)-b.element.width()):e,b.element.css({fontFamily:d.css("font-family"),"min-width":c})},remove:function(){this.popup.element.off(o+C,"a.k-button"),this.popup.destroy(),this.element.remove()},toggle:function(){(this.options.enable||this.popup.visible())&&this.popup.toggle()},enable:function(a){a===x&&(a=!0),this.mainButton.enable(a),this.element.toggleClass(J,!a),this.options.enable=a},focus:function(){this.element.focus()},hide:function(){this.popup&&this.popup.close(),this.element.addClass(K).hide(),this.options.hidden=!0},show:function(){this.element.removeClass(K).hide(),this.options.hidden=!1}});a.toolbar.ToolBarSplitButton=i;var j=b.extend({init:function(a,g){var d,b=this.element=k('<li class="'+_+'"></li>'),f=a.menuButtons;this.options=a,this.toolbar=g,this.overflow=!0,d=(a.id||a.uid)+T,this.mainButton=new e(k.extend({isChild:!0},a)),this.mainButton.element.appendTo(b);for(var c=0;c<f.length;c++)new e(k.extend({mobile:a.mobile,type:"button",splitContainerId:d,isChild:!0},f[c]),this.toolbar).element.appendTo(b);this.addUidAttr(),this.addOverflowAttr(),this.mainButton.main=!0,b.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass(S)}});a.toolbar.OverflowSplitButton=j,a.toolbar.registerComponent("splitButton",i,j);var r=b.extend({init:function(b,c){var a=this.element=k("<div>&nbsp;</div>");this.element=a,this.options=b,this.toolbar=c,this.attributes(),this.addIdAttr(),this.addUidAttr(),this.addOverflowAttr(),a.addClass(H),a.data({type:"separator",separator:this})}}),s=b.extend({init:function(b,c){var a=this.element=k("<li>&nbsp;</li>");this.element=a,this.options=b,this.toolbar=c,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),a.addClass(H),a.data({type:"separator",separator:this})},overflowHidden:function(){this.element.addClass(S)}});a.toolbar.registerComponent("separator",r,s);var t=b.extend({init:function(b,c){var a=this.element=k("<div>&nbsp;</div>");this.element=a,this.options=b,this.toolbar=c,a.addClass("k-spacer"),a.data({type:n})}});a.toolbar.registerComponent(n,t);var u=b.extend({init:function(b,c,d){var a=z(b)?b(c):b;a=a instanceof jQuery?a.wrap("<div></div>").parent():k("<div></div>").html(a),this.element=a,this.options=c,this.options.type="template",this.toolbar=d,this.attributes(),this.addUidAttr(),this.addIdAttr(),this.addOverflowAttr(),a.data({type:"template",template:this})}});a.toolbar.TemplateItem=u;var v=b.extend({init:function(b,c,d){var a=z(b)?k(b(c)):k(b);a=a instanceof jQuery?a.wrap("<li></li>").parent():k("<li></li>").html(a),this.element=a,this.options=c,this.options.type="template",this.toolbar=d,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),this.addOverflowAttr(),a.data({type:"template",template:this})},overflowHidden:function(){this.element.addClass(S)}});function $(a){a.target.is(".k-toggle-button")||a.target.toggleClass(I,"press"==a.type)}function W(a){return(a=k(a)).hasClass("km-actionsheet")?a.closest(".km-popup-wrapper"):a.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function X(a){k(a.target).closest("a.k-button").length&&a.preventDefault()}function Y(b,c){var d="next"===c?k.fn.next:k.fn.prev,e="next"===c?k.fn.first:k.fn.last,a=d.call(b);return!a.length&&b.is("."+O)?b:a.is(":kendoFocusable")||!a.length?a:a.find(":kendoFocusable").length?e.call(a.find(":kendoFocusable")):Y(a,c)}a.toolbar.OverflowTemplateItem=v;var Z=l.extend({init:function(a){this.name=a,this.buttons=[]},add:function(a){this.buttons[this.buttons.length]=a},remove:function(a){var b=k.inArray(a,this.buttons);this.buttons.splice(b,1)},select:function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].select(!1);a.select(!0),a.twin()&&a.twin().select(!0)}}),w=m.extend({init:function(d,c){var b=this;if(m.fn.init.call(b,d,c),c=b.options,(d=b.wrapper=b.element).addClass("k-toolbar k-widget"),this.uid=a.guid(),this._isRtl=a.support.isRtl(d),this._groups={},d.attr(U,this.uid),b.isMobile="boolean"==typeof c.mobile?c.mobile:b.element.closest(".km-root")[0],b.animation=b.isMobile?{open:{effects:"fade"}}:{},b.isMobile&&(d.addClass("km-widget"),L="km-icon",M="km-",D="km-button",G="km-buttongroup",I="km-state-active",J="km-state-disabled"),c.resizable?(b._renderOverflow(),d.addClass("k-toolbar-resizable"),b.overflowUserEvents=new a.UserEvents(b.element,{threshold:5,allowSelection:!0,filter:"."+O,tap:y(b._toggleOverflow,b)}),b._resizeHandler=a.onResize(function(){b.resize()})):b.popup={element:k([])},c.items&&c.items.length){for(var e=0;e<c.items.length;e++)b.add(c.items[e]);c.resizable&&b._shrink(b.element.innerWidth())}b.userEvents=new a.UserEvents(document,{threshold:5,allowSelection:!0,filter:"["+U+"="+this.uid+"] a."+D+", ["+U+"="+this.uid+"] ."+E,tap:y(b._buttonClick,b),press:$,release:$}),b.element.on(o+C,"a.k-button",X),b._navigatable(),c.resizable&&b.popup.element.on(o+C,NaN,X),c.resizable&&this._toggleOverflowAnchor(),a.notify(b)},events:[o,"toggle","open","close",p,q],options:{name:"ToolBar",items:[],resizable:!0,mobile:null},addToGroup:function(c,a){var b;return(b=this._groups[a]?this._groups[a]:this._groups[a]=new Z).add(c),b},destroy:function(){this.element.find("."+_).each(function(b,a){k(a).data("kendoPopup").destroy()}),this.element.off(C,"a.k-button"),this.userEvents.destroy(),this.options.resizable&&(a.unbindResize(this._resizeHandler),this.overflowUserEvents.destroy(),this.popup.element.off(C,"a.k-button"),this.popup.destroy()),m.fn.destroy.call(this)},add:function(b){var d,c,e=V[b.type],f=b.template,i=this.isMobile?"":"k-item k-state-default",g=b.overflowTemplate;if(k.extend(b,{uid:a.guid(),animation:this.animation,mobile:this.isMobile,rootUid:this.uid}),b.menuButtons)for(var h=0;h<b.menuButtons.length;h++)k.extend(b.menuButtons[h],{uid:a.guid()});f&&!g||b.type===n?b.overflow="never":b.overflow||(b.overflow="auto"),"never"!==b.overflow&&this.options.resizable&&(g?c=new v(g,b,this):e&&(c=new e.overflow(b,this)).element.addClass(i),c&&("auto"===b.overflow&&c.overflowHidden(),c.element.appendTo(this.popup.container),this.angular("compile",function(){return{elements:c.element.get()}}))),"always"!==b.overflow&&(f?d=new u(f,b,this):e&&(d=new e.toolbar(b,this)),d&&(d.element.appendTo(this.element),this.angular("compile",function(){return{elements:d.element.get()}})))},_getItem:function(e){var a,c,d,b,f=this.options.resizable;return(a=this.element.find(e)).length||(a=k(".k-split-container[data-uid="+this.uid+"]").find(e)),b=a.length?a.data("type"):"",(c=a.data(b))?(c.main&&(b="splitButton",c=(a=a.parent("."+_)).data(b)),f&&(d=c.twin())):f&&(b=(a=this.popup.element.find(e)).length?a.data("type"):"",(d=a.data(b))&&d.main&&(b="splitButton",d=(a=a.parent("."+_)).data(b))),{type:b,toolbar:c,overflow:d}},remove:function(b){var a=this._getItem(b);a.toolbar&&a.toolbar.remove(),a.overflow&&a.overflow.remove(),this.resize(!0)},hide:function(c){var b,a=this._getItem(c);a.toolbar&&("button"===a.toolbar.options.type&&a.toolbar.options.isChild?(b=a.toolbar.getParentGroup(),a.toolbar.hide(),b&&b.refresh()):a.toolbar.options.hidden||a.toolbar.hide()),a.overflow&&("button"===a.overflow.options.type&&a.overflow.options.isChild?(b=a.overflow.getParentGroup(),a.overflow.hide(),b&&b.refresh()):a.overflow.options.hidden||a.overflow.hide()),this.resize(!0)},show:function(b){var a=this._getItem(b);a.toolbar&&("button"===a.toolbar.options.type&&a.toolbar.options.isChild?(a.toolbar.show(),a.toolbar.getParentGroup().refresh()):a.toolbar.options.hidden&&a.toolbar.show()),a.overflow&&("button"===a.overflow.options.type&&a.overflow.options.isChild?(a.toolbar.show(),a.overflow.getParentGroup().refresh()):a.overflow.options.hidden&&a.overflow.show()),this.resize(!0)},enable:function(c,a){var b=this._getItem(c);void 0===a&&(a=!0),b.toolbar&&b.toolbar.enable(a),b.overflow&&b.overflow.enable(a)},getSelectedFromGroup:function(a){return this.element.find("."+F+"[data-group='"+a+"']").filter("."+I)},toggle:function(c,a){var b=k(c).data("button");b.options.togglable&&(a===x&&(a=!0),b.toggle(a,!0))},_renderOverflow:function(){var b=this,c=V.overflowContainer,d=b._isRtl,e=d?"left":"right";b.overflowAnchor=k(V.overflowAnchor).addClass(D),b.element.append(b.overflowAnchor),b.isMobile?(b.overflowAnchor.append('<span class="km-icon km-more"></span>'),c=W(c)):b.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>'),b.popup=new a.ui.Popup(c,{origin:"bottom "+e,position:"top "+e,anchor:b.overflowAnchor,isRtl:d,animation:b.animation,appendTo:b.isMobile?k(b.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function(e){var c=a.wrap(b.popup.element).addClass("k-overflow-wrapper");b.isMobile?b.popup.container.css("max-height",parseFloat(k(".km-content:visible").innerHeight())-15+"px"):c.css("margin-left",(d?-1:1)*((B(c)-c.width())/2+1)),b.trigger(p)&&e.preventDefault()},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(a){b.trigger(q)&&a.preventDefault(),this.element.focus()}}),b.popup.element.on("keydown"+C,"."+D,function(a){var d=k(a.target),c=d.parent(),e=c.is("."+G)||c.is("."+_);a.preventDefault(),a.keyCode===A.ESC||a.keyCode===A.TAB||a.altKey&&a.keyCode===A.UP?(b._toggleOverflow(),b.overflowAnchor.focus()):a.keyCode===A.DOWN?Y(!e||e&&d.is(":last-child")?c:d,"next").focus():a.keyCode===A.UP?Y(!e||e&&d.is(":first-child")?c:d,"prev").focus():a.keyCode===A.SPACEBAR||a.keyCode===A.ENTER?(b.userEvents.trigger("tap",{target:k(a.target)}),b.overflowAnchor.focus()):a.keyCode===A.HOME?c.parent().find(":kendoFocusable").first().focus():a.keyCode===A.END&&c.parent().find(":kendoFocusable").last().focus()}),b.isMobile?b.popup.container=b.popup.element.find("."+P):b.popup.container=b.popup.element,b.popup.container.attr(U,this.uid)},_toggleOverflowAnchor:function(){var a=this._isRtl?"padding-left":"padding-right";(this.options.mobile?0<this.popup.element.find("."+P).children(":not(."+S+", .k-popup)").length:0<this.popup.element.children(":not(."+S+", .k-popup)").length)?(this.overflowAnchor.css({visibility:"visible",width:""}),this.wrapper.css(a,this.overflowAnchor.outerWidth(!0))):(this.overflowAnchor.css({visibility:"hidden",width:"1px"}),this.wrapper.css(a,""))},_buttonClick:function(e){var b,a,f,c,d,g,h=e.target.closest("."+N).length;e.preventDefault(),h?this._toggle(e):(b=k(e.target).closest("."+D,this.element)).hasClass(O)||((a=b.data("button"))||!this.popup||(a=(b=k(e.target).closest("."+E,this.popup.container)).parent("li").data("button")),a&&a.options.enable&&(a.options.togglable?(c=z(a.toggleHandler)?a.toggleHandler:null,a.toggle(!a.options.selected,!0),d={target:b,group:a.options.group,checked:a.options.selected,id:a.options.id,item:a},c&&c.call(this,d),this.trigger("toggle",d)):(c=z(a.clickHandler)?a.clickHandler:null,d={sender:this,target:b,id:a.options.id,item:a},c&&c.call(this,d),this.trigger(o,d)),a.options.url&&(a.options.attributes&&a.options.attributes.target&&(g=a.options.attributes.target),window.open(a.options.url,g||"_self")),b.hasClass(E)&&this.popup.close(),(f=b.closest(".k-split-container"))[0]&&(f.data("kendoPopup")||f.parents(".km-popup-wrapper").data("kendoPopup")).close()))},_navigatable:function(){this.element.attr("tabindex",0).on("focusin"+C,function(b){var c=k(b.target),a=k(this).find(":kendoFocusable:first");c.is(".k-toolbar")&&0!==a.length&&(a.is("."+O)&&(a=Y(a,"next")),a.length&&a[0].focus())}).on("keydown"+C,y(this._keydown,this))},_keydown:function(a){var b=k(a.target),d=a.keyCode,c=this.element.children(":not(.k-separator):visible"),f=this._isRtl?-1:1;if(d===A.TAB){var e=b.parentsUntil(this.element).last(),h=!1,i=!1,g=!1;if(c.not("."+O).length||(g=!0),e.length||(e=b),e.is("."+O)&&!g){var m=c.last();a.shiftKey&&a.preventDefault(),m.is(":kendoFocusable")?c.last().focus():c.last().find(":kendoFocusable").last().focus()}a.shiftKey||c.index(e)!==c.length-1||(h=!e.is("."+G)||b.is(":last-child"));var n=c.index(e)===c.not(".k-overflow-anchor").first().index();if(a.shiftKey&&n&&(i=!e.is("."+G)||b.is(":first-child")),h&&this.overflowAnchor&&"hidden"!==this.overflowAnchor.css("visibility")&&!g&&(a.preventDefault(),this.overflowAnchor.focus()),i||g&&a.shiftKey){a.preventDefault();var j=this._getPrevFocusable(this.wrapper);j&&j.focus()}this._preventNextFocus=!1}if(a.altKey&&d===A.DOWN){var l=k(document.activeElement).data("splitButton"),o=k(document.activeElement).is("."+O);l?l.toggle():o&&this._toggleOverflow()}else{if((d===A.SPACEBAR||d===A.ENTER)&&!b.is("input, checkbox"))return d===A.SPACEBAR&&a.preventDefault(),void(b.is("."+_)?(b=b.children().first(),this.userEvents.trigger("tap",{target:b})):d===A.SPACEBAR&&this.userEvents.trigger("tap",{target:b}));if(d===A.HOME){if(b.is(".k-dropdown")||b.is("input"))return;this.overflowAnchor?c.eq(1).focus():c.first().focus(),a.preventDefault()}else if(d===A.END){if(b.is(".k-dropdown")||b.is("input"))return;this.overflowAnchor&&"hidden"!=k(this.overflowAnchor).css("visibility")?this.overflowAnchor.focus():c.last().focus(),a.preventDefault()}else d!==A.RIGHT||this._preventNextFocus||b.is("input, select, .k-dropdown, .k-colorpicker")||!this._getNextElement(a.target,f)?d!==A.LEFT||this._preventNextFocus||b.is("input, select, .k-dropdown, .k-colorpicker")||!this._getNextElement(a.target,-1*f)||(this._getNextElement(a.target,-1*f).focus(),a.preventDefault()):(this._getNextElement(a.target,f).focus(),a.preventDefault())}},_getNextElement:function(c,d){var a=this.element.children(":not(.k-separator):visible"),e=-1===a.index(c)?a.index(c.parentElement):a.index(c),f=this.overflowAnchor?1:0,g=d,h=1===d?a.length-1:f,i=1===d?f:a.length-1,b=a[e+d];if(this._preventNextFocus=!1,k(c).closest("."+G).length&&!k(c).is(1===d?":last-child":":first-child"))return k(c).closest("."+G).children()[k(c).closest("."+G).children().index(c)+d];for(this.overflowAnchor&&c===this.overflowAnchor[0]&& -1===d&&(b=a[a.length-1]),e===h&&(b=!this.overflowAnchor||this.overflowAnchor&&"hidden"===k(this.overflowAnchor).css("visibility")?a[i]:this.overflowAnchor);!k(b).is(":kendoFocusable");){if(!(b=-1===d&&k(b).closest("."+G).length?k(b).children(":not(label, div)").last():k(b).children(":not(label, div)").first()).length&&!(b=a[e+(g+=d)]))return this.overflowAnchor;this._preventNextFocus=!k(b).closest("."+G).length}return b},_getPrevFocusable:function(a){var b,c;return a.is("html")?a:(a.prevAll().each(function(){return(c=k(this)).is(":kendoFocusable")?(b=c,!1):0<c.find(":kendoFocusable").length?(b=c.find(":kendoFocusable").last(),!1):void 0}),b||this._getPrevFocusable(a.parent()))},_toggle:function(a){var b=k(a.target).closest("."+_).data("splitButton");a.preventDefault(),b.options.enable&&b.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(b){var a=b.width;this.options.resizable&&(this.popup.close(),this._shrink(a),this._stretch(a),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidth:function(){var a=0;return this.element.children(":visible:not(."+K+", .k-spacer)").each(function(){a+=B(k(this),!0)}),Math.ceil(a)},_shrink:function(b){var c,d;if(b<this._childrenWidth())for(var a=(d=this.element.children(":visible:not([data-overflow='never'], ."+O+")")).length-1;0<=a&&(c=d.eq(a),!(b>this._childrenWidth()));a--)this._hideItem(c)},_stretch:function(a){var d,b;if(a>this._childrenWidth()){b=this.element.children(":hidden:not('."+K+"')");for(var c=0;c<b.length&&(d=b.eq(c),!(a<this._childrenWidth())&&this._showItem(d,a));c++);}},_hideItem:function(a){a.hide(),this.popup&&this.popup.container.find(">li[data-uid='"+a.data("uid")+"']").removeClass(S)},_showItem:function(a,b){return!!(a.length&&b>this._childrenWidth()+B(a,!0))&&(a.show(),this.popup&&this.popup.container.find(">li[data-uid='"+a.data("uid")+"']").addClass(S),!0)},_markVisibles:function(){var a=this.popup.container.children(),b=this.element.children(":not(.k-overflow-anchor)"),c=a.filter(":not(.k-overflow-hidden)"),d=b.filter(":visible");a.add(b).removeClass(Q+" "+R),c.first().add(d.first()).addClass(Q),c.last().add(d.last()).addClass(R)}});a.ui.plugin(w)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.panelbar",["kendo.data"],function(){return function(b,q){var f,a=window.kendo,g=a.ui,r=a.keys,s=b.extend,t=b.proxy,u=b.each,v=b.isArray,w=a.template,x=g.Widget,y=a.data.HierarchicalDataSource,z=/^(ul|a|div)$/i,A=".kendoPanelBar",_="k-last",h="k-link",c="."+h,i="error",j=".k-item",B=".k-group:visible",C="k-first",k="change",l="expand",D="click",E="k-content",m="collapse",F="mouseenter",n="contentLoad",G="k-state-active",H="> .k-panel",I="> .k-content",J="k-state-focused",K="k-state-disabled",o="k-state-selected",d="."+o,L="k-state-highlight",e=j+":not(.k-state-disabled)",M="> "+e+" > "+c+", .k-panel > "+e+" > "+c,N="> li > "+d+", .k-panel > li > "+d,O="aria-disabled",P="aria-expanded",Q="aria-hidden",R="aria-selected",S=":visible",T={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},$={aria:function(a){var b="";return(a.items||a.content||a.contentUrl||a.expanded)&&(b+=P+"='"+(a.expanded?"true":"false")+"' "),!1===a.enabled&&(b+=O+"='true'"),b},wrapperCssClass:function(d,b){var a="k-item",c=b.index;return!1===b.enabled?a+=" "+K:!0===b.expanded?a+=" "+G:a+=" k-state-default",0===c&&(a+=" k-first"),c==d.length-1&&(a+=" k-last"),b.cssClass&&(a+=" "+b.cssClass),a},textClass:function(b,c){var a=h;return c.firstLevel&&(a+=" k-header"),b.selected&&(a+=" "+o),a},textAttributes:function(a){return a?" href='"+a+"'":""},arrowClass:function(a){return"k-icon"+(a.expanded?" k-panelbar-collapse k-i-arrow-60-up":" k-panelbar-expand k-i-arrow-60-down")},text:function(b){return!1===b.encoded?b.text:a.htmlEncode(b.text)},groupAttributes:function(a){return!0!==a.expanded?" style='display:none'":""},ariaHidden:function(a){return!0!==a.expanded},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(a){return!0!==a.item.expanded?" style='display:none'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?'href="'+a.contentUrl+'"':""}};function U(a){(a=b(a)).filter(".k-first:not(:first-child)").removeClass(C),a.filter(".k-last:not(:last-child)").removeClass(_),a.filter(":first-child").addClass(C),a.filter(":last-child").addClass(_)}f=function(a){return a.children("span").children(".k-icon")};var p=a.ui.DataBoundWidget.extend({init:function(d,c){var e,f,b=this;v(c)&&(c={dataSource:c}),f=c&&!!c.dataSource,x.fn.init.call(b,d,c),d=b.wrapper=b.element.addClass("k-widget k-reset k-header k-panelbar"),c=b.options,d[0].id&&(b._itemId=d[0].id+"_pb_active"),b._tabindex(),b._accessors(),b._dataSource(),b._templates(),b._initData(f),b._updateClasses(),b._animations(c),d.on(D+A,M,t(b._click,b)).on(F+A+" mouseleave"+A,M,b._toggleHover).on(D+A,".k-item.k-state-disabled > .k-link",!1).on(D+A,".k-request-retry",t(b._retryRequest,b)).on("keydown"+A,t(b._keydown,b)).on("focus"+A,function(){var a=b.select();b._current(a[0]?a:b._first())}).on("blur"+A,function(){b._current(null)}).attr("role","menu"),(e=d.find("li."+G+" > ."+E))[0]&&b.expand(e.parent(),!1),c.dataSource||b._angularCompile(),a.notify(b)},events:[l,m,"select","activate",k,i,"dataBound",n],options:{name:"PanelBar",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},autoBind:!0,loadOnDemand:!0,expandMode:"multiple",template:"",dataTextField:null},_angularCompile:function(){var a=this;a.angular("compile",function(){return{elements:a.element.children("li"),data:[{dataItem:a.options.$angular}]}})},_angularCompileElements:function(a,c){this.angular("compile",function(){return{elements:a,data:b.map(c,function(a){return[{dataItem:a}]})}})},_angularCleanup:function(){var a=this;a.angular("cleanup",function(){return{elements:a.element.children("li")}})},destroy:function(){x.fn.destroy.call(this),this.element.off(A),this._angularCleanup(),a.destroy(this.element)},_initData:function(a){a&&(this.element.empty(),this.options.autoBind&&(this._progress(!0),this.dataSource.fetch()))},_templates:function(){var b=this.options,c=t(this._fieldAccessor,this);b.template&&"string"==typeof b.template?b.template=w(b.template):b.template||(b.template=w("# var text = "+c("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),this.templates={content:w("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:w("<ul role='group' aria-hidden='#= ariaHidden(group) #' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:w("# var url = "+c("url")+"(item); ## var imageUrl = "+c("imageUrl")+"(item); ## var spriteCssClass = "+c("spriteCssClass")+"(item); ## var contentUrl = contentUrl(item); ## var tag = url||contentUrl ? 'a' : 'span'; #<#= tag # class='#= textClass(item, group) #' #= contentUrl ##= textAttributes(url) #># if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #' /># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #'></span># } ##= data.panelBar.options.template(data) ##= arrow(data) #</#= tag #>"),item:w("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'"+a.attr("uid")+"='#= item.uid #'>#= itemWrapper(data) ## if (item.items && item.items.length > 0) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),loading:w("<div class='k-item'><span class='k-icon k-i-loading'></span> #: data.messages.loading #</div>"),retry:w("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>"),arrow:w("<span class='#= arrowClass(item) #'></span>"),empty:w("")}},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=s(!0,b,a.animation),"dataSource"in a&&this.setDataSource(a.dataSource),x.fn.setOptions.call(this,a)},expand:function(a,d){var c=this,e={};if(a=this.element.find(a),!c._animating||!a.find("ul").is(":visible"))return c._animating=!0,d=!1!==d,a.each(function(i,f){f=b(f);var g=a.children(".k-group,.k-content");g.length||(g=c._addGroupElement(a));var h=g.add(f.find(I));if(!f.hasClass(K)&&0<h.length){if("single"==c.options.expandMode&&c._collapseAllExpanded(f))return c;a.find("."+L).removeClass(L),f.addClass(L),d||(e=c.options.animation,c.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),c._triggerEvent(l,f)||c._toggleItem(f,!1,!1),d||(c.options.animation=e)}}),c;c.one("complete",function(){setTimeout(function(){c.expand(a)})})},collapse:function(c,d){var a=this,e={};return a._animating=!0,d=!1!==d,(c=a.element.find(c)).each(function(g,c){var f=(c=b(c)).find(H).add(c.find(I));!c.hasClass(K)&&f.is(S)&&(c.removeClass(L),d||(e=a.options.animation,a.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),a._triggerEvent(m,c)||a._toggleItem(c,!0),d||(a.options.animation=e))}),a},updateArrow:function(a){var d=this;(a=b(a)).children(c).children(".k-panelbar-collapse, .k-panelbar-expand").remove(),a.filter(function(){var a=d.dataItem(this);return a?a.hasChildren||a.content||a.contentUrl:0<b(this).find(".k-panel").length||0<b(this).find(".k-content").length}).children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var a=b(this),c=a.parent();a.append("<span class='k-icon "+(c.hasClass(G)?" k-panelbar-collapse k-i-arrow-60-up":" k-panelbar-expand k-i-arrow-60-down")+"'/>")})},_accessors:function(){var c,b,d,e=this.options,f=this.element;for(c in T)b=e[T[c]],d=f.attr(a.attr(c+"-field")),!b&&d&&(b=d),v(b=b||c)||(b=[b]),e[T[c]]=b},_progress:function(a,b){var c=this.element,d=this.templates.loading({messages:this.options.messages});1==arguments.length?(b=a)?c.html(d):c.empty():f(a).toggleClass("k-i-loading",b).removeClass("k-i-refresh")},_refreshRoot:function(a){var e=this,h={firstLevel:!0,expanded:!0,length:e.element.children().length};this.element.empty();var d=b.map(a,function(a,c){return"string"==typeof a?b(a):(a.items=[],b(e.renderItem({group:h,item:s(a,{index:c})})))});this.element.append(d);for(var f=this.element.children(".k-item"),c=0;c<a.length;c++)this.trigger("itemChange",{item:f.eq(c).find(".k-link").first(),data:a[c],ns:g});this._angularCompileElements(d,a)},_refreshChildren:function(j,a){a.children(".k-group").empty();var e,c,h,k,i,d,f,l=j.children.data();if(l.length)for(this.append(j.children,a),this.options.loadOnDemand&&this._toggleGroup(a.children(".k-group"),!1),c=a.children(".k-group").children("li"),e=0;e<c.length;e++)h=c.eq(e),this.trigger("itemChange",{item:h.find(".k-link").first(),data:this.dataItem(h),ns:g});else d=(i=k=a).children("ul"),f=i.children(".k-link").children(".k-icon"),k.hasClass("k-panelbar")||(!f.length&&d.length?f=b("<span class='k-icon' />").appendTo(i):d.length&&d.children().length||(f.remove(),d.remove())),c=a.children(".k-group").children("li"),this._angularCompileElements(c,l)},findByUid:function(f){for(var e,d=this.element.find(".k-item"),g=a.attr("uid"),c=0;c<d.length;c++)if(d[c].getAttribute(g)==f){e=d[c];break}return b(e)},refresh:function(b){var h=this.options,e=b.node,c=b.action,a=b.items,d=this.wrapper,i=h.loadOnDemand;if(b.field){if(!a[0]||!a[0].level)return;return this._updateItems(a,b.field)}if(e&&(d=this.findByUid(e.uid),this._progress(d,!1)),"add"==c?this._appendItems(b.index,a,d):"remove"==c?this.remove(this.findByUid(a[0].uid)):"itemchange"==c?this._updateItems(a):"itemloaded"==c?this._refreshChildren(e,d):this._refreshRoot(a),"remove"!=c){for(var f=0;f<a.length;f++)if(!i||a[f].expanded){var g=a[f];this._hasChildItems(g)&&g.load()}}this.trigger("dataBound",{node:e?d:q})},_error:function(b){var a=b.node&&this.findByUid(b.node.uid),c=this.templates.retry({messages:this.options.messages});a?(this._progress(a,!1),this._expanded(a,!1),f(a).addClass("k-i-refresh"),b.node.loaded(!1)):(this._progress(!1),this.element.html(c))},_retryRequest:function(a){a.preventDefault(),this.dataSource.fetch()},items:function(){return this.element.find(".k-item > span:first-child")},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&(this._progress(!0),this.dataSource.fetch())},_bindDataSource:function(){this._refreshHandler=t(this.refresh,this),this._errorHandler=t(this._error,this),this.dataSource.bind(k,this._refreshHandler),this.dataSource.bind(i,this._errorHandler)},_unbindDataSource:function(){var a=this.dataSource;a&&(a.unbind(k,this._refreshHandler),a.unbind(i,this._errorHandler))},_fieldAccessor:function(e){var f=this.options[T[e]]||[],d=f.length,c="(function(item) {";return 0===d?c+="return item['"+e+"'];":(c+="var levels = ["+b.map(f,function(b){return"function(d){ return "+a.expr(b)+"}"}).join(",")+"];",c+="if(item.level){return levels[Math.min(item.level(), "+d+"-1)](item);}else",c+="{return levels["+d+"-1](item)}"),c+="})"},_dataSource:function(){var a=this.options.dataSource;a&&(a=v(a)?{data:a}:a,this._unbindDataSource(),a.fields||(a.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),this.dataSource=y.create(a),this._bindDataSource())},_appendItems:function(f,i,a){var c,d,e=this;a.hasClass("k-panelbar")?(c=a.children("li"),d=a):((d=a.children(".k-group")).length||(d=e._addGroupElement(a)),c=d.children("li"));var j={firstLevel:a.hasClass("k-panelbar"),expanded:!0,length:c.length},g=b.map(i,function(a,c){return b("string"==typeof a?a:e.renderItem({group:j,item:s(a,{index:c})}))});void 0===f&&(f=c.length);for(var h=0;h<g.length;h++)0===c.length||0===f?d.append(g[h]):g[h].insertAfter(c[f-1]);e._angularCompileElements(g,i),e.dataItem(a)&&(e.dataItem(a).hasChildren=!0,e.updateArrow(a))},_updateItems:function(f,d){var h,k,e,a,c=this,i={panelBar:c.options,item:a,group:{}},j="expanded"!=d;if("selected"==d){if(f[0][d]){var l=c.findByUid(f[0].uid);l.hasClass(K)||c.select(l,!0)}else c.clearSelection()}else{var m=b.map(f,function(a){return c.findByUid(a.uid)});for(j&&c.angular("cleanup",function(){return{elements:m}}),h=0;h<f.length;h++)i.item=a=f[h],i.panelBar=c,k=(e=m[h]).parent(),j&&(i.group={firstLevel:k.hasClass("k-panelbar"),expanded:e.parent().hasClass(G),length:e.children().length},e.children(".k-link").remove(),e.prepend(c.templates.itemWrapper(s(i,{arrow:a.hasChildren||a.content||a.contentUrl?c.templates.arrow:c.templates.empty},$)))),"expanded"==d?c._toggleItem(e,!a[d],!a[d]||"true"):"enabled"==d&&(c.enable(e,a[d]),a[d]||a.selected&&a.set("selected",!1)),e.length&&this.trigger("itemChange",{item:e.find(".k-link").first(),data:a,ns:g});j&&c.angular("compile",function(){return{elements:m,data:b.map(f,function(a){return[{dataItem:a}]})}})}},_toggleDisabled:function(b,a){(b=this.element.find(b)).toggleClass("k-state-default",a).toggleClass(K,!a).attr(O,!a)},dataItem:function(d){var e=b(d).closest(j).attr(a.attr("uid")),c=this.dataSource;return c&&c.getByUid(e)},select:function(a,e){var d=this;return a===q?d.element.find(N).parent():((a=d.element.find(a)).length?a.each(function(){var a=b(this),f=a.children(c);if(a.hasClass(K))return d;d._updateSelected(f,e)}):this._updateSelected(a),d)},clearSelection:function(){this.select(b())},enable:function(a,b){return this._toggleDisabled(a,!1!==b),this},disable:function(a){return this._toggleDisabled(a,!1),this},append:function(c,a){a=this.element.find(a);var b=this._insert(c,a,a.length?a.find(H):null);return u(b.items,function(){b.group.append(this),U(this)}),this.updateArrow(a),U(b.group.find(".k-first, .k-last")),b.group.height("auto"),this},insertBefore:function(c,a){a=this.element.find(a);var b=this._insert(c,a,a.parent());return u(b.items,function(){a.before(this),U(this)}),U(a),b.group.height("auto"),this},insertAfter:function(c,a){a=this.element.find(a);var b=this._insert(c,a,a.parent());return u(b.items,function(){a.after(this),U(this)}),U(a),b.group.height("auto"),this},remove:function(b){var a=(b=this.element.find(b)).parentsUntil(this.element,j),c=b.parent("ul");return b.remove(),!c||c.hasClass("k-panelbar")||c.children(j).length||c.remove(),a.length&&(a=a.eq(0),this.updateArrow(a),U(a)),this},reload:function(a){var c=this;(a=c.element.find(a)).each(function(){var a=b(this);c._ajaxRequest(a,a.children("."+E),!a.is(S))})},_first:function(){return this.element.children(e).first()},_last:function(){var a=this.element.children(e).last(),b=a.children(B);return b[0]?b.children(e).last():a},_current:function(d){var a=this._focused,e=this._itemId;if(d===q)return a;this.element.removeAttr("aria-activedescendant"),a&&a.length&&(a[0].id===e&&a.removeAttr("id"),a.children(c).removeClass(J)),b(d).length&&(e=d[0].id||e,d.attr("id",e).children(c).addClass(J),this.element.attr("aria-activedescendant",e)),this._focused=d},_keydown:function(a){var b=a.keyCode,c=this._current();a.target==a.currentTarget&&(b==r.DOWN||b==r.RIGHT?(this._current(this._nextItem(c)),a.preventDefault()):b==r.UP||b==r.LEFT?(this._current(this._prevItem(c)),a.preventDefault()):b==r.ENTER||b==r.SPACEBAR?(this._click(a),a.preventDefault()):b==r.HOME?(this._current(this._first()),a.preventDefault()):b==r.END&&(this._current(this._last()),a.preventDefault()))},_nextItem:function(b){if(!b)return this._first();var c=b.children(B),a=b.nextAll(":visible").first();return c[0]&&(a=c.children("."+C)),a[0]||(a=b.parent(B).parent(j).next()),a[0]||(a=this._first()),a.hasClass(K)&&(a=this._nextItem(a)),a},_prevItem:function(c){if(!c)return this._last();var b,a=c.prevAll(":visible").first();if(a[0])for(b=a;b[0];)(b=b.children(B).children("."+_))[0]&&(a=b);else(a=c.parent(B).parent(j))[0]||(a=this._last());return a.hasClass(K)&&(a=this._prevItem(a)),a},_insert:function(a,c,e){var f,i,d=this,j=b.isPlainObject(a),h=c&&c[0];if(h||(e=d.element),i={firstLevel:e.hasClass("k-panelbar"),expanded:b(c).hasClass(G),length:e.children().length},h&&!e.length&&(e=b(d.renderGroup({group:i,options:d.options})).appendTo(c)),j||b.isArray(a)||a instanceof y){if(a instanceof y&&(a=a.data()),f=b.map(j?[a]:a,function(a,c){return b("string"==typeof a?a:d.renderItem({group:i,item:s(a,{index:c})}))}),h){var g=d.dataItem(c);g?(g.hasChildren=!0,c.attr(P,g.expanded).not("."+G).children("ul").attr(Q,!g.expanded)):c.attr(P,!1)}}else f="string"==typeof a&&"<"!=a.charAt(0)?d.element.find(a):b(a),d._updateItemsClasses(f);return a.length||(a=[a]),d._angularCompileElements(f,a),{items:f,group:e}},_toggleHover:function(a){var c=b(a.currentTarget);c.parents("li."+K).length||c.toggleClass("k-state-hover",a.type==F)},_updateClasses:function(){var c,a,d,e,f;e=(c=this.element.find("li > ul").not(function(){return b(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group")).parent(),d=(f=this.dataItem(e))&&f.expanded||!1,c.parent().attr(P,d).not("."+G).children("ul").attr(Q,!d).hide(),a=this.element.add(c).children(),this._updateItemsClasses(a),this.updateArrow(a),U(a)},_updateItemsClasses:function(b){for(var c=b.length,a=0;a<c;a++)this._updateItemClasses(b[a],a)},_updateItemClasses:function(e,i){var j,f,k=this._selected,g=this.options.contentUrls,l=g&&g[i],m=this.element[0];e=b(e).addClass("k-item").attr("role","menuitem"),a.support.browser.msie&&e.css("list-style-position","inside").css("list-style-position",""),e.children("img").addClass("k-image"),(f=e.children("a").addClass(h))[0]&&(f.attr("href",l),f.children("img").addClass("k-image")),e.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),e.filter("li[disabled]").addClass("k-state-disabled").attr(O,!0).removeAttr("disabled"),e.children("div").addClass(E).attr("role","region").attr(Q,!0).hide().parent().attr(P,!1),(f=e.children(d))[0]&&(k&&k.removeAttr(R).children(d).removeClass(o),f.addClass(o),this._selected=e.attr(R,!0)),e.children(c)[0]||(j="<span class='k-link'/>",g&&g[i]&&e[0].parentNode==m&&(j='<a class="k-link k-header" href="'+g[i]+'"/>'),e.contents().filter(function(){return!(this.nodeName.match(z)||3==this.nodeType&&!b.trim(this.nodeValue))}).wrapAll(j)),e.parent(".k-panelbar")[0]&&e.children(c).addClass("k-header")},_click:function(e){var d,f,i,g=e.type==D?b(e.target):this._current().children(c),q=this.element;if(!g.parents("li."+K).length&&g.closest(".k-widget")[0]==q[0]&&(!g.is(":kendoFocusable")||g.hasClass(h))){var k=g.closest(c),a=k.closest(j);this._updateSelected(k);var n=a.children(".k-group,.k-content"),o=this.dataItem(a);if(!n.length&&(this.options.loadOnDemand&&o&&o.hasChildren||this._hasChildItems(a)||a.content||a.contentUrl)&&(n=this._addGroupElement(a)),f=a.find(H).add(a.find(I)),d=!(!((i=k.attr("href"))&&("#"==i.charAt(i.length-1)|| -1!=i.indexOf("#"+this.element[0].id+"-")))&&!f.length),f.data("animating")&&d)e.preventDefault();else if(this._triggerEvent("select",a)&&(d=!0),!1!==d){if("single"==this.options.expandMode&&this._collapseAllExpanded(a)&&d)e.preventDefault();else{if(f.length){var p=f.is(S);this._triggerEvent(p?m:l,a)||(d=this._toggleItem(a,p))}d&&e.preventDefault()}}}},_hasChildItems:function(a){return a.items&&0<a.items.length||a.hasChildren},_toggleItem:function(b,e,g){var d,f,h=b.find(H),j=b.find(c).attr("href"),a=this.dataItem(b),i=!e,k=a&&a.loaded();return a&&!g&&a.expanded!==i?(a.set("expanded",i),d=a.hasChildren||!!a.content||!!a.contentUrl):(!a||g&&"true"!==g||k||a.content||a.contentUrl?h.length?(this._toggleGroup(h,e),d=!0):(f=b.children("."+E)).length&&(d=!0,f.is(":empty")&&j!==q?this._ajaxRequest(b,f,e):this._toggleGroup(f,e)):(this.options.loadOnDemand&&this._progress(b,!0),b.children(".k-group,.k-content").remove(),d=a.hasChildren,a.load()),d)},_toggleGroup:function(c,a){var f=this,b=f.options.animation,d=b.expand,g=b.collapse&&"effects"in b.collapse,e=s({},b.expand,b.collapse);g||(e=s(e,{reverse:!0})),c.is(S)==a?(c.attr(Q,!!a),c.parent().attr(P,!a).toggleClass(G,!a).find("> .k-link > .k-panelbar-collapse,> .k-link > .k-panelbar-expand").toggleClass("k-i-arrow-60-up",!a).toggleClass("k-panelbar-collapse",!a).toggleClass("k-i-arrow-60-down",a).toggleClass("k-panelbar-expand",a),a?(d=s(e,{hide:!0})).complete=function(){f._animationCallback()}:d=s({complete:function(a){f._triggerEvent("activate",a.closest(j)),f._animationCallback()}},d),c.kendoStop(!0,!0).kendoAnimate(d)):f._animating=!1},_animationCallback:function(){this.trigger("complete"),this._animating=!1},_addGroupElement:function(c){var a=b('<ul role="group" aria-hidden="true" class="k-group k-panel" style="display:none"></ul>');return c.append(a),a},_collapseAllExpanded:function(a){var d,f=this,e=!1,c=a.find(H).add(a.find(I));return c.is(S)&&(e=!0),c.is(S)||0===c.length||((d=a.siblings()).find(H).add(d.find(I)).filter(function(){return b(this).is(S)}).each(function(c,a){a=b(a),(e=f._triggerEvent(m,a.closest(j)))||f._toggleGroup(a,!0)}),f.one("complete",function(){setTimeout(function(){d.each(function(c,b){var a=f.dataItem(b);a&&a.set("expanded",!1)})})})),e},_ajaxRequest:function(a,f,g){var h=this,j=a.find(".k-panelbar-collapse, .k-panelbar-expand"),d=a.find(c),k=setTimeout(function(){j.addClass("k-i-loading")},100),e=d.attr("href");b.ajax({type:"GET",cache:!1,url:e,dataType:"html",data:{},error:function(a,b){j.removeClass("k-i-loading"),h.trigger(i,{xhr:a,status:b})&&this.complete()},complete:function(){clearTimeout(k),j.removeClass("k-i-loading")},success:function(i){function c(){return{elements:f.get()}}try{h.angular("cleanup",c),f.html(i),h.angular("compile",c)}catch(d){var b=window.console;b&&b.error&&b.error(d.name+": "+d.message+" in "+e),this.error(this.xhr,"error")}h._toggleGroup(f,g),h.trigger(n,{item:a[0],contentElement:f[0]})}})},_triggerEvent:function(a,b){return this.trigger(a,{item:b[0]})},_updateSelected:function(b,f){var c=this.element,a=b.parent(j),d=this._selected,e=this.dataItem(a);d&&d.removeAttr(R),this._selected=a.attr(R,!0),c.find(N).removeClass(o),c.find("> ."+L+", .k-panel > ."+L).removeClass(L),b.addClass(o),b.parentsUntil(c,j).filter(":has(.k-header)").addClass(L),this._current(a[0]?a:null),e&&e.set("selected",!0),f||this.trigger(k)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})},renderItem:function(a){a=s({panelBar:this,group:{}},a);var c=this.templates.empty,b=a.item;return this.templates.item(s(a,{itemWrapper:this.templates.itemWrapper,renderContent:this.renderContent,arrow:this._hasChildItems(b)||b.content||b.contentUrl?this.templates.arrow:c,subGroup:!a.loadOnDemand||b.expanded?this.renderGroup:c},$))},renderGroup:function(a){return(this.templates||a.panelBar.templates).group(s({renderItems:function(a){for(var d="",b=0,c=a.items,e=c?c.length:0,f=s({length:e},a.group);b<e;b++)d+=a.panelBar.renderItem(s(a,{group:f,item:s({index:b},c[b])}));return d}},a,$))},renderContent:function(a){return a.panelBar.templates.content(s(a,$))}});a.ui.plugin(p)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(c,a,b){(b||a)()})("kendo.window",["kendo.draganddrop","kendo.popup"],function(){return function(c,p){var d,a=window.kendo,e=a.ui.Widget,q=a.ui.Popup.TabKeyTrap,r=a.ui.Draggable,s=c.isPlainObject,t=a._activeElement,u=a._outerWidth,v=a._outerHeight,_=c.proxy,w=c.extend,x=c.each,b=a.template,y="body",z=".kendoWindow",A=".kendoWindowModal",B=".k-window",f=".k-window-title",C=f+"bar",D=".k-window-content",E=".k-resize-handle",F=".k-overlay",g="k-content-frame",G="k-i-loading",H="k-state-hover",I="k-state-focused",J="k-window-maximized",K=":visible",L="hidden",M="cursor",h="activate",i="deactivate",j="refresh",k="resizeStart",N="overflow",O="original-overflow-rule",P="zIndex",Q=".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize",l=".k-i-unpin",R=".k-i-pin,"+l,S=".k-window-titlebar .k-window-action",T=".k-window-titlebar .k-i-refresh",U="WindowEventsHandled",V=/^0[a-z]*$/i,W=a.isLocalUrl,X={small:"k-window-sm",medium:"k-window-md",large:"k-window-lg"};function $(a){return void 0!==a}function Y(a,b){return parseInt(a.css(b),10)||0}function Z(a,b,c){return a&&isNaN(a)&&0>a.toString().indexOf("px")?a:Math.max(Math.min(parseInt(a,10),c===1/0?c:parseInt(c,10)),b=== -1/0?b:parseInt(b,10))}function aa(){return!this.type||0<=this.type.toLowerCase().indexOf("script")}function ab(d){for(var b={top:d.offsetTop,left:d.offsetLeft},a=d.offsetParent;a;){b.top+=a.offsetTop,b.left+=a.offsetLeft;var e=c(a).css("overflowX"),f=c(a).css("overflowY");"auto"!==f&&"scroll"!==f||(b.top-=a.scrollTop),"auto"!==e&&"scroll"!==e||(b.left-=a.scrollLeft),a=a.offsetParent}return b}var m=e.extend({init:function(i,d){var j,t,u,k,l,m,n,o,b=this,r={},v=d&&d.actions&&!d.actions.length;e.fn.init.call(b,i,d),k=(d=b.options).position,i=b.element,l=d.content,n=c(window),v&&(d.actions=[]),b.appendTo=c(d.appendTo),b.containment=d.draggable.containment?c(d.draggable.containment).first():null,l&&!s(l)&&(l=d.content={url:l}),i.find("script").filter(aa).remove(),i.parent().is(b.appendTo)||b.containment||k.top!==p&&k.left!==p||(i.is(K)?r=i.offset():(t=i.css("visibility"),u=i.css("display"),i.css({visibility:L,display:""}),r=i.offset(),i.css({visibility:t,display:u})),k.top===p&&(k.top=r.top),k.left===p&&(k.left=r.left)),$(d.visible)&&null!==d.visible||(d.visible=i.is(K)),j=b.wrapper=i.closest(B),i.is(".k-content")&&j[0]||(i.addClass("k-window-content k-content"),b._createWindow(i,d),j=b.wrapper=i.closest(B),b.title(b.options.title),b._dimensions()),b.minTop=b.minLeft=-1/0,b.maxTop=b.maxLeft=1/0,b._position(),l&&b.refresh(l),d.visible&&b.toFront(),m=j.children(D),b._tabindex(m),d.visible&&d.modal&&b._overlay(j.is(K)).css({opacity:.5}),j.on("mouseenter"+z,S,_(b._buttonEnter,b)).on("mouseleave"+z,S,_(b._buttonLeave,b)).on("click"+z,"> "+S,_(b._windowActionHandler,b)).on("keydown"+z,_(b._keydown,b)).on("focus"+z,_(b._focus,b)).on("blur"+z,_(b._blur,b)),m.on("keydown"+z,_(b._keydown,b)).on("focus"+z,_(b._focus,b)).on("blur"+z,_(b._blur,b)),m.find("."+g)[0]&&!n.data(U)&&(n.on("blur"+z,function(){var b=c(document.activeElement).parent(D);b.length&&a.widgetInstance(b)._focus()}),n.on("focus"+z,function(){c(D).not(".k-dialog-content").each(function(d,b){a.widgetInstance(c(b))._blur()})}),n.data(U,!0)),this._resizable(),this._draggable(),d.pinned&&this.wrapper.is(":visible")&&b.pin(),(o=i.attr("id"))&&(o+="_wnd_title",j.children(C).children(f).attr("id",o),m.attr({role:"dialog","aria-labelledby":o})),j.add(j.children(".k-resize-handle,"+C)).on("mousedown"+z,_(b.toFront,b)),b.touchScroller=a.touchScroller(i),b._resizeHandler=_(b._onDocumentResize,b),b._marker=a.guid().substring(0,8),c(window).on("resize"+z+b._marker,b._resizeHandler),d.visible&&(b.trigger("open"),b.trigger(h)),a.notify(b),this.options.modal&&(this._tabKeyTrap=new q(j),this._tabKeyTrap.trap(),this._tabKeyTrap.shouldTrap=function(){return m.data("isFront")})},_buttonEnter:function(a){c(a.currentTarget).addClass(H)},_buttonLeave:function(a){c(a.currentTarget).removeClass(H)},_focus:function(){this.wrapper.addClass(I)},_blur:function(){this.wrapper.removeClass(I)},_dimensions:function(){var a=this.wrapper,b=this.options,h=b.width,i=b.height,d=b.maxHeight,e=b.size,f=["minWidth","minHeight","maxWidth","maxHeight"],g="content-box"==a.css("box-sizing"),k=g?Y(a,"border-left-width")+Y(a,"border-right-width"):0,l=g?Y(a,"border-top-width")+Y(a,"border-bottom-width"):0,m=g?Y(a,"padding-top"):0;this.containment&&!this._isPinned&&(this._updateBoundaries(),b.maxHeight=Math.min(this.containment.height-(l+m),d),b.maxWidth=Math.min(this.containment.width-k,b.maxWidth));for(var c=0;c<f.length;c++){var j=b[f[c]]||"";j!=1/0&&a.css(f[c],j)}d!=1/0&&this.element.css("maxHeight",d),h?a.width(Z(h,b.minWidth,b.maxWidth)):a.width(""),i?a.height(Z(i,b.minHeight,b.maxHeight)):a.height(""),b.visible||a.hide(),e&&X[e]&&a.addClass(X[e])},_position:function(){var b=this.wrapper,a=this.options.position;this._updateBoundaries(),this.containment&&(a.top=Math.min(this.minTop+(a.top||0),this.maxTop),a.left=Math.min(this.minLeft+(a.left||0),this.maxLeft)),0===a.top&&(a.top=a.top.toString()),0===a.left&&(a.left=a.left.toString()),b.css({top:a.top||"",left:a.left||""})},_updateBoundaries:function(){var b=this.containment;if(!b)return null;b.width=b.innerWidth(),b.height=b.innerHeight(),parseInt(b.width,10)>b[0].clientWidth&&(b.width-=a.support.scrollbar()),parseInt(b.height,10)>b[0].clientHeight&&(b.height-=a.support.scrollbar()),b.position=ab(b[0]),this._isPinned?(this.minTop=this.minLeft=-1/0,this.maxTop=this.maxLeft=1/0):(this.minTop=b.scrollTop(),this.minLeft=b.scrollLeft(),this.maxLeft=this.minLeft+b.width-u(this.wrapper,!0),this.maxTop=this.minTop+b.height-v(this.wrapper,!0))},_animationOptions:function(a){var b=this.options.animation;return b&&b[a]||({open:{effects:{}},close:{hide:!0,effects:{}}})[a]},_resize:function(){a.resize(this.element.children())},_resizable:function(){var b=this.options.resizable,a=this.wrapper;this.resizing&&(a.off("dblclick"+z).children(E).remove(),this.resizing.destroy(),this.resizing=null),b&&(a.on("dblclick"+z,C,_(function(a){c(a.target).closest(".k-window-action").length||this.toggleMaximization()},this)),x("n e s w se sw ne nw".split(" "),function(c,b){a.append(d.resizeHandle(b))}),this.resizing=new n(this)),a=null},_draggable:function(){var a=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),a&&(this.dragging=new o(this,a.dragHandle||C))},_actions:function(){var e=this.options,b=e.actions,g=e.pinned,f=this.wrapper.children(C).find(".k-window-actions"),h=["maximize","minimize"];b=c.map(b,function(a){return a=g&&"pin"===a.toLowerCase()?"unpin":a,{name:-1<h.indexOf(a.toLowerCase())?"window-"+a:a}}),f.html(a.render(d.action,b))},setOptions:function(a){var b=this.options.size,c=JSON.parse(JSON.stringify(a));w(a.position,this.options.position),w(a.position,c.position),e.fn.setOptions.call(this,a);var d=!1!==this.options.scrollable;if(this.restore(),void 0!==a.title&&this.title(a.title),this.wrapper.removeClass(X[b]),this._dimensions(),this._position(),this._resizable(),this._draggable(),this._actions(),void 0!==a.modal){var f=!1!==this.options.visible;this._enableDocumentScrolling(),this._overlay(a.modal&&f)}this.element.css(N,d?"":"hidden")},events:["open",h,i,"close","minimize","maximize",j,k,"resize","resizeEnd","dragstart","dragend","error"],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,size:"auto",resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,scrollable:!0,position:{},content:null,visible:null,height:null,width:null,appendTo:"body",isMaximized:!1,isMinimized:!1},_closable:function(){return -1<c.inArray("close",c.map(this.options.actions,function(a){return a.toLowerCase()}))},_keydown:function(f){var d,h,m,n,k,l,b=this,i=b.options,g=a.keys,e=f.keyCode,c=b.wrapper,j=i.isMaximized,o=i.isMinimized;e==g.ESC&&b._closable()&&(f.stopPropagation(),b._close(!1)),f.target!=f.currentTarget||b._closing||(f.altKey&&82==e&&b.refresh(),f.altKey&&80==e&&(b.options.pinned?b.unpin():b.pin()),f.altKey&&e==g.UP?o?(b.restore(),b.element.focus()):j||(b.maximize(),b.element.focus()):f.altKey&&e==g.DOWN&&(o||j?j&&(b.restore(),b.element.focus()):(b.minimize(),b.wrapper.focus())),d=a.getOffset(c),b.containment&&!b._isPinned&&(d=b.options.position),!i.draggable||f.ctrlKey||f.altKey||j||(b._updateBoundaries(),e==g.UP?(d.top=Z(d.top-10,b.minTop,b.maxTop),h=c.css("top",d.top)):e==g.DOWN?(d.top=Z(d.top+10,b.minTop,b.maxTop),h=c.css("top",d.top)):e==g.LEFT?(d.left=Z(d.left-10,b.minLeft,b.maxLeft),h=c.css("left",d.left)):e==g.RIGHT&&(d.left=Z(d.left+10,b.minLeft,b.maxLeft),h=c.css("left",d.left))),i.resizable&&f.ctrlKey&&!j&&!o&&(e==g.UP?(h=!0,n=c.height()-10):e==g.DOWN&&(h=!0,n=b.containment&&!b._isPinned?Math.min(c.height()+10,b.containment.height-d.top-Y(c,"padding-top")-Y(c,"borderBottomWidth")-Y(c,"borderTopWidth")):c.height()+10),e==g.LEFT?(h=!0,m=c.width()-10):e==g.RIGHT&&(h=!0,m=b.containment&&!b._isPinned?Math.min(c.width()+10,b.containment.width-d.left-Y(c,"borderLeftWidth")-Y(c,"borderRightWidth")):c.width()+10),h&&(k=Z(m,i.minWidth,i.maxWidth),l=Z(n,i.minHeight,i.maxHeight),isNaN(k)||(c.width(k),b.options.width=k+"px"),isNaN(l)||(c.height(l),b.options.height=l+"px"),b.resize())),h&&f.preventDefault())},_overlay:function(d){var a=this.containment?this.containment.children(F):this.appendTo.children(F),b=this.wrapper;return a.length||(a=c("<div class='k-overlay' />")),a.insertBefore(b[0]).toggle(d).css(P,parseInt(b.css(P),10)-1),this.options.modal.preventScroll&&!this.containment&&this._stopDocumentScrolling(),a},_actionForIcon:function(a){return({"k-i-close":"_close","k-i-window-maximize":"maximize","k-i-window-minimize":"minimize","k-i-window-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"})[/\bk-i(-\w+)+\b/.exec(a[0].className)[0]]},_windowActionHandler:function(a){if(!this._closing){var d=c(a.target).closest(".k-window-action").find(".k-icon"),b=this._actionForIcon(d);return b?(a.preventDefault(),this[b](),!1):void 0}},_modals:function(){var a=this,b=c(B).filter(function(){var d=c(this),e=a._object(d),b=e&&e.options;return b&&b.modal&&b.visible&&b.appendTo===a.options.appendTo&&d.is(K)}).sort(function(a,b){return c(a).css("zIndex")-c(b).css("zIndex")});return a=null,b},_object:function(b){var c=b.children(D);return a.widgetInstance(c)||p},center:function(){var b,d,a=this,g=a.options.position,e=a.wrapper,f=c(window),h=0,i=0;return a.options.isMaximized||(a.options.pinned&&!a._isPinned&&a.pin(),a.options.pinned||(h=f.scrollTop(),i=f.scrollLeft()),this.containment&&!a.options.pinned?(b=this.minTop+(this.maxTop-this.minTop)/2,d=this.minLeft+(this.maxLeft-this.minLeft)/2):(a._scrollIsAppended=!0,d=i+Math.max(0,(f.width()-e.width())/2),b=h+Math.max(0,(f.height()-e.height()-Y(e,"paddingTop"))/2)),e.css({left:d,top:b}),g.top=b,g.left=d),a},title:function(h){var e,i,j,k,l=!0,b=this.wrapper,g=b.children(C),m=g.children(f);return arguments.length?(c.isPlainObject(h)?(e=void 0!==h.text?h.text:"",l=!1!==h.encoded):e=h,!1===e?(b.addClass("k-window-titleless"),b.css("padding-top",0),g.remove()):(g.length?m.html(l?a.htmlEncode(e):e):(b.prepend(d.titlebar({title:l?a.htmlEncode(e):e})),this._actions(),g=b.children(C)),k=b.css("visibility"),j=b.css("display"),k===L?(b.css({display:""}),i=parseInt(v(g),10),b.css({display:j})):(b.css({visibility:L,display:""}),i=parseInt(v(g),10),b.css({visibility:k,display:j})),b.css("padding-top",i),g.css("margin-top",-i)),this.options.title=e,this):m.html()},content:function(c,e){var b=this.wrapper.children(D),d=b.children(".km-scroll-container");return b=d[0]?d:b,$(c)?(this.angular("cleanup",function(){return{elements:b.children()}}),a.destroy(this.element.children()),b.empty().html(c),this.angular("compile",function(){for(var a=[],c=b.length;0<= --c;)a.push({dataItem:e});return{elements:b.children(),data:a}}),this):b.html()},open:function(){var d,h,b=this,e=b.wrapper,f=b.options,g=this._animationOptions("open"),k=e.children(D),j=this.containment&&!b._isPinned?this.containment:c(document);if(!b.trigger("open")){if(b._closing&&e.kendoStop(!0,!0),b._closing=!1,b.toFront(),f.autoFocus&&b.element.focus(),f.visible=!0,f.modal){if(h=!!b._modals().length,(d=b._overlay(h)).kendoStop(!0,!0),g.duration&&a.effects.Fade&&!h){var i=a.fx(d).fadeIn();i.duration(g.duration||0),i.endValue(.5),i.play()}else d.css("opacity",.5);d.show(),c(window).on("focus"+A,function(){k.data("isFront")&&!c(document.activeElement).closest(k).length&&b.element.focus()})}e.is(K)||(k.css(N,L),b.wrapper.find(S).addClass("k-bare"),e.show().kendoStop().kendoAnimate({effects:g.effects,duration:g.duration,complete:_(this._activate,this)}))}return f.isMaximized&&(b._containerScrollTop=j.scrollTop(),b._containerScrollLeft=j.scrollLeft(),b._stopDocumentScrolling()),this.options.pinned&&!this._isPinned&&this.pin(),b},_activate:function(){var b=!1!==this.options.scrollable;this.options.autoFocus&&this.element.focus(),this.element.css(N,b?"":"hidden"),a.resize(this.element.children()),this.trigger(h)},_removeOverlay:function(g){var d=this._modals(),b=this.options,h=b.modal&&!d.length,i=b.modal?this._overlay(!0):c(p),f=this._animationOptions("close");if(h){if(!g&&f.duration&&a.effects.Fade){var e=a.fx(i).fadeOut();e.duration(f.duration||0),e.startValue(.5),e.play()}else this._overlay(!1).remove();b.modal.preventScroll&&this._enableDocumentScrolling()}else d.length&&(this._object(d.last())._overlay(!0),b.modal.preventScroll&&this._stopDocumentScrolling())},_close:function(h){var b,a=this,e=a.wrapper,i=a.options,j=this._animationOptions("open"),d=this._animationOptions("close"),f=this.containment&&!a._isPinned?this.containment:c(document);a._closing||(b=a.trigger("close",{userTriggered:!h}),a._closing=!b,e.is(K)&&!b&&(i.visible=!1,c(B).each(function(d,a){var b=c(a).children(D);a!=e&&0<b.find("> ."+g).length&&b.children(F).remove()}),this._removeOverlay(),a.wrapper.find(S).removeClass("k-bare"),e.kendoStop().kendoAnimate({effects:d.effects||j.effects,reverse:!0===d.reverse,duration:d.duration,complete:_(this._deactivate,this)}),c(window).off(A)),a.options.isMaximized&&(a._enableDocumentScrolling(),a._containerScrollTop&&0<a._containerScrollTop&&f.scrollTop(a._containerScrollTop),a._containerScrollLeft&&0<a._containerScrollLeft&&f.scrollLeft(a._containerScrollLeft)))},_deactivate:function(){if(this.wrapper.hide().css("opacity",""),this.trigger(i),this.options.modal){var a=this._object(this._modals().last());a&&a.toFront()}},close:function(){return this._close(!0),this},_actionable:function(a){return c(a).is(S+","+S+" .k-icon,:input,a")},_shouldFocus:function(b){var d=t(),a=this.element;return this.options.autoFocus&&!c(d).is(a)&&!this._actionable(b)&&(!a.find(d).length||!a.find(b).length)},toFront:function(i){var a=this,b=a.wrapper,m=b[0],k=a.containment&&!a._isPinned,e=+b.css(P),l=e,j=i&&i.target||null;if(c(B).each(function(i,a){var f=c(a),h=f.css(P),b=f.children(D);isNaN(h)||(e=Math.max(+h,e)),b.data("isFront",a==m),a!=m&&0<b.find("> ."+g).length&&b.append(d.overlay)}),(!b[0].style.zIndex||l<e)&&b.css(P,e+2),a.element.find("> .k-overlay").remove(),a._shouldFocus(j)){a.isMinimized()?a.wrapper.focus():c(j).is(F)?setTimeout(function(){a.element.focus()}):a.element.focus();var f=k?a.containment.scrollTop():c(window).scrollTop(),h=parseInt(b.position().top,10);!a.options.pinned&&0<h&&h<f&&(0<f?c(window).scrollTop(h):b.css("top",f))}return b=null,a},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var a=this,b=a.options,e=b.minHeight,d=a.restoreOptions,f=a.containment&&!a._isPinned?a.containment:c(document);return(b.isMaximized||b.isMinimized)&&(e&&e!=1/0&&a.wrapper.css("min-height",e),d&&!b.isMaximized&&(d.height=Z(d.height,a.options.minHeight,a.options.maxHeight),b.position.top+parseInt(d.height,10)>a.maxTop&&(b.position.top=Z(b.position.top,a.minTop,a.maxTop-parseInt(d.height,10)),w(d,{left:b.position.left,top:b.position.top}))),a.wrapper.css({position:b.pinned?"fixed":"absolute",left:d.left,top:d.top,width:d.width,height:d.height}).removeClass(J).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-window-restore").parent().remove().end().end().find(Q).parent().show().end().end().find(R).parent().show(),b.isMaximized?a.wrapper.find(".k-i-window-maximize").parent().focus():b.isMinimized&&a.wrapper.find(".k-i-window-minimize").parent().focus(),a.options.width=d.width,a.options.height=d.height,a.options.modal.preventScroll||a._enableDocumentScrolling(),a._containerScrollTop&&0<a._containerScrollTop&&f.scrollTop(a._containerScrollTop),a._containerScrollLeft&&0<a._containerScrollLeft&&f.scrollLeft(a._containerScrollLeft),b.isMaximized=b.isMinimized=!1,a.wrapper.removeAttr("tabindex"),a.wrapper.removeAttr("aria-labelled-by"),a.resize()),a},_sizingAction:function(b,f){var a=this.wrapper,c=a[0].style,e=this.options;return e.isMaximized||e.isMinimized||(this.restoreOptions={width:c.width,height:c.height},a.children(E).hide().end().children(C).find(Q).parent().hide().eq(0).before(d.action({name:"window-restore"})),f.call(this),this.wrapper.children(C).find(R).parent().toggle("maximize"!==b),this.trigger(b),a.find(".k-i-window-restore").parent().focus()),this},maximize:function(){return this._sizingAction("maximize",function(){var b=this.wrapper,a=this.containment&&!this._isPinned,d=b.position(),e=c(document);w(this.restoreOptions,{left:d.left+(a?this.containment.scrollLeft():0),top:d.top+(a?this.containment.scrollTop():0)}),this._containerScrollTop=a?this.containment.scrollTop():e.scrollTop(),this._containerScrollLeft=a?this.containment.scrollLeft():e.scrollLeft(),this._stopDocumentScrolling(),b.css({top:a?this.containment.scrollTop():0,left:a?this.containment.scrollLeft():0,position:a?"absolute":"fixed"}).addClass(J),this.options.isMaximized=!0,this._onDocumentResize()}),this},_stopDocumentScrolling:function(){var a=this.containment;if(a&&!this._isPinned)return this._storeOverflowRule(a),a.css(N,L),void this.wrapper.css({maxWidth:a.innerWidth(),maxHeight:a.innerHeight()});var b=c("body");this._storeOverflowRule(b),b.css(N,L);var d=c("html");this._storeOverflowRule(d),d.css(N,L)},_enableDocumentScrolling:function(){var a=this.containment;if(a&&!this._isPinned)return this._restoreOverflowRule(a),void this.wrapper.css({maxWidth:a.width,maxHeight:a.height});this._restoreOverflowRule(c(document.body)),this._restoreOverflowRule(c("html"))},_storeOverflowRule:function(a){if(!this._isOverflowStored(a)){var b=a.get(0).style.overflow;"string"==typeof b&&a.data(O,b)}},_isOverflowStored:function(a){return"string"==typeof a.data(O)},_restoreOverflowRule:function(a){var b=a.data(O);null!==b&&b!==p?(a.css(N,b),a.removeData(O)):a.css(N,"")},isMaximized:function(){return this.options.isMaximized},minimize:function(){return this._sizingAction("minimize",function(){this.wrapper.css({height:"",minHeight:""}),this.element.hide(),this.options.isMinimized=!0}),this.wrapper.attr("tabindex",0),this.wrapper.attr("aria-labelled-by",this.element.attr("aria-labelled-by")),this._updateBoundaries(),this},isMinimized:function(){return this.options.isMinimized},pin:function(){var e=c(window),a=this.wrapper,d=this.options,b=d.position,f=this.containment?ab(a[0]).top+Y(this.containment,"borderTopWidth"):Y(a,"top"),g=this.containment?ab(a[0]).left+Y(this.containment,"borderLeftWidth"):Y(a,"left");this.options.isMaximized||(b.top=f,b.left=g,!this._scrollIsAppended||this.containment&&"fixed"===this.containment.css("position")||(b.top-=e.scrollTop(),b.left-=e.scrollLeft(),this._scrollIsAppended=!1),a.css(w(b,{position:"fixed"})),a.children(C).find(".k-i-pin").addClass("k-i-unpin").removeClass("k-i-pin"),this._isPinned=!0,this.options.pinned=!0,this.containment&&(d.maxWidth=d.maxHeight=1/0,a.css({maxWidth:"",maxHeight:""})))},unpin:function(){var a=this,i=c(window),d=a.wrapper,e=a.options,h=a.options.position,b=a.containment,f=parseInt(d.css("top"),10)+i.scrollTop(),g=parseInt(d.css("left"),10)+i.scrollLeft();a.options.isMaximized||(a._isPinned=!1,a._scrollIsAppended=!0,a.options.pinned=!1,b&&(a._updateBoundaries(),e.maxWidth=Math.min(b.width,e.maxWidth),e.maxHeight=Math.min(b.height-Y(d,"padding-top"),e.maxHeight),d.css({maxWidth:e.maxWidth,maxHeight:e.maxHeight}),f=f<b.position.top?a.minTop:f>b.position.top+b.height?a.maxTop:f+b.scrollTop()-(b.position.top+Y(b,"border-top-width")),g=g<b.position.left?a.minLeft:g>b.position.left+b.width?a.maxLeft:g+b.scrollLeft()-(b.position.left+Y(b,"border-left-width"))),h.top=Z(f,a.minTop,a.maxTop),h.left=Z(g,a.minLeft,a.maxLeft),d.css(w(h,{position:""})),d.children(C).find(l).addClass("k-i-pin").removeClass("k-i-unpin"))},_onDocumentResize:function(){var d,e,b=this.wrapper,g=c(window),h=a.support.zoomLevel(),f="content-box"==b.css("box-sizing");if(this.options.isMaximized){var i=f?Y(b,"border-left-width")+Y(b,"border-right-width"):0,j=f?Y(b,"border-top-width")+Y(b,"border-bottom-width"):0,k=f?Y(b,"padding-top"):0;e=this.containment&&!this._isPinned?(d=this.containment.innerWidth()-i,this.containment.innerHeight()-(j+k)):(d=g.width()/h-i,g.height()/h-(j+k)),b.css({width:d,height:e}),this.options.width=d,this.options.height=e,this.resize()}},refresh:function(a){var i,e,k,f=this.options,h=c(this.element);return s(a)||(a={url:a}),a=w({},f.content,a),e=$(f.iframe)?f.iframe:a.iframe,(k=a.url)?($(e)||(e=!W(k)),e?((i=h.find("."+g)[0])?i.src=k||i.src:h.html(d.contentFrame(w({},f,{content:a}))),h.find("."+g).unbind("load"+z).on("load"+z,_(this._triggerRefresh,this))):this._ajaxRequest(a)):(a.template&&this.content(b(a.template)({})),this.trigger(j)),h.toggleClass("k-window-iframecontent",!!e),this},_triggerRefresh:function(){this.trigger(j)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(T).removeClass(G)},_ajaxError:function(a,b){this.trigger("error",{status:b,xhr:a})},_ajaxSuccess:function(a){return function(c){var d=c;a&&(d=b(a)(c||{})),this.content(d,c),this.element.prop("scrollTop",0),this.trigger(j)}},_showLoading:function(){this.wrapper.find(T).addClass(G)},_ajaxRequest:function(a){this._loadingIconTimeout=setTimeout(_(this._showLoading,this),100),c.ajax(w({type:"GET",dataType:"html",cache:!1,error:_(this._ajaxError,this),complete:_(this._ajaxComplete,this),success:_(this._ajaxSuccess(a.template),this)},a))},_destroy:function(){this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.wrapper.off(z).children(D).off(z).end().find(".k-resize-handle,.k-window-titlebar").off(z),c(window).off("resize"+z+this._marker),c(window).off(A),c(window).off(z),clearTimeout(this._loadingIconTimeout),e.fn.destroy.call(this),this.unbind(p),a.destroy(this.wrapper),this._removeOverlay(!0)},destroy:function(){this._destroy(),this.wrapper.empty().remove(),this.wrapper=this.appendTo=this.element=c()},_createWindow:function(){var h,b,e=this.element,f=this.options,g=a.support.isRtl(e);!1===f.scrollable&&e.css("overflow","hidden"),b=c(d.wrapper(f)),h=e.find("iframe:not(.k-content)").map(function(){var a=this.getAttribute("src");return this.src="",a}),b.toggleClass("k-rtl",g).append(e).find("iframe:not(.k-content)").each(function(a){this.src=h[a]}),this.containment?this.containment.prepend(b):this.appendTo&&b.appendTo(this.appendTo),b.find(".k-window-title").css(g?"left":"right",u(b.find(".k-window-actions"))+10),e.css("visibility","").show(),e.find("[data-role=editor]").each(function(){var a=c(this).data("kendoEditor");a&&a.refresh()}),b=e=null}});function n(b){var a=this;a.owner=b,a._preventDragging=!1,a._draggable=new r(b.wrapper,{filter:">"+E,group:b.wrapper.id+"-resizing",dragstart:_(a.dragstart,a),drag:_(a.drag,a),dragend:_(a.dragend,a)}),a._draggable.userEvents.bind("press",_(a.addOverlay,a)),a._draggable.userEvents.bind("release",_(a.removeOverlay,a))}function o(b,c){var a=this;a.owner=b,a._preventDragging=!1,a._draggable=new r(b.wrapper,{filter:c,group:b.wrapper.id+"-moving",dragstart:_(a.dragstart,a),drag:_(a.drag,a),dragend:_(a.dragend,a),dragcancel:_(a.dragcancel,a)}),a._draggable.userEvents.stopPropagation=!1}d={wrapper:b("<div class='k-widget k-window' />"),action:b("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action' aria-label='#= name #'><span class='k-icon k-i-#= name.toLowerCase() #'></span></a>"),titlebar:b("<div class='k-window-titlebar k-header'><span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:b("<iframe frameborder='0' title='#= title #' class='"+g+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:b("<div class='k-resize-handle k-resize-#= data #'></div>")},n.prototype={addOverlay:function(){this.owner.wrapper.append(d.overlay)},removeOverlay:function(){this.owner.wrapper.find(F).remove()},dragstart:function(f){var b=this,e=b.owner,d=e.wrapper;if(b._preventDragging=e.trigger(k),!b._preventDragging){b.elementPadding=parseInt(d.css("padding-top"),10),b.initialPosition=a.getOffset(d,"position"),b.resizeDirection=f.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),b.initialSize={width:d.width(),height:d.height()},e._updateBoundaries(),b.containerOffset=e.containment?e.containment.position:a.getOffset(e.appendTo,"position");var g=d.offsetParent();if(g.is("html"))b.containerOffset.top=b.containerOffset.left=0;else{var l=g.css("margin-top"),m=g.css("margin-left");if(!V.test(l)||!V.test(m)){var h=ab(d[0]),i=h.left-b.containerOffset.left-b.initialPosition.left,j=h.top-b.containerOffset.top-b.initialPosition.top;b._relativeElMarginLeft=1<i?i:0,b._relativeElMarginTop=1<j?j:0,b.initialPosition.left+=b._relativeElMarginLeft,b.initialPosition.top+=b._relativeElMarginTop}}d.children(E).not(f.currentTarget).hide(),c(y).css(M,f.currentTarget.css(M))}},drag:function(r){if(!this._preventDragging){var h,g,p,q,b=this.owner,l=b.wrapper,d=b.options,e=d.position,m=this.resizeDirection,f=this.containerOffset,j=this.initialPosition,k=this.initialSize,s=b.containment&&!b._isPinned,t=a.support.isRtl(b.containment),n=s&&t&&b.containment.innerWidth()>b.containment.width?a.support.scrollbar():0,i=s?{top:b.containment.scrollTop(),left:b.containment.scrollLeft()}:{top:0,left:0},_=Math.max(r.x.location,0),u=Math.max(r.y.location,0);0<=m.indexOf("e")?(h=b.containment&&_-k.width>=b.maxLeft-i.left+f.left+n?b.maxLeft+n-j.left+k.width-i.left:_-j.left-f.left,l.width(Z(h,d.minWidth,d.maxWidth))):0<=m.indexOf("w")&&(h=Z((q=j.left+k.width+f.left)-_,d.minWidth,d.maxWidth),e.left=q-h-f.left-n-(this._relativeElMarginLeft||0)+i.left,b.containment&&e.left<=b.minLeft&&(e.left=b.minLeft,h=Z(q-n-e.left-f.left+i.left,d.minWidth,d.maxWidth)),l.css({left:e.left,width:h}));var o=u;b.options.pinned&&(o-=c(window).scrollTop()),0<=m.indexOf("s")?(g=o-j.top-this.elementPadding-f.top,o-k.height-this.elementPadding>=b.maxTop+f.top-i.top&&(g=b.maxTop-j.top+k.height-i.top),l.height(Z(g,d.minHeight,d.maxHeight))):0<=m.indexOf("n")&&(g=Z((p=j.top+k.height+f.top)-o,d.minHeight,d.maxHeight),e.top=p-g-f.top-(this._relativeElMarginTop||0)+i.top,e.top<=b.minTop&&b.containment&&(e.top=b.minTop,g=Z(p-e.top-f.top+i.top,d.minHeight,d.maxHeight)),l.css({top:e.top,height:g})),h&&(b.options.width=h+"px"),g&&(b.options.height=g+"px"),b.resize()}},dragend:function(b){if(!this._preventDragging){var a=this.owner,d=a.wrapper;return d.children(E).not(b.currentTarget).show(),c(y).css(M,""),a.touchScroller&&a.touchScroller.reset(),27==b.keyCode&&d.css(this.initialPosition).css(this.initialSize),a.trigger("resizeEnd"),!1}},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},o.prototype={dragstart:function(e){var b=this.owner,i=b.options.draggable,f=b.element,g=f.find(".k-window-actions"),h=a.getOffset(b.appendTo);this._preventDragging=b.trigger("dragstart")||!i,this._preventDragging||b.isMaximized()||(b.initialWindowPosition=a.getOffset(b.wrapper,"position"),b.initialPointerPosition={left:b.options.position.left,top:b.options.position.top},b.startPosition={left:e.x.client-b.initialWindowPosition.left,top:e.y.client-b.initialWindowPosition.top},b._updateBoundaries(),b.containment||(0<g.length?b.minLeft=u(g)+parseInt(g.css("right"),10)-u(f):b.minLeft=20-u(f),b.minLeft-=h.left,b.minTop=-h.top),b.wrapper.append(d.overlay).children(E).hide(),c(y).css(M,e.currentTarget.css(M)))},drag:function(h){var f,g,b=this.owner,d=b.options.position,e=b.options.draggable.axis;this._preventDragging||b.isMaximized()||(e&&"x"!==e.toLowerCase()||(f=h.x.client-b.startPosition.left,b.containment&&!b._isPinned&&(f+=b.containment.scrollLeft()),d.left=Z(f,b.minLeft,b.maxLeft)),e&&"y"!==e.toLowerCase()||(g=h.y.client-b.startPosition.top,b.containment&&!b._isPinned&&(g+=b.containment.scrollTop()),d.top=Z(g,b.minTop,b.maxTop)),a.support.transforms?c(b.wrapper).css("transform","translate("+(d.left-b.initialPointerPosition.left)+"px, "+(d.top-b.initialPointerPosition.top)+"px)"):c(b.wrapper).css(d))},_finishDrag:function(){var a=this.owner;a.wrapper.children(E).toggle(!a.options.isMinimized).end().find(F).remove(),c(y).css(M,"")},dragcancel:function(a){this._preventDragging||(this._finishDrag(),a.currentTarget.closest(B).css(this.owner.initialWindowPosition))},dragend:function(){var a=this.owner;if(!this._preventDragging&&!a.isMaximized())return c(a.wrapper).css(a.options.position).css("transform",""),this._finishDrag(),a.trigger("dragend"),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},a.ui.plugin(m)}(window.kendo.jQuery),window.kendo})